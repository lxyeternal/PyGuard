Run started:2025-04-12 15:11:53.562734

Test results:
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/setup.py:60
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
59	    author_email="zach.mueller@huggingface.co",
60	    url="https://github.com/huggingface/accelerate",
61	    package_dir={"": "src"},

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/accelerator.py:1569
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
1568	                raise ValueError(
1569	                    "You can't train a model that has been loaded in 8-bit or 4-bit precision with CPU or disk offload. "
1570	                    "If you want train the 8-bit or 4-bit model in CPU, please install bitsandbytes with multi-backend, see https://huggingface.co/docs/bitsandbytes/main/en/installation#multi-backend"
1571	                )

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/accelerator.py:2188
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
2187	                raise ImportError(
2188	                    "IPEX is not installed or IPEX's version does not match current PyTorch version. Please refer"
2189	                    " to https://github.com/intel/intel-extension-for-pytorch."
2190	                )

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/accelerator.py:3134
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
3133	                content = json.dumps(index, indent=2, sort_keys=True) + "\n"
3134	                f.write(content)
3135	            logger.info(

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/accelerator.py:3233
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
3232	                for folder in folders[: len(folders) + 1 - self.project_configuration.total_limit]:
3233	                    shutil.rmtree(folder)
3234	            output_dir = os.path.join(output_dir, f"checkpoint_{self.save_iteration}")

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/commands/config/cluster.py:335
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
334	                    deepspeed_config["deepspeed_hostfile"] = _ask_field(
335	                        "DeepSpeed configures multi-node compute resources with hostfile. "
336	                        "Each row is of the format `hostname slots=[num_gpus]`, e.g., `localhost slots=2`; "
337	                        "for more information please refer official [documentation]"
338	                        "(https://www.deepspeed.ai/getting-started/#resource-configuration-multi-node). "
339	                        "Please specify the location of hostfile: ",
340	                        str,
341	                    )
342	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/commands/config/config_args.py:146
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
145	            content = json.dumps(self.to_dict(), indent=2, sort_keys=True) + "\n"
146	            f.write(content)
147	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/commands/launch.py:228
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
227	        choices=["no"] + [b.lower() for b in DYNAMO_BACKENDS],
228	        help="Choose a backend to optimize your training with dynamo, see more at "
229	        "https://github.com/pytorch/torchdynamo.",

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/commands/menu/cursor.py:42
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
41	    elif os.name == "posix":
42	        sys.stdout.write("\033[?25l")
43	        sys.stdout.flush()

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/commands/menu/cursor.py:54
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
53	    elif os.name == "posix":
54	        sys.stdout.write("\033[?25h")
55	        sys.stdout.flush()

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/commands/menu/keymap.py:106
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
105	            tty.setraw(fd)
106	            ch = sys.stdin.read(1)
107	        finally:

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/commands/tpu.py:105
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
104	    if args.accelerate_version == "dev":
105	        args.accelerate_version = "git+https://github.com/huggingface/accelerate.git"
106	    elif args.accelerate_version == "latest":

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/commands/tpu.py:116
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
115	        with open(args.command_file) as f:
116	            args.command = [f.read().splitlines()]
117	

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/launchers.py:46
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
45	    use_port="29500",
46	    master_addr="127.0.0.1",
47	    node_rank=0,
48	    num_nodes=1,
49	    rdzv_backend="static",
50	    rdzv_endpoint="",
51	    rdzv_conf=None,
52	    rdzv_id="none",
53	    max_restarts=0,
54	    monitor_interval=0.1,
55	    log_line_prefix_template=None,
56	):
57	    """
58	    Launches a training function, using several processes or multiple nodes if it's possible in the current environment
59	    (TPU with multiple cores for instance).
60	
61	    <Tip warning={true}>

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/launchers.py:294
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
293	            world_size=num_processes,
294	            master_addr="127.0.0.1",
295	            master_port="29500",

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/test_utils/scripts/test_merge_weights.py:160
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
159	            if accelerator.is_main_process:
160	                shutil.rmtree(out_path)
161	            accelerator.wait_for_everyone()

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/test_utils/testing.py:593
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
592	        if os.path.exists(cls.tmpdir):
593	            shutil.rmtree(cls.tmpdir)
594	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/test_utils/testing.py:602
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
601	                elif path.is_dir():
602	                    shutil.rmtree(path)
603	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/bnb.py:260
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
259	                    raise ValueError(
260	                        """
261	                        Some modules are dispatched on the CPU or the disk. Make sure you have enough GPU RAM to fit
262	                        the quantized model. If you want to dispatch the model on the CPU or the disk while keeping

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/dataclasses.py:851
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
850	        metadata={
851	            "help": "If set to `True`, the dataloader prepared by the Accelerator will be backed by "
852	            "[torchdata.StatefulDataLoader](https://github.com/pytorch/data/tree/main/torchdata/stateful_dataloader). This requires `torchdata` version 0.8.0 or higher that supports StatefulDataLoader to be installed."
853	        },

--------------------------------------------------
>> Issue: [B801:b64decode] base64.b64decode
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/deepspeed.py:151
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b801_b64decode.html
150	                    # If that fails, try base64 decoding
151	                    config_decoded = base64.urlsafe_b64decode(config_file_or_dict).decode("utf-8")
152	                    config = json.loads(config_decoded)

--------------------------------------------------
>> Issue: [B812:system] os.system
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/environment.py:105
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b812_system.html
104	    """
105	    if platform.system() == "Windows":
106	        # If platform is Windows and nvidia-smi can't be found in path

--------------------------------------------------
>> Issue: [B817:system] platform.system
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/environment.py:105
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b817_system.html
104	    """
105	    if platform.system() == "Windows":
106	        # If platform is Windows and nvidia-smi can't be found in path

--------------------------------------------------
>> Issue: [B308:blacklist] platform.system
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/environment.py:105
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b308-platform-system
104	    """
105	    if platform.system() == "Windows":
106	        # If platform is Windows and nvidia-smi can't be found in path

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/fsdp_utils.py:380
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
379	            logger.info(f"Removing old checkpoint directory {checkpoint_dir}")
380	            shutil.rmtree(checkpoint_dir)
381	    state.wait_for_everyone()

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/launch.py:157
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
156	    elif args.num_processes > 1:
157	        current_env["MASTER_ADDR"] = args.main_process_ip if args.main_process_ip is not None else "127.0.0.1"
158	        current_env["MASTER_PORT"] = str(args.main_process_port) if args.main_process_port is not None else "29500"

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/modeling.py:1897
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
1896	        with open(index_filename) as f:
1897	            index = json.loads(f.read())
1898	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/modeling.py:2002
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
2001	        load_offloaded_weights(model, state_dict_index, state_dict_folder)
2002	        shutil.rmtree(state_dict_folder)
2003	

--------------------------------------------------
>> Issue: [B304:blacklist] socket.socket
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/other.py:306
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b304-b305-ciphers-and-modes
305	        port = 29500
306	    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
307	        return s.connect_ex(("localhost", port)) == 0

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/src/accelerate/utils/torch_xla.py:47
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
46	        torch_version_trunc = torch_version[: torch_version.rindex(".")]
47	        xla_wheel = f"https://storage.googleapis.com/tpu-pytorch/wheels/colab/torch_xla-{torch_version_trunc}-cp37-cp37m-linux_x86_64.whl"
48	        xla_install_cmd = ["pip", "install", xla_wheel]

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_examples.py:168
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
167	        super().tearDownClass()
168	        shutil.rmtree(cls._tmpdir)
169	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_state_checkpointing.py:244
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
243	            finally:
244	                shutil.rmtree(rand_dir)
245	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_state_checkpointing.py:402
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
401	        if os.path.exists(savedir):
402	            shutil.rmtree(savedir)
403	        os.makedirs(savedir)

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_state_checkpointing.py:443
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
442	    if accelerator.process_index == 0:
443	        shutil.rmtree(savedir)
444	    accelerator.wait_for_everyone()

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_tracking.py:112
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
111	            with open(log, "rb") as f:
112	                data = f.read()
113	            found_tensor = False

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_tracking.py:267
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
266	        with open(dummy_file_path, "w") as f:
267	            f.write("dummy content")
268	        tracker = MLflowTracker(experiment_name="test_exp", logging_dir=self.tmpdir.name)

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_tracking.py:267
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
266	        with open(dummy_file_path, "w") as f:
267	            f.write("dummy content")
268	        tracker = MLflowTracker(experiment_name="test_exp", logging_dir=self.tmpdir.name)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_tracking.py:292
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
291	        with open(dummy_file_path, "w") as f:
292	            f.write("dummy content")
293	        tracker = MLflowTracker(experiment_name="test_exp", logging_dir=self.tmpdir.name)

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_tracking.py:292
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
291	        with open(dummy_file_path, "w") as f:
292	            f.write("dummy content")
293	        tracker = MLflowTracker(experiment_name="test_exp", logging_dir=self.tmpdir.name)

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_tracking.py:342
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
341	            archive = zipfile.ZipFile(p, "r")
342	            log = archive.open("messages.json").read().decode("utf-8")
343	        list_of_json = log.split("\n")[:-1]

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/accelerate-1.6.0/accelerate-1.6.0/tests/test_tracking.py:363
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
362	            archive = zipfile.ZipFile(p, "r")
363	            log = archive.open("messages.json").read().decode("utf-8")
364	        list_of_json = log.split("\n")[:-1]

--------------------------------------------------

Code scanned:
	Total lines of code: 32385
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 14.0
		High: 27.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 39.0
		High: 2.0
Files skipped (0):
