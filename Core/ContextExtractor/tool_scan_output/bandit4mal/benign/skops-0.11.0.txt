Run started:2025-04-12 13:44:10.459089

Test results:
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/docs/conf.py:120
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
119	    url_fmt = (
120	        "https://github.com/skops-dev/skops/blob/{revision}/{package}/{path}#L{lineno}"
121	    )
122	    revision = _get_git_revision()
123	    return url_fmt.format(revision=revision, package=package, path=fn, lineno=lineno)

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/docs/conf.py:146
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
145	intersphinx_mapping = {
146	    "python": ("https://docs.python.org/3", None),
147	    "numpy": ("https://docs.scipy.org/doc/numpy/", None),

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/docs/conf.py:147
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
146	    "python": ("https://docs.python.org/3", None),
147	    "numpy": ("https://docs.scipy.org/doc/numpy/", None),
148	    "sklearn": ("https://scikit-learn.org/stable/", None),

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/docs/conf.py:148
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
147	    "numpy": ("https://docs.scipy.org/doc/numpy/", None),
148	    "sklearn": ("https://scikit-learn.org/stable/", None),
149	    "pandas": ("https://pandas.pydata.org/docs/", None),

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/docs/conf.py:149
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
148	    "sklearn": ("https://scikit-learn.org/stable/", None),
149	    "pandas": ("https://pandas.pydata.org/docs/", None),
150	    "joblib": ("https://joblib.readthedocs.io/en/latest/", None),

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/docs/conf.py:150
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
149	    "pandas": ("https://pandas.pydata.org/docs/", None),
150	    "joblib": ("https://joblib.readthedocs.io/en/latest/", None),
151	    "huggingface_hub": ("https://huggingface.co/docs/huggingface_hub/main/en", None),

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/docs/conf.py:151
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
150	    "joblib": ("https://joblib.readthedocs.io/en/latest/", None),
151	    "huggingface_hub": ("https://huggingface.co/docs/huggingface_hub/main/en", None),
152	    "fairlearn": ("https://fairlearn.org/v0.8/", None),

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/docs/conf.py:152
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
151	    "huggingface_hub": ("https://huggingface.co/docs/huggingface_hub/main/en", None),
152	    "fairlearn": ("https://fairlearn.org/v0.8/", None),
153	}

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/examples/plot_custom_model_card.py:69
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
68	link = (
69	    "https://scikit-learn.org/stable"
70	    "/auto_examples/release_highlights/plot_release_highlights_0_24_0.html"
71	    "#individual-conditional-expectation-plots"
72	)
73	dataset_name = "California Housing"
74	custom_template = {

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/card/_parser.py:196
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
195	        msg = (
196	            "This feature requires the pandoc library to be installed on your system, "
197	            "please follow these install instructions: "
198	            "https://pandoc.org/installing.html."
199	        )
200	        raise FileNotFoundError(msg) from exc
201	

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/card/_parser.py:257
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
256	    with open(file, "w") as f:
257	        f.write(text_clean)
258	    return file, metainfo

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/card/_templates.py:131
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
130	    "Environmental Impact": (
131	        "Carbon emissions can be estimated using the "
132	        "[Machine Learning Impact calculator](https://mlco2.github.io/impact#compute) "
133	        "presented in [Lacoste et al. (2019)](https://arxiv.org/abs/1910.09700)."
134	    ),
135	    # Total emissions (in grams of CO2eq) and additional considerations, such as
136	    # electricity usage, go here. Edit the suggested text below accordingly"
137	    "Environmental Impact/Hardware Type": CONTENT_PLACEHOLDER,
138	    "Environmental Impact/Hours used": CONTENT_PLACEHOLDER,
139	    "Environmental Impact/Cloud Provider": CONTENT_PLACEHOLDER,
140	    "Environmental Impact/Compute Region": CONTENT_PLACEHOLDER,
141	    "Environmental Impact/Carbon Emitted": CONTENT_PLACEHOLDER,
142	
143	    "Technical Specifications [optional]": "",
144	    "Technical Specifications [optional]/Model Architecture and Objective":
145	        CONTENT_PLACEHOLDER,
146	    "Technical Specifications [optional]/Compute Infrastructure":
147	        CONTENT_PLACEHOLDER,
148	    "Technical Specifications [optional]/Compute Infrastructure/Hardware":
149	        CONTENT_PLACEHOLDER,
150	    "Technical Specifications [optional]/Compute Infrastructure/Software":
151	        CONTENT_PLACEHOLDER,
152	
153	    "Citation [optional]": "",
154	    # If there is a paper or blog post introducing the model, the APA and Bibtex
155	    # information for that should go in this section.
156	    "Citation [optional]/BibTeX": CONTENT_PLACEHOLDER,
157	    "Citation [optional]/APA": CONTENT_PLACEHOLDER,
158	
159	    "Glossary [optional]": "",
160	    # If relevant, include terms and calculations in this section that can help
161	    # readers understand the model or model card.
162	
163	    "More Information [optional]": CONTENT_PLACEHOLDER,
164	    "Model Card Authors [optional]": CONTENT_PLACEHOLDER,
165	    "Model Card Contact": CONTENT_PLACEHOLDER,
166	    "How to Get Started with the Model":
167	        f"""Use the code below to get started with the model.
168	
169	<details>
170	<summary> Click to expand </summary>
171	
172	{CONTENT_PLACEHOLDER}
173	
174	</details>""",
175	}
176	# fmt: on

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/card/tests/test_card.py:799
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
798	        with open(file_name, "r", encoding="utf-8") as f:
799	            loaded = f.read()
800	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/card/tests/test_card.py:1770
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
1769	        with open(file, "r") as f:
1770	            loaded = f.read()
1771	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/cli/_convert.py:58
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
57	        logger.debug(f"Writing to {output_file}")
58	        out_file.write(skops_dump)
59	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/_hf_hub.py:407
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
406	    except Exception:
407	        shutil.rmtree(dst)
408	        raise

--------------------------------------------------
>> Issue: [B837:rmdir] pathlib.Path.rmdir
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/_hf_hub.py:674
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b837_rmdir.html
673	    if dst.exists():
674	        dst.rmdir()
675	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/_hf_hub.py:684
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
683	    if not keep_cache:
684	        shutil.rmtree(path=cached_folder)
685	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:125
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
124	    dir_path = tempfile.mkdtemp()
125	    shutil.rmtree(dir_path)
126	    with pytest.raises(ValueError, match="Cannot determine the input file*"):

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:281
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
280	    dir_path = tempfile.mkdtemp()
281	    shutil.rmtree(dir_path)
282	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:308
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
307	    dir_path = tempfile.mkdtemp()
308	    shutil.rmtree(dir_path)
309	    version = metadata.version("scikit-learn")

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:327
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
326	    dir_path = tempfile.mkdtemp()
327	    shutil.rmtree(dir_path)
328	    version = metadata.version("scikit-learn")

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:349
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
348	    dir_path = tempfile.mkdtemp()
349	    shutil.rmtree(dir_path)
350	    version = metadata.version("scikit-learn")

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:572
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
571	        dir_path = tempfile.mkdtemp()
572	        shutil.rmtree(dir_path)
573	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:588
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
587	        with open(filename, "w") as f:
588	            f.write("")
589	        yield filename

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:588
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
587	        with open(filename, "w") as f:
588	            f.write("")
589	        yield filename

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:595
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
594	        with open(filename, "w") as f:
595	            f.write("")
596	        yield filename

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:595
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
594	        with open(filename, "w") as f:
595	            f.write("")
596	        yield filename

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/hub_utils/tests/test_hf_hub.py:623
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
622	        dst = tempfile.mkdtemp()
623	        shutil.rmtree(dst)
624	        msg = (

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/io/_audit.py:264
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
263	                    raise ValueError(
264	                        f"Cannot determine the safety of type {type(child)}. Please"
265	                        " open an issue at https://github.com/skops-dev/skops/issues"

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/io/_numpy.py:47
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
46	        raise UnsupportedTypeException(
47	            f"numpy arrays of dtype {obj.dtype} are not supported yet, please "
48	            "open an issue at https://github.com/skops-dev/skops/issues and "

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/io/_visualize.py:148
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
147	            raise ValueError(
148	                "While constructing the tree of the object, a level difference of "
149	                f"{level_diff} was encountered, which should not be possible, please "
150	                "report the issue here: https://github.com/skops-dev/skops/issues"

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/io/_visualize.py:228
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
227	        raise ValueError(
228	            "An invalid 'key_types' node was encountered, please report the issue "
229	            "here: https://github.com/skops-dev/skops/issues"
230	        )

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/io/_visualize.py:257
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
256	        raise TypeError(
257	            f"Cannot deal with {type(node)}, please report the issue here: "
258	            "https://github.com/skops-dev/skops/issues"

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/io/tests/_utils.py:264
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
263	    with ZipFile(io.BytesIO(data), "r") as zip_file:
264	        schema = json.loads(zip_file.read("schema.json"))
265	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/io/tests/test_persist.py:596
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
595	    dumped = dumps(estimator)
596	    schema = json.loads(ZipFile(io.BytesIO(dumped)).read("schema.json"))
597	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/skops/io/tests/test_persist.py:876
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
875	    # check that schema is valid json by loading it
876	    json.loads(ZipFile(f_name).read("schema.json"))
877	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/app.py:54
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
53	else:
54	    st.write("Something went wrong, please open an issue")

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/app.py:54
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
53	else:
54	    st.write("Something went wrong, please open an issue")

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/create.py:43
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
42	        with open(path / "README.md", "w") as f:
43	            f.write(rendered)
44	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/create.py:56
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
55	    tip = (
56	        "Private repositories can only seen by you or members of the same "
57	        "organization, see https://huggingface.co/docs/hub/repositories-settings"
58	    )
59	    st.checkbox(
60	        "Make repository private", value=True, help=tip, key="create_repo_private"

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/create.py:69
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
68	def _hf_token_field():
69	    tip = "The Hugging Face token can be found at https://hf.co/settings/token"
70	    st.text_input("Enter your Hugging Face token ('hf_***')", key="hf_token", help=tip)

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/create.py:89
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
88	
89	    st.success(f"Successfully created the repo 'https://huggingface.co/{repo_name}'")
90	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/gethelp.py:11
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
10	
11	help_md = """# Create a Hugging Face model repository for scikit learn models
12	
13	This page aims to provide a simple interface to use the
14	[`skops`](https://skops.readthedocs.io/) model card and HF Hub creation
15	utilities.
16	
17	Below, we will explain the steps involved to create your own model repository to
18	host your scikit-learn model:
19	
20	1. Prepare the model repository
21	2. Edit the model card
22	3. Create the model repository on Hugging Face Hub
23	
24	## Step 1: Prepare the model repository
25	
26	In this step, you do the necessary preparation work to create a [model
27	repository on Hugging Face Hub](https://huggingface.co/docs/hub/models).
28	
29	### Upload a model
30	
31	Here you should upload the sklearn model we want to present in the model
32	repository. The model should be stored either as a ``pickle`` file or it should
33	use the [secure skops persistence
34	format](https://skops.readthedocs.io/en/stable/persistence.html). Later, this
35	model will be uploaded to the model repository so that you can share it with
36	others.
37	
38	The uploaded model should be a scikit-learn model or a model that is compatible
39	with the sklearn API, e.g. using [XGBoost sklearn
40	wrapper](https://xgboost.readthedocs.io/en/stable/python/python_api.html#module-xgboost.sklearn)
41	when it's an XGBoost model.
42	
43	If you just want to test out the application and don't want to upload a model, a
44	dummy model will be used instead.
45	
46	### Upload input data
47	
48	It's possible to upload input data as a csv file. If that is done, the first few
49	rows of the input data will be used as sample data for the model, e.g. when
50	trying out the [inference API](https://huggingface.co/inference-api).
51	
52	
53	### Choose the task type
54	
55	Choose the type of task that the model is intended to solve. It can be either
56	classification or regression, with input data being either tabular in nature or
57	text.
58	
59	### Requirements
60	
61	This is the list of Python requirements needed to run the model.
62	
63	### Choose the model card template
64	
65	This is the final step and choosing one of the options will bring you to the
66	editing step.
67	
68	#### Create a new skops model card
69	
70	This is the recommended way of getting started. The skops model card template
71	prefills the model card with some [useful
72	contents](https://skops.readthedocs.io/en/stable/model_card.html#model-card-content)
73	that you probably want to have in most model cards. Don't worry: If you don't
74	like part of the content, you can always edit or delete it later.
75	
76	#### Create a new empty model card
77	
78	If you want to start the model card completely from scratch, that's also
79	possible by choosing this option. It will generate a completely empty model card
80	for you that you can fashion to your liking.
81	
82	#### Load existing model card from HF Hub
83	
84	If you want to use an existing model card and edit it, that's also possible.
85	Please enter the Hugging Face Hub repository ID here and the corresponding model
86	card will be loaded. The repo ID is typically someting like `username/reponame`,
87	e.g. `openai/whisper-small`. Some models also omit the user name, e.g. `gpt2`.
88	
89	Note that when you choose an existing model card, a couple of files will be
90	downloaded, because they may be required to render the model card (e.g. images).
91	Therefore, depending on the repository, this step may take a bit.
92	
93	If you notice any problems when rendering the existing model card, please let us
94	know by [creating an issue](https://github.com/skops-dev/skops/issues).
95	
96	## Step 2: Edit the model card
97	
98	Before creating the model repository, it is crucial to ensure that the [model
99	card](https://huggingface.co/blog/model-cards) is edited to best represent the
100	model you're working on. This can be achieved in the editing step, which is
101	described in more detail below.
102	
103	### Editing sidbar
104	
105	In the left sidebar, you will be able to edit the model card, whereas the main
106	screen is reserved for rendering the model card so that you see what you will
107	get. We will start by describing the editing sidebar.
108	
109	Tip: You should increase the width of the side bar if it is too narrow for your
110	taste.
111	
112	#### Undo, redo & reset
113	
114	On top of the side bar, you have the option to undo, redo, and reset the last
115	operation you did. Say, you accidentally made a change, just press the `Undo`
116	button to undo this change. Similarly, if you want to undo your undo operation,
117	press the `Redo` button. Finally, if you press `Reset`, all your operations will
118	be undone (but don't worry if you click the button accidentally, you can redo
119	all of them if you want).
120	
121	#### Save, create repo & delete
122	
123	These buttons are intended for when you finished editing the model card. When
124	you click on `Save`, you will get the option to download the model card as a
125	markdown file.
126	
127	When clicking the `Create Repo` button, you will be taken to the next screen,
128	which offers you to create a model repository on Hugging Face Hub. This step
129	will be explained in more detail further below.
130	
131	Finally, you can click on `Delete` to completely discard all the changes you
132	made and be taken back to the start screen of the app. Be careful, any change
133	you made will be lost. It is thus advised to first save the model card before
134	pressing `Delete`.
135	
136	#### Edit a section
137	
138	Each section has its own form field, which allows you to make edits. Change the
139	name of the section or change the content (or both), then click `Update` to see
140	a preview of your change. As with all other operations, you can undo the change
141	by clicking on `Undo`.
142	
143	#### Delete a section
144	
145	Below the form field for editing the section, you will find a `Delete` button
146	(including the name of the section to make it clear which section it refers to).
147	If you click that button, the whole section, _including its subsections_, will
148	be deleted. Again, click on `Undo` if you accidentally deleted something that
149	you want to keep.
150	
151	#### Add section below
152	
153	If you click on this button, a new subsection wil be created under the current
154	section. This will create a section with a dummy title and dummy content, which
155	you can then edit.
156	
157	Note that this will create a new _subsection_. If there are already existing
158	subsections in the current section, the new subsection will be created _below_
159	those existing subsections. So the new subsection you create might not appear
160	exactly where you expect it to appear. To illustrate this, assume that we have
161	the following sections and subsections:
162	
163	- Section A
164	  - Subsection A.1
165	  - Subsection A.2
166	- Section B
167	
168	If you create a new section below "Section A", it will be created on the same
169	level, and below of, "Subsection A.2", resulting in the following structure:
170	
171	- Section A
172	  - Subsection A.1
173	  - Subsection A.2
174	  - NEW SUBSECTION
175	- Section B
176	
177	If you create a new section below the "Subsection A.1", you will actually create
178	a sub-subsection, resulting in the following structure instead:
179	
180	- Section A
181	  - Subsection A.1
182	    - NEW SUB-SUBSECTION
183	  - Subsection A.2
184	- Section B
185	
186	Hopefully, this clarifies things. Unfortunately, there is no possibility (yet)
187	to re-order sections.
188	
189	#### Add figure below
190	
191	This button works quite similarly to adding a new section. The main difference
192	is that instead of having a text area to enter content, you will be asked to
193	upload an image file. By default, a dummy image will be shown in the preview.
194	
195	#### Add metrics (only skops template)
196	
197	If you have chosen the skops template, you will see an additional field called
198	`Add metrics` near the top of the side bar. Here you can choose metrics you want
199	to be shown in the model card, e.g. the accuracy the model achieved on a
200	specific dataset. Please enter one metric per line, with the metric name on the
201	left, then an `=` sign, and the value on the right, e.g. `accuracy on test set =
202	0.85`.
203	
204	After pressing `update`, the metrics will be shown in a table in the section
205	`Model description/Evaluation Results`. You can always add or remove metrics
206	from this field later. If you want to delete this section completely, look for
207	its edit form further below and press `Delete`. There, you can also edit the
208	table in a more fine grained way, e.g. by changing the alignment.
209	
210	If you don't use the skops template and still want to add a table, it is
211	possible to do that, but it's requires a bit more work. Add a new section as
212	described above, then, in the text area, create a table using the [markdown
213	table
214	syntax](https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/organizing-information-with-tables#creating-a-table).
215	
216	### Model card visualization
217	
218	The main part of the page will show you what the final model card will look
219	like.
220	
221	#### Metadata
222	
223	On the very top, you can see the metadata of the model card (it is collapsed by
224	default). The metadata can be very useful for features on the HF Hub, e.g.
225	allowing other users to find your model by a given tag.
226	
227	Right now, it is not possible to edit the metadata directly from here. But don't
228	worry, once you have created the model card repository, you can easily edit the
229	metadata there.
230	
231	#### Table of Contents
232	
233	For your convenience, a table of contents is also shown at the top (collapsed by
234	default). This is useful if you have a bigger model card and want to see the
235	overview of all its contents.
236	
237	#### Markdown preview
238	
239	Finally, the model card itself is shown. This is how the model card will look
240	like once it is saved as markdown and then rendered.
241	
242	## Step 3: Creating a model repository
243	
244	After you have finished editing the model card, it is time to create a model
245	repository on Hugging Face Hub. Click on `Create Repo` and you will be taken to
246	the final step of the process.
247	
248	### Back & Delete
249	
250	If you find yourself wanting to make more edits to the model card, just click on
251	the `Back` button and you'll be brought back to the editing step.
252	
253	You can also click `Delete`, which will discard all your changes and bring you
254	back to the start page. Be careful: This step cannot be undone and all your
255	progress will be lost.
256	
257	### Files included in the repository
258	
259	For your convenience, this will show a preview of all the files included in the
260	repository, as well as their sizes. Don't create a repository if you see files
261	there that you don't want to be uploaded.
262	
263	### Privacy settings
264	
265	By default, a private repository will be created. If you untick this box, it
266	will be public instead. More information on what that implies can be found in
267	the [docs on repository
268	settings](https://huggingface.co/docs/hub/repositories-settings).
269	
270	### Name of the repository
271	
272	Here you have to enter the name of the repository. Typically, that's something
273	like `username/reponame` or `organame/reponame`. This field is mandatory and you
274	should ensure that the corresponding repository ID does not exist yet.
275	
276	### Enter your Hugging Face token
277	
278	Here you need to paste your Hugging Face token, which is used for
279	authentication. The token can be found [here](https://hf.co/settings/token) and
280	it always starts with "hf_". Entering a token is necessary to create a
281	repository.
282	
283	Note that if you don't already have an account on Hugging Face, you need to
284	create one to get a token. It's free.
285	
286	### Create a new repository
287	
288	Once all the required fields are filled, click on this button to create the
289	repository. Depending on the size, it may take a couple of seconds to finish.
290	Once it is created, you will see a success notification that includes the link
291	to the repository. Congratulations, you're done!
292	
293	## Troubleshooting
294	
295	### Not all skops features available
296	
297	This app is based on the [skops model card
298	feature](https://skops.readthedocs.io/en/stable/model_card.html#model-card-content).
299	However, it does not support all the options that are available there. If you
300	want to use all those options in a programmatic fashion, please follow the link
301	and read up on what it takes to create a model card with skops. The full power
302	of the `Card` class is documented
303	[here](https://skops.readthedocs.io/en/stable/modules/classes.html#skops.card.Card).
304	
305	### Strange behavior
306	
307	If the app behaves strangely, shows error messages, or renders incorrectly, it
308	may be necessary to refresh the browser tab. This will take you back to the
309	start page, with all progress being lost. If you can reproduce that behavior,
310	please [creating an issue](https://github.com/skops-dev/skops/issues) and let us
311	know.
312	
313	### Contact
314	
315	If you want to contact us, you can join our discord channel. To do that, follow
316	[these
317	instructions](https://skops.readthedocs.io/en/stable/community.html#discord).
318	"""
319	
320	
321	def add_help_content():

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/start.py:34
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
33	tmp_path = Path(mkdtemp(prefix="skops-"))  # temporary files
34	description = """Create a Hugging Face model repository for scikit learn models
35	
36	This page aims to provide a simple interface to use the
37	[`skops`](https://skops.readthedocs.io/) model card and HF Hub creation
38	utilities.
39	
40	"""
41	
42	
43	def load_model() -> None:

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/start.py:73
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
72	        elif os.path.isdir(file_path):
73	            shutil.rmtree(file_path)
74	

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/tasks.py:265
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
264	        with open(self.new_path, "wb") as f:
265	            f.write(self.new_data.getvalue())
266	

--------------------------------------------------
>> Issue: [B802:b64encode] base64.b64encode
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/utils.py:54
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b802_b64encode.html
53	        img_bytes = Path(img_path).read_bytes()
54	        encoded = base64.b64encode(img_bytes).decode()
55	        return encoded

--------------------------------------------------
>> Issue: [B301:blacklist] base64.b64encode
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/skops-0.11.0/skops-0.11.0/spaces/skops_model_card_creator/utils.py:54
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b301-base64-b64encode
53	        img_bytes = Path(img_path).read_bytes()
54	        encoded = base64.b64encode(img_bytes).decode()
55	        return encoded

--------------------------------------------------

Code scanned:
	Total lines of code: 11941
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 22.0
		High: 27.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 48.0
		High: 1.0
Files skipped (0):
