Run started:2025-04-13 07:16:11.115298

Test results:
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/autots/deprecated/model/time_sequence.py:263
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
262	                    for filename in filenames:
263	                        f.write(os.path.join(dirpath, filename), filename)
264	            invalidInputError(os.path.isfile(checkpoint_file),

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/autots/deprecated/model/time_sequence.py:263
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
262	                    for filename in filenames:
263	                        f.write(os.path.join(dirpath, filename), filename)
264	            invalidInputError(os.path.isfile(checkpoint_file),

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/autots/deprecated/model/time_sequence.py:267
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
266	        finally:
267	            shutil.rmtree(dirname)
268	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/autots/deprecated/model/time_sequence.py:284
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
283	        finally:
284	            shutil.rmtree(dirname)
285	

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/prometheus_df.py:96
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
95	    def _do_query(self, path: str, params: dict) -> dict:
96	        resp = self.http.get(urljoin(self.api_url, path), params=params)
97	        if resp.status_code not in [400, 422, 503]:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/prometheus_df.py:130
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
129	    """Convert metric labels to standard form."""
130	    name = metric.get('__name__', '')
131	    labels = ','.join(('{}={}'.format(k, json.dumps(v)) for k, v in metric.items()

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:46
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
45	    {'network_traffic':
46	     [f'https://mawi.wide.ad.jp/~agurim/dataset/{val[:-4]}/{val}'
47	      for val in DATASET_NAME['network_traffic']],

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:49
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
48	     'AIOps':
49	     ['https://clusterdata2018pubcn.oss-cn-beijing.aliyuncs.com/machine_usage.tar.gz'],
50	     'fsi':
51	     ['https://github.com/CNuge/kaggle-code/raw/master/stock_data/individual_stocks_5yr.zip'],

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:51
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
50	     'fsi':
51	     ['https://github.com/CNuge/kaggle-code/raw/master/stock_data/individual_stocks_5yr.zip'],
52	     'nyc_taxi':
53	     ['https://raw.githubusercontent.com/numenta/NAB/v1.0/data/realKnownCause/nyc_taxi.csv'],

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:53
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
52	     'nyc_taxi':
53	     ['https://raw.githubusercontent.com/numenta/NAB/v1.0/data/realKnownCause/nyc_taxi.csv'],
54	     'uci_electricity':
55	     ['https://archive.ics.uci.edu/ml/machine-learning-databases/00321/LD2011_2014.txt.zip'],

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:55
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
54	     'uci_electricity':
55	     ['https://archive.ics.uci.edu/ml/machine-learning-databases/00321/LD2011_2014.txt.zip'],
56	     'uci_electricity_wide':
57	     ['https://archive.ics.uci.edu/ml/machine-learning-databases/00321/LD2011_2014.txt.zip'],

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:57
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
56	     'uci_electricity_wide':
57	     ['https://archive.ics.uci.edu/ml/machine-learning-databases/00321/LD2011_2014.txt.zip'],
58	     "tsinghua_electricity":
59	     None}

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:67
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
66	        self.redownload = redownload
67	        self.with_split = kwargs.get('with_split', True)
68	        self.val_ratio = kwargs.get('val_ratio', 0.1)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:68
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
67	        self.with_split = kwargs.get('with_split', True)
68	        self.val_ratio = kwargs.get('val_ratio', 0.1)
69	        self.test_ratio = kwargs.get('test_ratio', 0.1)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:69
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
68	        self.val_ratio = kwargs.get('val_ratio', 0.1)
69	        self.test_ratio = kwargs.get('test_ratio', 0.1)
70	

--------------------------------------------------
>> Issue: [B834:open] tarfile.open
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:106
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b834_open.html
105	            for val in DATASET_NAME[self.name]:
106	                with open(os.path.join(self.dir_path, val), 'r') as f:
107	                    content = f.read()

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:107
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
106	                with open(os.path.join(self.dir_path, val), 'r') as f:
107	                    content = f.read()
108	                    result = re.findall(pattern, content, re.DOTALL)

--------------------------------------------------
>> Issue: [B834:open] tarfile.open
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:137
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b834_open.html
136	            if not os.path.exists(tar_file):
137	                with tarfile.open(file_path, 'r:gz') as tar:
138	                    tar.extractall(os.path.expanduser(self.dir_path))

--------------------------------------------------
>> Issue: [B834:open] tarfile.open
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:198
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b834_open.html
197	        if not os.path.exists(self.final_file_path):
198	            with open(raw_csv_name, 'rb') as src, open(self.final_file_path, 'wb') as dst:
199	                dst.write(src.read())

--------------------------------------------------
>> Issue: [B834:open] tarfile.open
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:198
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b834_open.html
197	        if not os.path.exists(self.final_file_path):
198	            with open(raw_csv_name, 'rb') as src, open(self.final_file_path, 'wb') as dst:
199	                dst.write(src.read())

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:199
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
198	            with open(raw_csv_name, 'rb') as src, open(self.final_file_path, 'wb') as dst:
199	                dst.write(src.read())
200	        self.df = pd.read_csv(self.final_file_path, parse_dates=['timestamp'])

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:199
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
198	            with open(raw_csv_name, 'rb') as src, open(self.final_file_path, 'wb') as dst:
199	                dst.write(src.read())
200	        self.df = pd.read_csv(self.final_file_path, parse_dates=['timestamp'])

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:248
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
247	        invalidInputError(os.path.exists(self.final_file_path),
248	                          "tsinghua_electricity does not support automatic downloading, "
249	                          "users should download manually from "
250	                          "https://github.com/thuml/Autoformer#get-started and put to "
251	                          f"{self.path}/electricity.csv")
252	        self.df = pd.read_csv(self.final_file_path, parse_dates=["date"])

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:294
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
293	    from bigdl.nano.utils.common import invalidInputError
294	    req = requests.get(url, stream=True)
295	    file_size = bytes_convert(int(req.headers['content-length']))

--------------------------------------------------
>> Issue: [B834:open] tarfile.open
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:299
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b834_open.html
298	    logger.info(f"Start download {file_name.partition('.')[0]}, file size: {file_size}")
299	    with open(os.path.join(path, file_name), 'wb') as f:
300	        for chunk in req.iter_content(chunk_size):

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/data/utils/public_dataset.py:302
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
301	            if chunk:
302	                f.write(chunk)
303	                f.flush()

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/forecaster/base_forecaster.py:707
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
706	        if quantize or acceleration:
707	            self.thread_num = set_pytorch_thread(self.optimized_model_thread_num, self.thread_num)
708	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/forecaster/base_forecaster.py:818
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
817	
818	        self.thread_num = set_pytorch_thread(self.optimized_model_thread_num, self.thread_num)
819	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/forecaster/base_forecaster.py:895
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
894	
895	        self.thread_num = set_pytorch_thread(self.optimized_model_thread_num, self.thread_num)
896	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/forecaster/base_forecaster.py:973
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
972	
973	        self.thread_num = set_pytorch_thread(self.optimized_model_thread_num, self.thread_num)
974	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/forecaster/base_forecaster.py:1001
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
1000	                    self.build_jit()
1001	                    self.thread_num = set_pytorch_thread(self.optimized_model_thread_num,
1002	                                                         self.thread_num)
1003	                return _pytorch_fashion_inference(model=self.accelerated_model,

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/forecaster/base_forecaster.py:1312
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
1311	
1312	        self.thread_num = set_pytorch_thread(self.optimized_model_thread_num, self.thread_num)
1313	        if not self.context_enabled:

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/forecaster/utils.py:212
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
211	    import shutil
212	    shutil.rmtree(path)
213	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/pytorch/context_manager.py:58
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
57	        # call `torch.set_num_threads` at most once
58	        self.forecaster.thread_num = set_pytorch_thread(self.thread_num,
59	                                                        self.forecaster.thread_num)
60	        if hasattr(self.forecaster, 'optimized_model_thread_num'):

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/bigdl_chronos_spark2-2.5.0b20240324-py3-none-manylinux1_x86_64/bigdl/chronos/pytorch/context_manager.py:62
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
61	            self.forecaster.optimized_model_thread_num = \
62	                set_pytorch_thread(self.thread_num, self.forecaster.optimized_model_thread_num)
63	        self.forecaster.context_enabled = True

--------------------------------------------------

Code scanned:
	Total lines of code: 21213
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 7.0
		High: 28.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 35.0
		High: 0.0
Files skipped (0):
