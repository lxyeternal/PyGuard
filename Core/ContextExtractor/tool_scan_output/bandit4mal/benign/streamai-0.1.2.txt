Run started:2025-04-13 07:07:48.786485

Test results:
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/setup.py:6
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
5	with open(os.path.join(directory, 'README.md'), encoding='utf-8') as f:
6	  long_description = f.read()
7	

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/generate.py:31
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
30	    prompt_template: str = "",  # The prompt template to use, will default to alpaca.
31	    server_name: str = "0.0.0.0",  # Allows to listen on all interfaces by providing '0.
32	    share_gradio: bool = False,
33	):
34	    base_model = base_model or os.environ.get("BASE_MODEL", "")
35	    assert (
36	        base_model
37	    ), "Please specify a --base_model, e.g. --base_model='huggyllama/llama-7b'"

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/generate.py:194
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
193	        title="âš¡ Scrol-Alpaca-LoRA",
194	        description="Scrol Alpaca Lora is easily finetunable version of alpaca-lora, implemented using [the project's website](https://github.com/tloen/alpaca-lora).",  # noqa: E501
195	    ).queue().launch(server_name="0.0.0.0", share=share_gradio)

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/generate.py:195
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
194	        description="Scrol Alpaca Lora is easily finetunable version of alpaca-lora, implemented using [the project's website](https://github.com/tloen/alpaca-lora).",  # noqa: E501
195	    ).queue().launch(server_name="0.0.0.0", share=share_gradio)
196	    # Old testing code follows.

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/inference.py:31
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
30	    prompt_template: str = "",  # The prompt template to use, will default to alpaca.
31	    server_name: str = "0.0.0.0",  # Allows to listen on all interfaces by providing '0.
32	    share_gradio: bool = False,
33	):
34	    base_model = base_model or os.environ.get("BASE_MODEL", "")
35	    assert (
36	        base_model
37	    ), "Please specify a --base_model, e.g. --base_model='huggyllama/llama-7b'"

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/train.py:32
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
31	    with tqdm(total=total_files, unit='file') as progress_bar:
32	        response = session.post(url, files=files, data=json_data, stream=True)
33	

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/train.py:48
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
47	    print("downloading train dataset...")
48	    with requests.get(url, stream=True) as r:
49	        r.raise_for_status()

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/train.py:55
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
54	                #if chunk:
55	                f.write(chunk)
56	    print("download finished")

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/train.py:75
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
74	    "modelname": output_dir,
75	    "modelrepo": 'https://github.com/corporaai/alpaca-lora.git',
76	    "modelbaseweights": "decapoda/llama",
77	    "trainingtype": "lora"
78	        }
79	    if scrol_token:
80	        with open('dataset.json', 'r') as openfile:
81	            # Reading from json file

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/train.py:87
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
86	            print("uploading finetuned model to storage")
87	            upload_folder("https://scrol-internal-testing.onrender.com/upload-model", output_dir, payload)
88	            # print(res)

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/uptest.py:29
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
28	    with tqdm(total=total_files, unit='file') as progress_bar:
29	        response = session.post(url, files=files, data=json_data, stream=True)
30	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/alpacalora/uptest.py:50
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
49	
50	upload_folder("http://localhost:8080/upload-model", './modeldata', payload)

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/app.py:29
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
28	        print("Starting AI services")
29	        print(f"Inference endpoint -> http://0.0.0.0:{port}/{endpoint_secret}/inference")
30	        print(f"endpoint secret {endpoint_secret}")

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/app.py:35
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
34	            return {"return": f"{output}"}
35	        uvicorn.run(app, host="0.0.0.0", port=8080)

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/llms/alpacalora.py:5
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
4	    def __init__(self, base_model):
5	        require_install = ['accelerate', 'appdirs', 'loralib', 'bitsandbytes', 'black', 'black[jupyter]', 'datasets', 'fire', 'git+https://github.com/huggingface/peft.git', 'transformers>=2.28.0', 'sentencepiece', 'gradio', 'scipy', 'tqdm']
6	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/llms/alpacalora.py:26
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
25	                ],
26	            "demo_dataset":"https://firebasestorage.googleapis.com/v0/b/pdf-analysis-saas.appspot.com/o/Other%2Fdataset.json?alt=media&token=28abd658-a308-4050-b631-54bab9b63a6b"
27	            },
28	            "available_methods":{
29	                "loadmodels":{
30	                    "args":["lora_wights"],
31	                    "desc":"call this to load model immediately after object creation"
32	                },
33	                "train":{
34	                    "arg":["datasetpath"],
35	                    "desc":"training model directly with correct formatted dataset(dataset instruction WIP)"

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/llms/alpacalora.py:48
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
47	        self.prompt_template= ""
48	        self.server_name = "0.0.0.0"
49	        self.model = None

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/llms/mistral.py:6
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
5	    def __init__(self, base_model):
6	        require_install = ['trl', 'accelerate', 'appdirs', 'loralib', 'bitsandbytes', 'black', 'black[jupyter]', 'datasets', 'fire', 'git+https://github.com/huggingface/peft.git', 'transformers>=2.28.0', 'sentencepiece', 'gradio', 'scipy', 'tqdm', 'torch==2.2.0']
7	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/llms/mistral.py:28
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
27	                ],
28	            "demo_dataset":"https://firebasestorage.googleapis.com/v0/b/pdf-analysis-saas.appspot.com/o/Other%2Fdataset.json?alt=media&token=28abd658-a308-4050-b631-54bab9b63a6b"
29	            },
30	            "available_methods":{
31	                "loadmodels":{
32	                    "args":["model_name"],
33	                    "desc":"call this to load model finetuned model with lora weights"
34	                },
35	                "train":{
36	                    "arg":["dataset_url"],
37	                    "desc":"training model directly with correct formatted dataset(dataset instruction WIP)"

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/llms/mistral.py:50
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
49	        self.prompt_template= ""
50	        self.server_name = "0.0.0.0"
51	        self.model = None

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/mistral/inference.py:33
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
32	    prompt_template: str = "",  # The prompt template to use, will default to alpaca.
33	    server_name: str = "0.0.0.0",  # Allows to listen on all interfaces by providing '0.
34	    share_gradio: bool = False,
35	):
36	    base_model = base_model or os.environ.get("BASE_MODEL", "")
37	    assert (
38	        base_model
39	    ), "Please specify a --base_model, e.g. --base_model='huggyllama/llama-7b'"

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/mistral/train.py:30
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
29	    "modelname": output_dir,
30	    "modelrepo": 'https://github.com/corporaai/alpaca-lora.git',
31	    "modelbaseweights": "decapoda/llama",
32	    "trainingtype": "lora"
33	        }
34	    if scrol_token:
35	        with open('dataset.json', 'r') as openfile:
36	            # Reading from json file

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/utils/download.py:13
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
12	            with open(url, 'rb') as infile:
13	                content = infile.read()
14	                with open(local_filename, 'wb') as outfile:

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/utils/download.py:15
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
14	                with open(local_filename, 'wb') as outfile:
15	                    outfile.write(content)
16	            print(f"Content from {url} written to {local_filename}")

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/utils/download.py:19
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
18	            print("Downloading file from URL...")
19	            with requests.get(url, stream=True) as r:
20	                r.raise_for_status()

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/utils/download.py:23
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
22	                    for chunk in r.iter_content(chunk_size=8192):
23	                        f.write(chunk)
24	            print("Download finished")

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/streamai-0.1.2/streamai-0.1.2/streamai/utils/upload.py:30
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
29	    with tqdm(total=total_files, unit='file') as progress_bar:
30	        response = session.post(url, files=files, data=json_data, stream=True)
31	

--------------------------------------------------

Code scanned:
	Total lines of code: 1841
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 17.0
		High: 10.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 27.0
		High: 0.0
Files skipped (0):
