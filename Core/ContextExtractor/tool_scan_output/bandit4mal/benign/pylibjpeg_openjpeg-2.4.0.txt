Run started:2025-04-12 16:19:39.665039

Test results:
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/build.py:99
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
98	    if os.path.exists(BACKUP_DIR):
99	        shutil.rmtree(BACKUP_DIR)
100	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/build.py:126
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
125	    with p_openjpeg.open("w") as f:
126	        f.write("".join(data))
127	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/build.py:129
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
128	    if os.path.exists(BUILD_DIR):
129	        shutil.rmtree(BUILD_DIR)
130	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/build.py:146
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
145	        with open(INTERFACE_SRC / "opj_config.h", "a") as f:
146	            f.write("\n")
147	            f.write("#define USE_JPIP 0")

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/build.py:147
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
146	            f.write("\n")
147	            f.write("#define USE_JPIP 0")
148	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/build.py:167
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
166	    if os.path.exists(BUILD_DIR):
167	        shutil.rmtree(BUILD_DIR)
168	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/build.py:170
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
169	    if os.path.exists(BACKUP_DIR):
170	        shutil.rmtree(BACKUP_DIR)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/lib/openjpeg/tests/performance/perf_test.py:72
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
71	    out_file = open(out_filename, 'wt')
72	    out_file.write('filename,iterations,threads,command,comment,time_ms\n')
73	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/lib/openjpeg/tests/performance/perf_test.py:133
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
132	    if out_file is not None:
133	        out_file.write('%s,%d,%d,%s,%s,%d\n' %
134	                       (filename, num_iterations, num_threads, command,
135	                        comment, spent_time * 1000))
136	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/lib/openjpeg/tests/performance/perf_test.py:140
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
139	if out_file is not None:
140	    out_file.write('%s,,,,,%d\n' % ('TOTAL', total_time * 1000))

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/openjpeg/utils.py:128
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
127	    """
128	    data = stream.read(20)
129	    stream.seek(0)

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/openjpeg/utils.py:189
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
188	        with open(stream, "rb") as f:
189	            buffer: BinaryIO = BytesIO(f.read())
190	            buffer.seek(0)

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/openjpeg/utils.py:383
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
382	        with open(stream, "rb") as f:
383	            buffer: BinaryIO = BytesIO(f.read())
384	            buffer.seek(0)

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/setup.py:34
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
33	    'description': 'A Python wrapper for openjpeg, with a focus on use as a plugin for for pylibjpeg',
34	    'long_description': '<p align="center">\n<a href="https://github.com/pydicom/pylibjpeg-openjpeg/actions?query=workflow%3Aunit-tests"><img alt="Build status" src="https://github.com/pydicom/pylibjpeg-openjpeg/workflows/unit-tests/badge.svg"></a>\n<a href="https://codecov.io/gh/pydicom/pylibjpeg-openjpeg"><img alt="Test coverage" src="https://codecov.io/gh/pydicom/pylibjpeg-openjpeg/branch/main/graph/badge.svg"></a>\n<a href="https://pypi.org/project/pylibjpeg-openjpeg/"><img alt="PyPI versions" src="https://img.shields.io/pypi/v/pylibjpeg-openjpeg"></a>\n<a href="https://www.python.org/"><img alt="Python versions" src="https://img.shields.io/pypi/pyversions/pylibjpeg-openjpeg"></a>\n<a href="https://github.com/psf/black"><img alt="Code style: black" src="https://img.shields.io/badge/code%20style-black-000000.svg"></a>\n</p>\n\n\n## pylibjpeg-openjpeg\n\nA Python 3.8+ wrapper for\n[openjpeg](https://github.com/uclouvain/openjpeg), with a focus on use as a plugin for [pylibjpeg](http://github.com/pydicom/pylibjpeg).\n\nLinux, OSX and Windows are all supported.\n\n### Installation\n#### Dependencies\n[NumPy](http://numpy.org)\n\n#### Installing the current release\n```bash\npython -m pip install -U pylibjpeg-openjpeg\n```\n\n#### Installing the development version\n\nMake sure [Python](https://www.python.org/), [Git](https://git-scm.com/) and [CMake](https://cmake.org/) are installed. For Windows, you also need to install\n[Microsoft\'s C++ Build Tools](https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=BuildTools&rel=16).\n```bash\ngit clone --recurse-submodules https://github.com/pydicom/pylibjpeg-openjpeg\npython -m pip install pylibjpeg-openjpeg\n```\n\n\n### Supported JPEG Formats\n#### Decoding\n\n| ISO/IEC Standard | ITU Equivalent | JPEG Format |\n| --- | --- | --- |\n| [15444-1](https://www.iso.org/standard/78321.html) | [T.800](https://www.itu.int/rec/T-REC-T.800/en) | [JPEG 2000](https://jpeg.org/jpeg2000/) |\n\n#### Encoding\n\nEncoding of NumPy ndarrays is supported for the following:\n\n* Array dtype: bool, uint8, int8, uint16, int16, uint32 and int32 (1-24 bit-depth only)\n* Array shape: (rows, columns) and (rows, columns, planes)\n* Number of rows/columns: up to 65535\n* Number of planes: 1, 3 or 4\n\n### Transfer Syntaxes\n| UID | Description |\n| --- | --- |\n| 1.2.840.10008.1.2.4.90 | JPEG 2000 Image Compression (Lossless Only) |\n| 1.2.840.10008.1.2.4.91 | JPEG 2000 Image Compression |\n| 1.2.840.10008.1.2.4.201 | High-Throughput JPEG 2000 Image Compression (Lossless Only) |\n| 1.2.840.10008.1.2.4.202 | High-Throughput JPEG 2000 with RPCL Options Image Compression (Lossless Only) |\n| 1.2.840.10008.1.2.4.203 | High-Throughput JPEG 2000 Image Compression |\n\n\n### Usage\n#### With pylibjpeg and pydicom\n\n```python\nfrom pydicom import dcmread\nfrom pydicom.data import get_testdata_file\n\nds = dcmread(get_testdata_file(\'JPEG2000.dcm\'))\narr = ds.pixel_array\n```\n\n#### Standalone JPEG decoding\n\nYou can also decode JPEG 2000 images to a [numpy ndarray][1]:\n\n[1]: https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html\n\n```python\nfrom openjpeg import decode\n\nwith open(\'filename.j2k\', \'rb\') as f:\n    # Returns a numpy array\n    arr = decode(f)\n\n# Or simply...\narr = decode(\'filename.j2k\')\n```\n\n#### Standalone JPEG encoding\n\nLossless encoding of RGB with multiple-component transformation:\n\n```python\n\nimport numpy as np\nfrom openjpeg import encode_array\n\narr = np.random.randint(low=0, high=65536, size=(100, 100, 3), dtype="uint8")\nencode_array(arr, photometric_interpretation=1)  # 1: sRGB\n```\n\nLossy encoding of a monochrome image using compression ratios:\n\n```python\n\nimport numpy as np\nfrom openjpeg import encode_array\n\narr = np.random.randint(low=-2**15, high=2**15, size=(100, 100), dtype="int8")\n# You must determine your own values for `compression_ratios`\n#   as these are for illustration purposes only\nencode_array(arr, compression_ratios=[5, 2])\n```\n\nLossy encoding of a monochrome image using peak signal-to-noise ratios:\n\n```python\n\nimport numpy as np\nfrom openjpeg import encode_array\n\narr = np.random.randint(low=-2**15, high=2**15, size=(100, 100), dtype="int8")\n# You must determine your own values for `signal_noise_ratios`\n#   as these are for illustration purposes only\nencode_array(arr, signal_noise_ratios=[50, 80, 100])\n```\n\nSee the docstring for the [encode_array() function][2] for full details.\n\n[2]: https://github.com/pydicom/pylibjpeg-openjpeg/blob/main/openjpeg/utils.py#L429\n',
35	    'author': 'pylibjpeg-openjpeg contributors',
36	    'author_email': 'None',
37	    'maintainer': 'scaramallion',
38	    'maintainer_email': 'scaramallion@users.noreply.github.com',
39	    'url': 'https://github.com/pydicom/pylibjpeg-openjpeg',
40	    'packages': packages,
41	    'package_data': package_data,
42	    'install_requires': install_requires,
43	    'entry_points': entry_points,
44	    'python_requires': '>=3.9,<4.0',
45	}
46	from build import *
47	build(setup_kwargs)
48	
49	setup(**setup_kwargs)

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/pylibjpeg_openjpeg-2.4.0/pylibjpeg_openjpeg-2.4.0/setup.py:39
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
38	    'maintainer_email': 'scaramallion@users.noreply.github.com',
39	    'url': 'https://github.com/pydicom/pylibjpeg-openjpeg',
40	    'packages': packages,
41	    'package_data': package_data,
42	    'install_requires': install_requires,
43	    'entry_points': entry_points,
44	    'python_requires': '>=3.9,<4.0',
45	}
46	from build import *
47	build(setup_kwargs)
48	
49	setup(**setup_kwargs)

--------------------------------------------------

Code scanned:
	Total lines of code: 3907
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 2.0
		High: 13.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 15.0
		High: 0.0
Files skipped (0):
