Run started:2025-04-12 10:54:28.637680

Test results:
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/beam_utils.py:245
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
244	  def write_encoded_record(self, file_handle, value):
245	    file_handle.write(value)
246	

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/evaluation.py:377
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
376	    self._metrics_executor = (
377	        concurrent.futures.ThreadPoolExecutor(max_workers=1)
378	        if async_compute_metrics

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/evaluation_test.py:443
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
442	      self._metrics_future = None
443	      self._metrics_executor = concurrent.futures.ThreadPoolExecutor(
444	          max_workers=1
445	      )

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/evaluation_test.py:572
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
571	      self._metrics_future = None
572	      self._metrics_executor = concurrent.futures.ThreadPoolExecutor(
573	          max_workers=1
574	      )

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/evaluation_test.py:717
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
716	      self._metrics_future = None
717	      self._metrics_executor = concurrent.futures.ThreadPoolExecutor(
718	          max_workers=1
719	      )

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/evaluation_test.py:762
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
761	      self._metrics_future = None
762	      self._metrics_executor = concurrent.futures.ThreadPoolExecutor(
763	          max_workers=1
764	      )

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/evaluation_test.py:822
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
821	      self._metrics_future = None
822	      self._metrics_executor = concurrent.futures.ThreadPoolExecutor(
823	          max_workers=1
824	      )

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/evaluation_test.py:1109
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
1108	      self._metrics_future = None
1109	      self._metrics_executor = concurrent.futures.ThreadPoolExecutor(
1110	          max_workers=1
1111	      )

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/evaluation_test.py:1144
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
1143	      self._metrics_future = None
1144	      self._metrics_executor = concurrent.futures.ThreadPoolExecutor(
1145	          max_workers=1
1146	      )

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/evaluation_test.py:1277
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
1276	      self._metrics_future = None
1277	      self._metrics_executor = concurrent.futures.ThreadPoolExecutor(
1278	          max_workers=1
1279	      )

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers.py:185
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
184	      with writer.as_default():
185	        tf.summary.write(
186	            tag=tag, tensor=value.tensor, metadata=value.metadata, step=step
187	        )

--------------------------------------------------
>> Issue: [B802:b64encode] base64.b64encode
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers.py:352
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b802_b64encode.html
351	      except UnicodeDecodeError:
352	        return base64.b64encode(obj)
353	

--------------------------------------------------
>> Issue: [B301:blacklist] base64.b64encode
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers.py:352
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b301-base64-b64encode
351	      except UnicodeDecodeError:
352	        return base64.b64encode(obj)
353	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers.py:433
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
432	        with tf.io.gfile.GFile(metrics_fname, "r") as f:
433	          file_contents = f.read()
434	      with tf.io.gfile.GFile(metrics_fname + ".tmp", "w") as f:

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers.py:435
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
434	      with tf.io.gfile.GFile(metrics_fname + ".tmp", "w") as f:
435	        f.write(file_contents)
436	        f.write(

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers.py:436
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
435	        f.write(file_contents)
436	        f.write(
437	            json.dumps(
438	                {"step": step, **serializable_metrics},
439	                cls=self._json_encoder_cls,
440	            )

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers.py:442
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
441	        )
442	        f.write("\n")
443	      tf.io.gfile.rename(metrics_fname + ".tmp", metrics_fname, overwrite=True)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers.py:505
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
504	        json_str = json.dumps(json_dict, cls=self._json_encoder_cls)
505	        f.write(json_str + "\n")
506	    write_time = time.time() - write_tick

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers_test.py:113
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
112	    }
113	    logged_metrics, plugins = self._log_and_read(task_metrics)
114	    self.assertDictEqual(

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers_test.py:126
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
125	    }
126	    logged_metrics, plugins = self._log_and_read(task_metrics)
127	    self.assertDictEqual(

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers_test.py:145
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
144	    }
145	    logged_metrics, plugins = self._log_and_read(task_metrics)
146	    self.assertDictEqual(

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers_test.py:162
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
161	    }
162	    logged_metrics, plugins = self._log_and_read(task_metrics)
163	    self.assertDictEqual(

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers_test.py:186
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
185	    }
186	    logged_metrics, plugins = self._log_and_read(task_metrics)
187	    self.assertDictEqual(

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/loggers_test.py:212
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
211	    }
212	    logged_metrics, plugins = self._log_and_read(task_metrics)
213	    self.assertDictEqual(plugins, {"eval/foo": "frobber"})

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/scripts/cache_tasks_test.py:83
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
82	    for fname in expected_auxiliary_files:
83	      actual_content = tf.io.gfile.GFile(
84	          os.path.join(actual_task_dir, fname)
85	      ).read()

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/scripts/cache_tasks_test.py:86
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
85	      ).read()
86	      expected_content = tf.io.gfile.GFile(
87	          os.path.join(expected_task_dir, fname)
88	      ).read()

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/test_utils.py:621
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
620	    for ex in examples:
621	      writer.write(dataset_utils.dict_to_tfexample(ex).SerializeToString())
622	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/test_utils.py:628
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
627	  with tf.io.gfile.GFile(path, "w") as writer:
628	    writer.write("\t".join(field_names) + "\n")
629	    for ex in examples:

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/test_utils.py:630
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
629	    for ex in examples:
630	      writer.write("\t".join([ex[field] for field in field_names]) + "\n")
631	

--------------------------------------------------
>> Issue: [B810:chmod] os.chmod
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/test_utils.py:1384
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b810_chmod.html
1383	      for d in dirs + [""]:
1384	        os.chmod(os.path.join(root, d), 0o777)
1385	

--------------------------------------------------
>> Issue: [B315:blacklist] os.chmod
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/test_utils.py:1384
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b313-b320-os-chmod
1383	      for d in dirs + [""]:
1384	        os.chmod(os.path.join(root, d), 0o777)
1385	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/test_utils.py:1436
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
1435	            config_name=None,
1436	            homepage="http://data.org/fake",
1437	            file_format=tfds.core.file_adapters.FileFormat.TFRECORD,

--------------------------------------------------
>> Issue: [B810:chmod] os.chmod
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/test_utils.py:1454
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b810_chmod.html
1453	      for d in dirs + [""]:
1454	        os.chmod(os.path.join(root, d), 0o777)
1455	

--------------------------------------------------
>> Issue: [B315:blacklist] os.chmod
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/test_utils.py:1454
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b313-b320-os-chmod
1453	      for d in dirs + [""]:
1454	        os.chmod(os.path.join(root, d), 0o777)
1455	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/seqio/utils.py:1039
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
1038	    for k in keys_etc:
1039	      new_outputs[k] = outputs[k].write(
1040	          outputs[k].size(),
1041	          tf.pad(
1042	              partial[k],
1043	              [[
1044	                  0,
1045	                  feature_lengths[_strip_packed_feature_key(k)]
1046	                  - tf.size(partial[k]),
1047	              ]],

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/setup.py:28
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
27	with open('README.md') as fp:
28	  _LONG_DESCRIPTION = fp.read()
29	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/seqio_nightly-0.0.18.dev20250227/seqio_nightly-0.0.18.dev20250227/setup.py:41
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
40	    author_email='no-reply@google.com',
41	    url='https://github.com/google/seqio/tree/nightly',
42	    license='Apache 2.0',

--------------------------------------------------

Code scanned:
	Total lines of code: 20292
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 5.0
		High: 32.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 34.0
		High: 3.0
Files skipped (0):
