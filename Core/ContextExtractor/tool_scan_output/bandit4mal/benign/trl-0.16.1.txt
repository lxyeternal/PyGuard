Run started:2025-04-12 17:42:35.867434

Test results:
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/setup.py:118
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
117	    ],
118	    url="https://github.com/huggingface/trl",
119	    entry_points={

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/tests/test_utils.py:152
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
151	            tags=["trl", "trainer-tag"],
152	            wandb_url="https://wandb.ai/username/project_id/runs/abcd1234",
153	            comet_url="https://www.comet.com/username/project_id/experiment_id",

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/tests/test_utils.py:153
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
152	            wandb_url="https://wandb.ai/username/project_id/runs/abcd1234",
153	            comet_url="https://www.comet.com/username/project_id/experiment_id",
154	            trainer_name="My Trainer",

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/tests/test_utils.py:160
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
159	        card_text = str(model_card)
160	        self.assertIn("[username/my_base_model](https://huggingface.co/username/my_base_model)", card_text)
161	        self.assertIn("my_model", card_text)

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/tests/test_utils.py:164
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
163	        self.assertIn("datasets: username/my_dataset", card_text)
164	        self.assertIn("](https://wandb.ai/username/project_id/runs/abcd1234)", card_text)
165	        self.assertIn("](https://www.comet.com/username/project_id/experiment_id", card_text)

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/tests/test_utils.py:165
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
164	        self.assertIn("](https://wandb.ai/username/project_id/runs/abcd1234)", card_text)
165	        self.assertIn("](https://www.comet.com/username/project_id/experiment_id", card_text)
166	        self.assertIn("My Trainer", card_text)

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/tests/test_utils.py:168
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
167	        self.assertIn("```bibtex\n@article{my_trainer, ...}\n```", card_text)
168	        self.assertIn("[My Paper](https://huggingface.co/papers/1234.56789)", card_text)
169	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/tests/testing_constants.py:18
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
17	
18	CI_HUB_ENDPOINT = "https://hub-ci.huggingface.co"

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/extras/vllm_client.py:83
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
82	    def __init__(
83	        self, host: str = "0.0.0.0", server_port: int = 8000, group_port: int = 51216, connection_timeout: float = 0.0
84	    ):

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/extras/vllm_client.py:114
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
113	            try:
114	                response = requests.get(url)
115	            except requests.exceptions.RequestException as exc:

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/extras/vllm_client.py:172
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
171	        url = f"http://{self.host}:{self.server_port}/generate/"
172	        response = self.session.post(
173	            url,
174	            json={
175	                "prompts": prompts,
176	                "n": n,
177	                "repetition_penalty": repetition_penalty,
178	                "temperature": temperature,
179	                "top_p": top_p,
180	                "top_k": top_k,
181	                "min_p": min_p,
182	                "max_tokens": max_tokens,
183	                "guided_decoding_regex": guided_decoding_regex,
184	            },

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/extras/vllm_client.py:197
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
196	        url = f"http://{self.host}:{self.server_port}/get_tensor_parallel_size/"
197	        response = requests.get(url)
198	        if response.status_code == 200:

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/extras/vllm_client.py:209
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
208	        # In the server side, the host is set to 0.0.0.0
209	        response = self.session.post(url, json={"host": "0.0.0.0", "port": self.group_port, "world_size": world_size})
210	        if response.status_code != 200:

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/extras/vllm_client.py:209
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
208	        # In the server side, the host is set to 0.0.0.0
209	        response = self.session.post(url, json={"host": "0.0.0.0", "port": self.group_port, "world_size": world_size})
210	        if response.status_code != 200:

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/extras/vllm_client.py:229
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
228	        url = f"http://{self.host}:{self.server_port}/update_named_param/"
229	        response = self.session.post(url, json={"name": name, "dtype": dtype, "shape": shape})
230	        if response.status_code != 200:

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/extras/vllm_client.py:254
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
253	        url = f"http://{self.host}:{self.server_port}/reset_prefix_cache/"
254	        response = self.session.post(url)
255	        if response.status_code != 200:

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/extras/vllm_client.py:263
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
262	        url = f"http://{self.host}:{self.server_port}/close_communicator/"
263	        response = self.session.post(url)
264	        if response.status_code != 200:

--------------------------------------------------
>> Issue: [B812:system] os.system
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/chat.py:38
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b812_system.html
37	
38	if platform.system() != "Windows":
39	    import pwd

--------------------------------------------------
>> Issue: [B817:system] platform.system
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/chat.py:38
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b817_system.html
37	
38	if platform.system() != "Windows":
39	    import pwd

--------------------------------------------------
>> Issue: [B308:blacklist] platform.system
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/chat.py:38
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b308-platform-system
37	
38	if platform.system() != "Windows":
39	    import pwd

--------------------------------------------------
>> Issue: [B812:system] os.system
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/chat.py:279
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b812_system.html
278	def get_username():
279	    if platform.system() == "Windows":
280	        return os.getlogin()

--------------------------------------------------
>> Issue: [B817:system] platform.system
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/chat.py:279
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b817_system.html
278	def get_username():
279	    if platform.system() == "Windows":
280	        return os.getlogin()

--------------------------------------------------
>> Issue: [B308:blacklist] platform.system
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/chat.py:279
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b308-platform-system
278	def get_username():
279	    if platform.system() == "Windows":
280	        return os.getlogin()

--------------------------------------------------
>> Issue: [B303:blacklist] pwd.getpwuid
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/chat.py:282
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b303-pwd-getpwuid
281	    else:
282	        return pwd.getpwuid(os.getuid()).pw_name
283	

--------------------------------------------------
>> Issue: [B811:getuid] os.getuid
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/chat.py:282
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b811_getuid.html
281	    else:
282	        return pwd.getpwuid(os.getuid()).pw_name
283	

--------------------------------------------------
>> Issue: [B305:blacklist] os.getuid
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/chat.py:282
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b304-b305-ciphers-and-modes
281	    else:
282	        return pwd.getpwuid(os.getuid()).pw_name
283	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/chat.py:494
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
493	
494	            thread = Thread(target=model.generate, kwargs=generation_kwargs)
495	            thread.start()

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/utils.py:70
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
69	        metadata={
70	            "help": "Debug argument for distributed training. Fix for DDP issues with LM bias/mask buffers - invalid "
71	            "scalar type, inplace operation. See "
72	            "https://github.com/huggingface/transformers/issues/22482#issuecomment-1595790992."

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/scripts/vllm_serve.py:189
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
188	    host: str = field(
189	        default="0.0.0.0",
190	        metadata={"help": "Host address to run the server on."},

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/cpo_trainer.py:1057
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
1056	
1057	        citation = textwrap.dedent("""\
1058	        @inproceedings{xu2024contrastive,

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/ddpo_trainer.py:191
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
190	        if self.config.async_reward_computation:
191	            self.executor = futures.ThreadPoolExecutor(max_workers=config.max_workers)
192	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/ddpo_trainer.py:628
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
627	
628	        citation = textwrap.dedent("""\
629	        @inproceedings{black2024training,

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/dpo_trainer.py:1562
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
1561	        citation = textwrap.dedent(
1562	            """\
1563	            @inproceedings{rafailov2023direct,
1564	                title        = {{Direct Preference Optimization: Your Language Model is Secretly a Reward Model}},

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/gkd_trainer.py:377
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
376	
377	        citation = textwrap.dedent("""\
378	        @inproceedings{agarwal2024on-policy,

--------------------------------------------------
>> Issue: [B823:ip_found] ip_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/grpo_config.py:233
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b823_ip_found.html
232	    vllm_server_host: str = field(
233	        default="0.0.0.0",
234	        metadata={"help": "Host of the vLLM server to connect to."},

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/judges.py:332
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
331	        # Call the completions concurrently
332	        with concurrent.futures.ThreadPoolExecutor() as executor:
333	            ranks = list(executor.map(get_rank, prompts, completions))

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/judges.py:402
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
401	        # Call the completions concurrently
402	        with concurrent.futures.ThreadPoolExecutor() as executor:
403	            ranks = list(executor.map(get_rank, prompts, completions))

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/nash_md_trainer.py:493
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
492	
493	        citation = textwrap.dedent("""\
494	        @inproceedings{munos2024nash,

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/online_dpo_config.py:119
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
118	        metadata={
119	            "help": "Parameter controlling the deviation from the reference model. Higher β means less deviation from "
120	            "the reference model. For the IPO loss (`loss_type='ipo'`), β is the regularization parameter denoted by "
121	            "τ in the [paper](https://huggingface.co/papers/2310.12036). If a list of floats is provided then the β "

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/trl-0.16.1/trl-0.16.1/trl/trainer/reward_config.py:64
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
63	        metadata={
64	            "help": "Coefficient to incentivize the reward model to output mean-zero rewards (proposed by "
65	            "https://huggingface.co/papers/2312.09244, Eq. 2). Recommended value: `0.01`."
66	        },

--------------------------------------------------

Code scanned:
	Total lines of code: 30499
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 24.0
		High: 16.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 36.0
		High: 4.0
Files skipped (0):
