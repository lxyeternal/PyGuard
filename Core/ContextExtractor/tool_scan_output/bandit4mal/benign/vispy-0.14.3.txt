Run started:2025-04-12 15:48:37.730031

Test results:
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/doc/conf.py:163
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
162	
163	edit_page_url_template = """\
164	{%- if file_name in edit_link_paths %}
165	    {% set file_name = edit_link_paths[file_name] %}
166	    https://github.com/{{github_user}}/{{github_repo}}/edit/{{github_version}}/{{file_name}}
167	{%- else %}
168	    {# the last slash between doc_path and file_name is not needed for non-apidoc files #}
169	    https://github.com/{{github_user}}/{{github_repo}}/edit/{{github_version}}/{{doc_path}}{{file_name}}
170	{%- endif %}
171	"""
172	
173	html_context = {

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/doc/conf.py:187
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
186	    "use_edit_page_button": True,
187	    "github_url": "https://github.com/vispy/vispy",
188	    "twitter_url": "https://twitter.com/vispyproject",
189	    "header_links_before_dropdown": 7,
190	}
191	
192	# Add any paths that contain custom themes here, relative to this directory.

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/doc/conf.py:188
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
187	    "github_url": "https://github.com/vispy/vispy",
188	    "twitter_url": "https://twitter.com/vispyproject",
189	    "header_links_before_dropdown": 7,
190	}
191	
192	# Add any paths that contain custom themes here, relative to this directory.
193	# html_theme_path = sphinx_bootstrap_theme.get_html_theme_path()

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/doc/conf.py:350
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
349	# -----------------------------------------------------------------------------
350	_python_doc_base = "https://docs.python.org/3"
351	intersphinx_mapping = {

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/doc/conf.py:353
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
352	    "python": (_python_doc_base, None),
353	    "numpy": ("https://numpy.org/doc/stable/", None),
354	    "scipy": ("https://scipy.github.io/devdocs/", None),

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/doc/conf.py:354
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
353	    "numpy": ("https://numpy.org/doc/stable/", None),
354	    "scipy": ("https://scipy.github.io/devdocs/", None),
355	}

--------------------------------------------------
>> Issue: [B800:exec_used] exec
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/examples/basics/scene/modular_shaders/sandbox.py:594
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b800_exec_used.html
593	    try:
594	        exec(code, local, glob)
595	        vert = glob['VERTEX']

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/examples/demo/gloo/jfa/jfa_translation.py:39
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
38	    with open(op.join(this_dir, vert_fname), 'rb') as fid:
39	        vert = fid.read().decode('ASCII')
40	    with open(op.join(this_dir, frag_fname), 'rb') as fid:

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/examples/demo/gloo/jfa/jfa_translation.py:41
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
40	    with open(op.join(this_dir, frag_fname), 'rb') as fid:
41	        frag = fid.read().decode('ASCII')
42	    vertexShader = gl.glCreateShader(gl.GL_VERTEX_SHADER)

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/examples/demo/gloo/jfa/jfa_vispy.py:33
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
32	        with open(op.join(this_dir, 'vertex_vispy.glsl'), 'rb') as fid:
33	            vert = fid.read().decode('ASCII')
34	        with open(op.join(this_dir, 'fragment_seed.glsl'), 'rb') as f:

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/examples/demo/gloo/jfa/jfa_vispy.py:35
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
34	        with open(op.join(this_dir, 'fragment_seed.glsl'), 'rb') as f:
35	            frag_seed = f.read().decode('ASCII')
36	        with open(op.join(this_dir, 'fragment_flood.glsl'), 'rb') as f:

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/examples/demo/gloo/jfa/jfa_vispy.py:37
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
36	        with open(op.join(this_dir, 'fragment_flood.glsl'), 'rb') as f:
37	            frag_flood = f.read().decode('ASCII')
38	        with open(op.join(this_dir, 'fragment_display.glsl'), 'rb') as f:

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/examples/demo/gloo/jfa/jfa_vispy.py:39
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
38	        with open(op.join(this_dir, 'fragment_display.glsl'), 'rb') as f:
39	            frag_display = f.read().decode('ASCII')
40	        self.programs = [Program(vert, frag_seed),

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/examples/demo/gloo/jfa/jfa_vispy.py:59
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
58	    def _setup_textures(self, fname):
59	        data = imread(load_data_file('jfa/' + fname), format='tga')[::-1].copy()
60	        if data.ndim == 3:

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/examples/scene/instanced_mesh.py:21
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
20	
21	vertex_shader = """
22	// these attributes will be defined on an instance basis
23	attribute vec3 shift;
24	attribute vec4 color;
25	attribute vec3 transform_x;
26	attribute vec3 transform_y;
27	attribute vec3 transform_z;
28	
29	varying vec4 v_color;
30	
31	void main() {
32	    v_color = color;
33	    // transform is generated from column vectors (new basis vectors)
34	    // https://en.wikibooks.org/wiki/GLSL_Programming/Vector_and_Matrix_Operations#Constructors
35	    mat3 instance_transform = mat3(transform_x, transform_y, transform_z);
36	    vec3 pos_rotated = instance_transform * $position;
37	    vec4 pos_shifted = vec4(pos_rotated + shift, 1);
38	    gl_Position = $transform(pos_shifted);
39	}
40	"""
41	
42	fragment_shader = """

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/setup.py:67
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
66	
67	readme = open('README.rst', 'r').read()
68	setup(

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/setup.py:78
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
77	    license='BSD-3-Clause',
78	    url='http://vispy.org',
79	    download_url='https://pypi.python.org/pypi/vispy',

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/setup.py:79
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
78	    url='http://vispy.org',
79	    download_url='https://pypi.python.org/pypi/vispy',
80	    keywords=[

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/app/backends/_pyglet.py:27
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
26	    if Version(version) < Version('1.2'):
27	        help_ = ('You can install the latest pyglet using:\n    '
28	                 'pip install http://pyglet.googlecode.com/archive/tip.zip')
29	        raise ImportError('Pyglet version too old (%s), need >= 1.2\n%s'

--------------------------------------------------
>> Issue: [B841:cdll] ctypes.CDLL
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/ext/egl.py:25
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b841_cdll.html
24	# Load it
25	_lib = ctypes.CDLL(_egl_file)
26	

--------------------------------------------------
>> Issue: [B841:cdll] ctypes.CDLL
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/ext/osmesa.py:32
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b841_cdll.html
31	# Load it
32	_lib = ctypes.CDLL(_osmesa_file)
33	

--------------------------------------------------
>> Issue: [B841:cdll] ctypes.CDLL
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/gloo/gl/es2.py:50
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b841_cdll.html
49	    # Load it
50	    _lib = ctypes.CDLL(es2_file)
51	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/gloo/glir.py:874
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
873	
874	            self._file.write('[]')
875	            self._empty = True

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/gloo/glir.py:884
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
883	            else:
884	                self._file.write(',\n')
885	            json.dump(as_es2_command(command),

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/gloo/glir.py:887
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
886	                      self._file, cls=NumPyJSONEncoder)
887	            self._file.write(']')
888	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/glsl/__init__.py:42
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
41	    with open(filename) as fid:
42	        return fid.read()

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/glsl/colormaps/parse.py:10
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
9	            with open(filepath) as infile:
10	                code = infile.read()
11	                # comment = '#line 0 // Start of "%s"\n' % filename

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/io/mesh.py:40
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
39	    if fmt in ('.obj'):
40	        return WavefrontReader.read(fname)
41	    elif fmt in ('.stl'):

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/io/mesh.py:56
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
55	        try:
56	            mesh = meshio.read(fname)
57	        except meshio.ReadError:

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/io/mesh.py:102
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
101	    if format == 'obj':
102	        WavefrontWriter.write(fname, vertices, faces,
103	                              normals, texcoords, name, reshape_faces)
104	        return

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/io/mesh.py:120
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
119	    try:
120	        mesh.write(fname, file_format=format)
121	    except meshio.WriteError:

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/io/tests/test_image.py:43
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
42	    with warnings.catch_warnings(record=True):  # PIL unclosed file
43	        im2 = imread(fname)
44	    assert_allclose(im1, im2)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/io/wavefront.py:261
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
260	        text += '\n'
261	        self._f.write(text.encode('ascii'))
262	

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/_runners.py:199
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
198	                with open(filename, 'rb') as fid:
199	                    text = fid.read().decode('utf-8')
200	            except UnicodeDecodeError:

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/_testing.py:360
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
359	    with open(location + '.png', 'wb') as fid:
360	        fid.write(make_png(image))
361	

--------------------------------------------------
>> Issue: [B802:b64encode] base64.b64encode
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:262
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b802_b64encode.html
261	    req = urlencode({'name': filename,
262	                     'data': base64.b64encode(png)})
263	    conn.request('POST', '/upload.py', req)

--------------------------------------------------
>> Issue: [B301:blacklist] base64.b64encode
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:262
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b301-base64-b64encode
261	    req = urlencode({'name': filename,
262	                     'data': base64.b64encode(png)})
263	    conn.request('POST', '/upload.py', req)

--------------------------------------------------
>> Issue: [B825:request] http.client.HTTPConnection.request
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:263
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b825_request.html
262	                     'data': base64.b64encode(png)})
263	    conn.request('POST', '/upload.py', req)
264	    response = conn.getresponse().read()

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:264
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
263	    conn.request('POST', '/upload.py', req)
264	    response = conn.getresponse().read()
265	    conn.close()

--------------------------------------------------
>> Issue: [B826:getresponse] http.client.HTTPConnection.getresponse
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:264
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b826_getresponse.html
263	    conn.request('POST', '/upload.py', req)
264	    response = conn.getresponse().read()
265	    conn.close()

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:268
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
267	          "%s %s" % (data.shape, data.dtype, expect.shape, expect.dtype))
268	    print("Uploaded to: \nhttp://%s/data/%s" % (host, filename))
269	    if not response.startswith(b'OK'):

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:355
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
354	        self.show()
355	        self.console.write('------------------')
356	        self.console.write(message)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:356
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
355	        self.console.write('------------------')
356	        self.console.write(message)
357	        if im2 is None:

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:358
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
357	        if im2 is None:
358	            self.console.write('Image1: %s %s   Image2: [no standard]' %
359	                               (im1.shape, im1.dtype))
360	            im2 = np.zeros((1, 1, 3), dtype=np.ubyte)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:362
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
361	        else:
362	            self.console.write('Image1: %s %s   Image2: %s %s' %
363	                               (im1.shape, im1.dtype, im2.shape, im2.dtype))
364	        self.console.write('(P)ass or (F)ail this test?')

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:364
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
363	                               (im1.shape, im1.dtype, im2.shape, im2.dtype))
364	        self.console.write('(P)ass or (F)ail this test?')
365	        self.views[0].image.set_data(im1)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:377
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
376	            elif self.last_key.lower() == 'p':
377	                self.console.write('PASS')
378	                break

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:380
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
379	            elif self.last_key.lower() in ('f', 'esc'):
380	                self.console.write('FAIL')
381	                raise Exception("User rejected test result.")

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/testing/image_tester.py:405
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
404	    data_path = config['test_data_path']
405	    git_path = 'http://github.com/vispy/test-data'
406	    gitbase = git_cmd_base(data_path)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/config.py:441
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
440	        with open(fname, 'w') as fid:
441	            fid.write(out)
442	    return out

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/config.py:441
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
440	        with open(fname, 'w') as fid:
441	            fid.write(out)
442	    return out

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/config.py:464
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
463	    def cleanup(self):
464	        rmtree(self._path, ignore_errors=True)
465	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/fetching.py:45
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
44	    """
45	    _url_root = 'https://raw.githubusercontent.com/vispy/demo-data/main/'
46	    url = _url_root + fname

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/fetching.py:146
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
145	                                   self.mesg)
146	        sys.stdout.write(bar)
147	        # Increament the spinner

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/fetching.py:202
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
201	    while True:
202	        chunk = response.read(chunk_size)
203	        bytes_so_far += len(chunk)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/fetching.py:205
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
204	        if not chunk:
205	            sys.stderr.write('\n')
206	            break

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/fetching.py:207
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
206	            break
207	        _chunk_write(chunk, local_file, progress)
208	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/fetching.py:212
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
211	    """Write a chunk to file and update the progress bar"""
212	    local_file.write(chunk)
213	    progress.update_with_increment_value(len(chunk))

--------------------------------------------------
>> Issue: [B818:urlopen] urllib.request.urlopen
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/fetching.py:239
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b818_urlopen.html
238	        try:
239	            data = urllib.request.urlopen(url, timeout=15.)
240	        except Exception as e:

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/fetching.py:248
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
247	        local_file = open(temp_file_name, "wb")
248	        _chunk_read(data, local_file, initial_size=initial_size)
249	        # temp file must be closed prior to the move

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/fetching.py:254
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
253	        if print_destination is True:
254	            sys.stdout.write('File saved as %s.\n' % file_name)
255	    except Exception as e:

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/gallery_scraper.py:98
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
97	    def _get_frame_list_from_source(self, filename):
98	        lines = open(filename, 'rb').read().decode('utf-8').splitlines()
99	        for line in lines[:10]:

--------------------------------------------------
>> Issue: [B802:b64encode] base64.b64encode
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/logs.py:345
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b802_b64encode.html
344	        return {'storage_type': 'base64',
345	                'buffer': base64.b64encode(buffer).decode('ascii')
346	                }

--------------------------------------------------
>> Issue: [B301:blacklist] base64.b64encode
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/logs.py:345
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b301-base64-b64encode
344	        return {'storage_type': 'base64',
345	                'buffer': base64.b64encode(buffer).decode('ascii')
346	                }

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/svg/base.py:7
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
6	
7	namespace = '{http://www.w3.org/2000/svg}'
8	dpi = 90

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/svg/element.py:9
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
8	
9	namespace = '{http://www.w3.org/2000/svg}'
10	
11	
12	class Element(object):

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/tests/test_gallery_scraper.py:54
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
53	        with open("example.py", "w") as example_file:
54	            example_file.write(script)
55	        scraper = VisPyGalleryScraper()

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/tests/test_gallery_scraper.py:73
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
72	        with open("example.py", "w") as example_file:
73	            example_file.write("""# vispy: gallery 10:50:5
74	            """)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/util/tests/test_gallery_scraper.py:101
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
100	        with open("example.py", "w") as example_file:
101	            example_file.write("""# vispy: gallery-exports {}
102	            """.format(" ".join(exported_files)))
103	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/visuals/image.py:92
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
91	
92	_APPLY_CLIM_FLOAT = """
93	    float apply_clim(float data) {
94	        // If data is NaN, don't draw it at all
95	        // http://stackoverflow.com/questions/11810158/how-to-deal-with-nan-or-inf-in-opengl-es-2-0-shaders
96	        if (!(data <= 0.0 || 0.0 <= data)) {
97	            discard;
98	        }
99	        data = clamp(data, min($clim.x, $clim.y), max($clim.x, $clim.y));
100	        data = (data - $clim.x) / ($clim.y - $clim.x);
101	        return data;
102	    }"""
103	
104	_APPLY_CLIM = """

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/visuals/image.py:104
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
103	
104	_APPLY_CLIM = """
105	    vec4 apply_clim(vec4 color) {
106	        // Handle NaN values
107	        // http://stackoverflow.com/questions/11810158/how-to-deal-with-nan-or-inf-in-opengl-es-2-0-shaders
108	        color.r = !(color.r <= 0.0 || 0.0 <= color.r) ? min($clim.x, $clim.y) : color.r;
109	        color.g = !(color.g <= 0.0 || 0.0 <= color.g) ? min($clim.x, $clim.y) : color.g;
110	        color.b = !(color.b <= 0.0 || 0.0 <= color.b) ? min($clim.x, $clim.y) : color.b;
111	        color.a = !(color.a <= 0.0 || 0.0 <= color.a) ? 0 : color.a;
112	        color.rgb = clamp(color.rgb, min($clim.x, $clim.y), max($clim.x, $clim.y));
113	        color.rgb = (color.rgb - $clim.x) / ($clim.y - $clim.x);
114	        return max(color, 0.0);
115	    }
116	"""
117	
118	_APPLY_GAMMA_FLOAT = """

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/visuals/image.py:134
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
133	
134	_CUSTOM_FILTER = """
135	vec4 texture_lookup(vec2 texcoord) {
136	    // based on https://gist.github.com/kingbedjed/373c8811efcf1b3a155d29a13c1e5b61
137	    vec2 tex_pixel = 1 / $shape;
138	    vec2 kernel_pixel = 1 / $kernel_shape;
139	    vec2 sampling_corner = texcoord - ($kernel_shape / 2 * tex_pixel);
140	
141	    // loop over kernel pixels
142	    vec2 kernel_pos, tex_pos;
143	    vec4 color = vec4(0);
144	    float weight;
145	
146	    // offset 0.5 to sample center of pixels
147	    for (float i = 0.5; i < $kernel_shape.x; i++) {
148	        for (float j = 0.5; j < $kernel_shape.y; j++) {
149	            kernel_pos = vec2(i, j) * kernel_pixel;
150	            tex_pos = sampling_corner + vec2(i, j) * tex_pixel;
151	            // TODO: allow other edge effects, like mirror or wrap
152	            if (tex_pos.x >= 0 && tex_pos.y >= 0 && tex_pos.x <= 1 && tex_pos.y <= 1) {
153	                weight = texture2D($kernel, kernel_pos).r;
154	                // make sure to clamp or we sample outside
155	                color += texture2D($texture, clamp(tex_pos, 0, 1)) * weight;
156	            }
157	        }
158	    }
159	
160	    return color;
161	}
162	"""
163	
164	
165	class ImageVisual(Visual):

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/visuals/instanced_mesh.py:22
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
21	
22	_VERTEX_SHADER = """
23	uniform bool use_instance_colors;
24	
25	// these attributes will be defined on an instance basis
26	attribute vec3 shift;
27	attribute vec3 transform_x;
28	attribute vec3 transform_y;
29	attribute vec3 transform_z;
30	
31	varying vec4 v_base_color;
32	void main() {
33	
34	    v_base_color = $color_transform($base_color);
35	
36	    // transform is generated from column vectors (new basis vectors)
37	    // https://en.wikibooks.org/wiki/GLSL_Programming/Vector_and_Matrix_Operations#Constructors
38	    mat3 instance_transform = mat3(transform_x, transform_y, transform_z);
39	    vec3 pos_rotated = instance_transform * $to_vec4($position).xyz;
40	    vec4 pos_shifted = $to_vec4(pos_rotated + shift);
41	    gl_Position = $transform(pos_shifted);
42	}
43	"""
44	
45	
46	class InstancedMeshVisual(MeshVisual):

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/visuals/volume.py:84
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
83	
84	_FRAGMENT_SHADER = """
85	// uniforms
86	uniform $sampler_type u_volumetex;
87	uniform vec3 u_shape;
88	uniform vec2 clim;
89	uniform float gamma;
90	uniform float u_threshold;
91	uniform float u_attenuation;
92	uniform float u_relative_step_size;
93	uniform float u_mip_cutoff;
94	uniform float u_minip_cutoff;
95	
96	//varyings
97	varying vec3 v_position;
98	varying vec4 v_nearpos;
99	varying vec4 v_farpos;
100	
101	// uniforms for lighting. Hard coded until we figure out how to do lights
102	const vec4 u_ambient = vec4(0.2, 0.2, 0.2, 1.0);
103	const vec4 u_diffuse = vec4(0.8, 0.2, 0.2, 1.0);
104	const vec4 u_specular = vec4(1.0, 1.0, 1.0, 1.0);
105	const float u_shininess = 40.0;
106	
107	// uniforms for plane definition. Defined in data coordinates.
108	uniform vec3 u_plane_normal;
109	uniform vec3 u_plane_position;
110	uniform float u_plane_thickness;
111	
112	//varying vec3 lightDirs[1];
113	
114	// global holding view direction in local coordinates
115	vec3 view_ray;
116	
117	float rand(vec2 co)
118	{
119	    // Create a pseudo-random number between 0 and 1.
120	    // http://stackoverflow.com/questions/4200224
121	    return fract(sin(dot(co.xy ,vec2(12.9898, 78.233))) * 43758.5453);
122	}
123	
124	float colorToVal(vec4 color1)
125	{
126	    return color1.r; // todo: why did I have this abstraction in visvis?
127	}
128	
129	vec4 applyColormap(float data) {
130	    data = clamp(data, min(clim.x, clim.y), max(clim.x, clim.y));
131	    data = (data - clim.x) / (clim.y - clim.x);
132	    vec4 color = $cmap(pow(data, gamma));
133	    return color;
134	}
135	
136	
137	vec4 calculateColor(vec4 betterColor, vec3 loc, vec3 step)
138	{   
139	    // Calculate color by incorporating lighting
140	    vec4 color1;
141	    vec4 color2;
142	
143	    // View direction
144	    vec3 V = normalize(view_ray);
145	
146	    // calculate normal vector from gradient
147	    vec3 N; // normal
148	    color1 = $get_data(loc+vec3(-step[0],0.0,0.0) );
149	    color2 = $get_data(loc+vec3(step[0],0.0,0.0) );
150	    N[0] = colorToVal(color1) - colorToVal(color2);
151	    betterColor = max(max(color1, color2),betterColor);
152	    color1 = $get_data(loc+vec3(0.0,-step[1],0.0) );
153	    color2 = $get_data(loc+vec3(0.0,step[1],0.0) );
154	    N[1] = colorToVal(color1) - colorToVal(color2);
155	    betterColor = max(max(color1, color2),betterColor);
156	    color1 = $get_data(loc+vec3(0.0,0.0,-step[2]) );
157	    color2 = $get_data(loc+vec3(0.0,0.0,step[2]) );
158	    N[2] = colorToVal(color1) - colorToVal(color2);
159	    betterColor = max(max(color1, color2),betterColor);
160	    float gm = length(N); // gradient magnitude
161	    N = normalize(N);
162	
163	    // Flip normal so it points towards viewer
164	    float Nselect = float(dot(N,V) > 0.0);
165	    N = (2.0*Nselect - 1.0) * N;  // ==  Nselect * N - (1.0-Nselect)*N;
166	
167	    // Get color of the texture (albeido)
168	    color1 = betterColor;
169	    color2 = color1;
170	    // todo: parametrise color1_to_color2
171	
172	    // Init colors
173	    vec4 ambient_color = vec4(0.0, 0.0, 0.0, 0.0);
174	    vec4 diffuse_color = vec4(0.0, 0.0, 0.0, 0.0);
175	    vec4 specular_color = vec4(0.0, 0.0, 0.0, 0.0);
176	    vec4 final_color;
177	
178	    // todo: allow multiple light, define lights on viewvox or subscene
179	    int nlights = 1; 
180	    for (int i=0; i<nlights; i++)
181	    { 
182	        // Get light direction (make sure to prevent zero devision)
183	        vec3 L = normalize(view_ray);  //lightDirs[i]; 
184	        float lightEnabled = float( length(L) > 0.0 );
185	        L = normalize(L+(1.0-lightEnabled));
186	
187	        // Calculate lighting properties
188	        float lambertTerm = clamp( dot(N,L), 0.0, 1.0 );
189	        vec3 H = normalize(L+V); // Halfway vector
190	        float specularTerm = pow( max(dot(H,N),0.0), u_shininess);
191	
192	        // Calculate mask
193	        float mask1 = lightEnabled;
194	
195	        // Calculate colors
196	        ambient_color +=  mask1 * u_ambient;  // * gl_LightSource[i].ambient;
197	        diffuse_color +=  mask1 * lambertTerm;
198	        specular_color += mask1 * specularTerm * u_specular;
199	    }
200	
201	    // Calculate final color by componing different components
202	    final_color = color2 * ( ambient_color + diffuse_color) + specular_color;
203	    final_color.a = color2.a;
204	
205	    // Done
206	    return final_color;
207	}
208	
209	
210	vec3 intersectLinePlane(vec3 linePosition, 
211	                        vec3 lineVector, 
212	                        vec3 planePosition, 
213	                        vec3 planeNormal) {
214	    // function to find the intersection between a line and a plane
215	    // line is defined by position and vector
216	    // plane is defined by position and normal vector
217	    // https://en.wikipedia.org/wiki/Line%E2%80%93plane_intersection
218	
219	    // find scale factor for line vector
220	    float scaleFactor = dot(planePosition - linePosition, planeNormal) / 
221	                        dot(lineVector, planeNormal);
222	
223	    // calculate intersection
224	    return linePosition + ( scaleFactor * lineVector );
225	}
226	
227	// for some reason, this has to be the last function in order for the
228	// filters to be inserted in the correct place...
229	
230	void main() {
231	    vec3 farpos = v_farpos.xyz / v_farpos.w;
232	    vec3 nearpos = v_nearpos.xyz / v_nearpos.w;
233	
234	    // Calculate unit vector pointing in the view direction through this
235	    // fragment.
236	    view_ray = normalize(farpos.xyz - nearpos.xyz);
237	
238	    // Variables to keep track of where to set the frag depth.
239	    // frag_depth_point is in data coordinates.
240	    vec3 frag_depth_point;
241	
242	    // Set up the ray casting
243	    // This snippet must define three variables:
244	    // vec3 start_loc - the starting location of the ray in texture coordinates
245	    // vec3 step - the step vector in texture coordinates
246	    // int nsteps - the number of steps to make through the texture
247	    
248	    $raycasting_setup
249	
250	    // For testing: show the number of steps. This helps to establish
251	    // whether the rays are correctly oriented
252	    //gl_FragColor = vec4(0.0, f_nsteps / 3.0 / u_shape.x, 1.0, 1.0);
253	    //return;
254	
255	    $before_loop
256	
257	    // This outer loop seems necessary on some systems for large
258	    // datasets. Ugly, but it works ...
259	    vec3 loc = start_loc;
260	    int iter = 0;
261	
262	    // keep track if the texture is ever sampled; if not, fragment will be discarded
263	    // this allows us to discard fragments that only traverse clipped parts of the texture
264	    bool texture_sampled = false;
265	
266	    while (iter < nsteps) {
267	        for (iter=iter; iter<nsteps; iter++)
268	        {
269	            // Only sample volume if loc is not clipped by clipping planes
270	            float distance_from_clip = $clip_with_planes(loc, u_shape);
271	            if (distance_from_clip >= 0)
272	            {
273	                // Get sample color
274	                vec4 color = $get_data(loc);
275	                float val = color.r;
276	                texture_sampled = true;
277	
278	                $in_loop
279	            }
280	            // Advance location deeper into the volume
281	            loc += step;
282	        }
283	    }
284	
285	    if (!texture_sampled)
286	        discard;
287	
288	    $after_loop
289	
290	    // set frag depth
291	    vec4 frag_depth_vector = vec4(frag_depth_point, 1);
292	    vec4 iproj = $viewtransformf(frag_depth_vector);
293	    iproj.z /= iproj.w;
294	    gl_FragDepth = (iproj.z+1.0)/2.0;
295	}
296	"""  # noqa
297	
298	_RAYCASTING_SETUP_VOLUME = """

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/visuals/volume.py:1193
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
1192	            warnings.warn(
1193	                f'To display a volume of shape {self._vol_shape} without '
1194	                f'artifacts, you need a step size no smaller than {side_len} /'
1195	                f'(2 * {MAX_CANVAS_SIZE}) = {minimum_val:,.3g}. To prevent '
1196	                'extreme degradation in rendering performance, the provided '
1197	                f'value of {value} is being clipped to {minimum_val:,.3g}. If '
1198	                'you believe you need a smaller step size, please raise an '

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/vispy-0.14.3/vispy-0.14.3/vispy/visuals/windbarb.py:49
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
48	
49	_FRAGMENT_SHADER = """
50	#include "math/constants.glsl"
51	#include "math/signed-segment-distance.glsl"
52	#include "antialias/antialias.glsl"
53	varying vec4 v_fg_color;
54	varying vec4 v_bg_color;
55	varying vec2 v_wind;
56	varying float v_trig;
57	varying float v_edgewidth;
58	varying float v_antialias;
59	
60	// SDF-Triangle by @rougier
61	// https://github.com/rougier/python-opengl/blob/master/code/chapter-06/SDF-triangle.py
62	float sdf_triangle(vec2 p, vec2 p0, vec2 p1, vec2 p2)
63	{
64	    vec2 e0 = p1 - p0;
65	    vec2 e1 = p2 - p1;
66	    vec2 e2 = p0 - p2;
67	    vec2 v0 = p - p0;
68	    vec2 v1 = p - p1;
69	    vec2 v2 = p - p2;
70	    vec2 pq0 = v0 - e0*clamp( dot(v0,e0)/dot(e0,e0), 0.0, 1.0 );
71	    vec2 pq1 = v1 - e1*clamp( dot(v1,e1)/dot(e1,e1), 0.0, 1.0 );
72	    vec2 pq2 = v2 - e2*clamp( dot(v2,e2)/dot(e2,e2), 0.0, 1.0 );
73	    float s = sign( e0.x*e2.y - e0.y*e2.x );
74	    vec2 d = min( min( vec2( dot( pq0, pq0 ), s*(v0.x*e0.y-v0.y*e0.x) ),
75	                     vec2( dot( pq1, pq1 ), s*(v1.x*e1.y-v1.y*e1.x) )),
76	                     vec2( dot( pq2, pq2 ), s*(v2.x*e2.y-v2.y*e2.x) ));
77	    return -sqrt(d.x)*sign(d.y);
78	}
79	
80	void main()
81	{
82	    // Discard plotting marker body and edge if zero-size
83	    if ($v_size <= 0.)
84	        discard;
85	
86	    float edgewidth = max(v_edgewidth, 1.0);
87	    float linewidth = max(v_edgewidth, 1.0);
88	    float edgealphafactor = min(v_edgewidth, 1.0);
89	
90	    float size = $v_size + 4.*(edgewidth + 1.5*v_antialias);
91	    // factor 6 for acute edge angles that need room as for star marker
92	    
93	    vec2 wind = v_wind;
94	    
95	    if (v_trig > 0.)
96	    {
97	        float u = wind.x * cos(radians(wind.y));
98	        float v = wind.x * sin(radians(wind.y));
99	        wind = vec2(u, v);
100	    }
101	    
102	    // knots to m/s
103	    wind *= 2.;
104	    
105	    // normalized distance
106	    float dx = 0.5;
107	    // normalized center point
108	    vec2 O = vec2(dx);
109	    // normalized x-component
110	    vec2 X = normalize(wind) * dx / M_SQRT2 / 1.1 * vec2(1, -1);
111	    // normalized y-component
112	    // here the barb can be mirrored for southern earth * (vec2(1., -1.)
113	    //vec2 Y = X.yx * vec2(1., -1.); // southern hemisphere
114	    vec2 Y = X.yx * vec2(-1., 1.); // northern hemisphere
115	    // PointCoordinate
116	    vec2 P = gl_PointCoord;
117	
118	    // calculate barb items
119	    float speed = length(wind);
120	    int flag = int(floor(speed / 50.));
121	    speed -= float (50 * flag);
122	    int longbarb = int(floor(speed / 10.));
123	    speed -= float (longbarb * 10);
124	    int shortbarb = int(floor(speed / 5.));
125	    int calm = shortbarb + longbarb + flag;
126	
127	    // starting distance
128	    float r;
129	    // calm, plot circles
130	    if (calm == 0)
131	    {
132	        r = abs(length(O-P)- dx * 0.2);
133	        r = min(r, abs(length(O-P)- dx * 0.1));
134	    }
135	    else
136	    {
137	        // plot shaft
138	        r = segment_distance(P, O, O-X);
139	        float pos = 1.;
140	
141	        // plot flag(s)
142	        while(flag >= 1)
143	        {
144	            r = min(r, sdf_triangle(P, O-X*pos, O-X*pos-X*.4-Y*.4, O-X*pos-X*.4));
145	            flag -= 1;
146	            pos -= 0.15;
147	        }
148	        // plot longbarb(s)
149	        while(longbarb >= 1)
150	        {
151	            r = min(r, segment_distance(P, O-X*pos, O-X*pos-X*.4-Y*.4));
152	            longbarb -= 1;
153	            pos -= 0.15;
154	        }
155	        // plot shortbarb
156	        while(shortbarb >= 1)
157	        {
158	            if (pos == 1.0)
159	                pos -= 0.15;
160	            r = min(r, segment_distance(P, O-X*pos, O-X*pos-X*.2-Y*.2));
161	            shortbarb -= 1;
162	            pos -= 0.15;
163	        }
164	    }
165	
166	    // apply correction for size
167	    r *= size;
168	
169	    vec4 edgecolor = vec4(v_fg_color.rgb, edgealphafactor*v_fg_color.a);
170	
171	    if (r > 0.5 * v_edgewidth + v_antialias)
172	    {
173	        // out of the marker (beyond the outer edge of the edge
174	        // including transition zone due to antialiasing)
175	        discard;
176	    }
177	
178	    gl_FragColor = filled(r, edgewidth, v_antialias, edgecolor);
179	}
180	"""
181	
182	
183	class WindbarbVisual(Visual):

--------------------------------------------------

Code scanned:
	Total lines of code: 72788
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 25.0
		High: 51.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 73.0
		High: 3.0
Files skipped (0):
