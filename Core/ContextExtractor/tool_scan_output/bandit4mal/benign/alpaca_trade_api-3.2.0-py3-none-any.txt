Run started:2025-04-12 10:16:40.659724

Test results:
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/common.py:62
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
61	    return URL(os.environ.get(
62	        'APCA_API_BASE_URL', 'https://api.alpaca.markets').rstrip('/'))
63	
64	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/common.py:67
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
66	    return URL(os.environ.get(
67	        'APCA_API_DATA_URL', 'https://data.alpaca.markets').rstrip('/'))
68	
69	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/common.py:73
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
72	        'APCA_API_STREAM_URL',
73	        'https://stream.data.alpaca.markets').rstrip('/')
74	               )
75	
76	

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:59
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
58	    def code(self):
59	        return self._error.get('code', self.status_code)
60	

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:183
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
182	        self._use_raw_data = raw_data
183	        self._retry = int(os.environ.get('APCA_RETRY_MAX', 3))
184	        self._retry_wait = int(os.environ.get('APCA_RETRY_WAIT', 3))

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:184
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
183	        self._retry = int(os.environ.get('APCA_RETRY_MAX', 3))
184	        self._retry_wait = int(os.environ.get('APCA_RETRY_WAIT', 3))
185	        self._retry_codes = [int(o) for o in os.environ.get(

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:185
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
184	        self._retry_wait = int(os.environ.get('APCA_RETRY_WAIT', 3))
185	        self._retry_codes = [int(o) for o in os.environ.get(
186	            'APCA_RETRY_CODES', '429,504').split(',')]
187	

--------------------------------------------------
>> Issue: [B822:request] requests.request
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:222
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b822_request.html
221	            try:
222	                return self._one_request(method, url, opts, retry)
223	            except RetryException:

--------------------------------------------------
>> Issue: [B822:request] requests.request
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:241
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b822_request.html
240	        retry_codes = self._retry_codes
241	        resp = self._session.request(method, url, **opts)
242	        try:

--------------------------------------------------
>> Issue: [B822:request] requests.request
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:254
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b822_request.html
253	    def get(self, path, data=None):
254	        return self._request('GET', path, data)
255	

--------------------------------------------------
>> Issue: [B822:request] requests.request
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:257
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b822_request.html
256	    def post(self, path, data=None):
257	        return self._request('POST', path, data)
258	

--------------------------------------------------
>> Issue: [B822:request] requests.request
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:260
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b822_request.html
259	    def put(self, path, data=None):
260	        return self._request('PUT', path, data)
261	

--------------------------------------------------
>> Issue: [B822:request] requests.request
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:263
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b822_request.html
262	    def patch(self, path, data=None):
263	        return self._request('PATCH', path, data)
264	

--------------------------------------------------
>> Issue: [B822:request] requests.request
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:266
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b822_request.html
265	    def delete(self, path, data=None):
266	        return self._request('DELETE', path, data)
267	

--------------------------------------------------
>> Issue: [B822:request] requests.request
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:274
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b822_request.html
273	            data['feed'] = feed
274	        return self._request(
275	            'GET', path, data, base_url=base_url, api_version=api_version,
276	        )

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:280
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
279	        """Get the account"""
280	        resp = self.get('/account')
281	        return self.response_wrapper(resp, Account)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:285
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
284	        """Get account configs"""
285	        resp = self.get('/account/configurations')
286	        return self.response_wrapper(resp, AccountConfigurations)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:356
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
355	        url = '/orders'
356	        resp = self.get(url, params)
357	        if self._use_raw_data:

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:433
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
432	            params['trail_percent'] = trail_percent
433	        resp = self.post('/orders', params)
434	        return self.response_wrapper(resp, Order)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:441
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
440	        }
441	        resp = self.get('/orders:by_client_order_id', params)
442	        return self.response_wrapper(resp, Order)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:449
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
448	            params['nested'] = nested
449	        resp = self.get('/orders/{}'.format(order_id), params)
450	        return self.response_wrapper(resp, Order)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:500
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
499	        """Get a list of open positions"""
500	        resp = self.get('/positions')
501	        if self._use_raw_data:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:508
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
507	        """Get an open position"""
508	        resp = self.get('/positions/{}'.format(symbol))
509	        return self.response_wrapper(resp, Position)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:545
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
544	        }
545	        resp = self.get('/assets', params)
546	        if self._use_raw_data:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:553
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
552	        """Get an asset"""
553	        resp = self.get('/assets/{}'.format(symbol))
554	        return self.response_wrapper(resp, Asset)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:569
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
568	        total_items = 0
569	        limit = kwargs.get('limit')
570	        is_multi_symbol = api_version == 'v1beta3' or \

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:594
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
593	                path += f'/{endpoint}'
594	            resp = self.data_get(path, data=data, feed=feed,
595	                                 api_version=api_version)
596	            if not resp_grouped_by_symbol:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:598
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
597	                k = endpoint or endpoint_base
598	                for item in resp.get(k, []) or []:
599	                    yield item

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:602
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
601	            else:
602	                by_symbol = resp.get(endpoint, {}) or {}
603	                for sym, items in sorted(by_symbol.items()):

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:608
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
607	                        total_items += 1
608	            page_token = resp.get('next_page_token')
609	            if not page_token:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:621
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
620	                        raw=False) -> TradeIterator:
621	        trades = self._data_get('trades', symbol,
622	                                start=start,
623	                                end=end,
624	                                limit=limit,
625	                                feed=feed,
626	                                asof=asof,
627	                                sort=sort,
628	                                )

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:663
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
662	                        raw=False) -> QuoteIterator:
663	        quotes = self._data_get('quotes', symbol,
664	                                start=start,
665	                                end=end,
666	                                limit=limit,
667	                                feed=feed,
668	                                asof=asof,
669	                                sort=sort,
670	                                )

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:708
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
707	                      raw=False) -> BarIterator:
708	        bars = self._data_get('bars', symbol,
709	                              timeframe=timeframe,
710	                              adjustment=adjustment,
711	                              start=start,
712	                              end=end,
713	                              limit=limit,
714	                              feed=feed,
715	                              asof=asof,
716	                              sort=sort,
717	                              )

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:748
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
747	    def get_latest_bar(self, symbol: str, feed: Optional[str] = None) -> BarV2:
748	        resp = self.data_get(
749	            '/stocks/{}/bars/latest'.format(symbol),
750	            feed=feed,
751	            api_version='v2')
752	        return self.response_wrapper(resp['bar'], BarV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:756
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
755	                        feed: Optional[str] = None) -> LatestBarsV2:
756	        resp = self.data_get(
757	            f'/stocks/bars/latest?symbols={_join_with_commas(symbols)}',
758	            feed=feed,
759	            api_version='v2')
760	        return self.response_wrapper(resp['bars'], LatestBarsV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:764
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
763	                         feed: Optional[str] = None) -> TradeV2:
764	        resp = self.data_get(
765	            '/stocks/{}/trades/latest'.format(symbol),
766	            feed=feed,
767	            api_version='v2')
768	        return self.response_wrapper(resp['trade'], TradeV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:772
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
771	                          feed: Optional[str] = None) -> LatestTradesV2:
772	        resp = self.data_get(
773	            f'/stocks/trades/latest?symbols={_join_with_commas(symbols)}',
774	            feed=feed,
775	            api_version='v2')
776	        return self.response_wrapper(resp['trades'], LatestTradesV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:780
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
779	                         feed: Optional[str] = None) -> QuoteV2:
780	        resp = self.data_get(
781	            '/stocks/{}/quotes/latest'.format(symbol),
782	            feed=feed,
783	            api_version='v2')
784	        return self.response_wrapper(resp['quote'], QuoteV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:788
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
787	                          feed: Optional[str] = None) -> LatestQuotesV2:
788	        resp = self.data_get(
789	            f'/stocks/quotes/latest?symbols={_join_with_commas(symbols)}',
790	            feed=feed,
791	            api_version='v2')
792	        return self.response_wrapper(resp['quotes'], LatestQuotesV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:796
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
795	                     feed: Optional[str] = None) -> SnapshotV2:
796	        resp = self.data_get('/stocks/{}/snapshot'.format(symbol),
797	                             feed=feed,
798	                             api_version='v2')
799	        return self.response_wrapper(resp, SnapshotV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:803
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
802	                      feed: Optional[str] = None) -> SnapshotsV2:
803	        resp = self.data_get(
804	            '/stocks/snapshots?symbols={}'.format(_join_with_commas(symbols)),
805	            feed=feed,
806	            api_version='v2')
807	        return self.response_wrapper(resp, SnapshotsV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:817
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
816	                               raw=False) -> TradeIterator:
817	        trades = self._data_get('trades', symbol,
818	                                api_version='v1beta3', endpoint_base='crypto',
819	                                start=start, end=end, limit=limit, sort=sort,
820	                                loc=loc)
821	        for trade in trades:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:845
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
844	                               raw=False) -> QuoteIterator:
845	        quotes = self._data_get('quotes', symbol,
846	                                api_version='v1beta3', endpoint_base='crypto',
847	                                start=start, end=end, limit=limit, sort=sort,
848	                                loc=loc)
849	        for quote in quotes:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:874
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
873	                             raw=False) -> BarIterator:
874	        bars = self._data_get('bars', symbol,
875	                              api_version='v1beta3', endpoint_base='crypto',
876	                              timeframe=timeframe,
877	                              start=start, end=end, limit=limit, sort=sort,
878	                              loc=loc)
879	        for bar in bars:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:898
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
897	                               loc: str = "us") -> LatestBarsV2:
898	        resp = self.data_get(
899	            f'/crypto/{loc}/latest/bars',
900	            data={'symbols': _join_with_commas(symbols)},
901	            api_version='v1beta3')
902	        return self.response_wrapper(resp['bars'], LatestBarsV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:906
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
905	                                 loc: str = "us") -> LatestTradesV2:
906	        resp = self.data_get(
907	            f'/crypto/{loc}/latest/trades',
908	            data={'symbols': _join_with_commas(symbols)},
909	            api_version='v1beta3')
910	        return self.response_wrapper(resp['trades'], LatestTradesV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:914
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
913	                                 loc: str = "us") -> LatestQuotesV2:
914	        resp = self.data_get(
915	            f'/crypto/{loc}/latest/quotes',
916	            data={'symbols': _join_with_commas(symbols)},
917	            api_version='v1beta3')
918	        return self.response_wrapper(resp['quotes'], LatestQuotesV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:922
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
921	                            loc: str = "us") -> SnapshotsV2:
922	        resp = self.data_get(
923	            f'/crypto/{loc}/snapshots',
924	            data={'symbols': symbols},
925	            api_version='v1beta3')
926	        return self.response_wrapper(resp['snapshots'], SnapshotsV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:930
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
929	                             loc: str = "us") -> SnapshotsV2:
930	        resp = self.data_get(
931	            f'/crypto/{loc}/snapshots',
932	            data={'symbols': _join_with_commas(symbols)},
933	            api_version='v1beta3')
934	        return self.response_wrapper(resp['snapshots'], SnapshotsV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:938
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
937	                                    loc: str = "us") -> OrderbookV2:
938	        resp = self.data_get(
939	            f'/crypto/{loc}/latest/orderbooks',
940	            data={'symbols': symbol},
941	            api_version='v1beta3')
942	        return self.response_wrapper(resp['orderbooks'], OrderbooksV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:946
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
945	                                     loc: str = "us") -> OrderbookV2:
946	        resp = self.data_get(
947	            f'/crypto/{loc}/latest/orderbooks',
948	            data={'symbols': _join_with_commas(symbols)},
949	            api_version='v1beta3')
950	        return self.response_wrapper(resp['orderbooks'], OrderbooksV2)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:965
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
964	            symbol = [symbol]
965	        news = self._data_get('', symbol,
966	                              api_version='v1beta1', endpoint_base='news',
967	                              start=start, end=end, limit=limit, sort=sort,
968	                              include_content=include_content,
969	                              exclude_contentless=exclude_contentless,
970	                              resp_grouped_by_symbol=False,
971	                              page_limit=NEWS_MAX_LIMIT)
972	        for n in news:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:997
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
996	    def get_clock(self) -> Clock:
997	        resp = self.get('/clock')
998	        return self.response_wrapper(resp, Clock)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:1039
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
1038	            params['page_token'] = page_token
1039	        resp = self.get(url, data=params)
1040	        if self._use_raw_data:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:1056
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
1055	            params['end'] = end
1056	        resp = self.get('/calendar', data=params)
1057	        if self._use_raw_data:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:1064
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
1063	        """Get the list of watchlists registered under the account"""
1064	        resp = self.get('/watchlists')
1065	        if self._use_raw_data:

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:1072
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
1071	        """Get a watchlist identified by the ID"""
1072	        resp = self.get('/watchlists/{}'.format((watchlist_id)))
1073	        return self.response_wrapper(resp, Watchlist)

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:1080
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
1079	        }
1080	        resp = self.get('/watchlists:by_name', data=params)
1081	        return self.response_wrapper(resp, Watchlist)

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:1092
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
1091	            params['symbols'] = symbols
1092	        resp = self.post('/watchlists', data=params)
1093	        return self.response_wrapper(resp, Watchlist)

--------------------------------------------------
>> Issue: [B821:post] requests.post
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:1097
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b821_post.html
1096	        """Add an asset to the watchlist"""
1097	        resp = self.post(
1098	            '/watchlists/{}'.format(watchlist_id), data=dict(symbol=symbol)
1099	        )

--------------------------------------------------
>> Issue: [B820:get] requests.get
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest.py:1152
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b820_get.html
1151	            params['extended_hours'] = extended_hours
1152	        resp = self.get('/account/portfolio/history', data=params)
1153	        return self.response_wrapper(resp, PortfolioHistory)

--------------------------------------------------
>> Issue: [B825:request] http.client.HTTPConnection.request
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/rest_async.py:47
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b825_request.html
46	        url = self._get_historic_url(entity_type, symbol)
47	        async for packet in self._request(url, payload):
48	            if packet.get(entity_type):

--------------------------------------------------
>> Issue: [B804:connect] socket.socket.connect
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:79
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b804_connect.html
78	    async def _connect(self):
79	        self._ws = await websockets.connect(
80	            self._endpoint,
81	            extra_headers={'Content-Type': 'application/msgpack'},
82	            **self._websocket_params
83	        )

--------------------------------------------------
>> Issue: [B809:recv] socket.socket.recv
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:84
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b809_recv.html
83	        )
84	        r = await self._ws.recv()
85	        msg = msgpack.unpackb(r)

--------------------------------------------------
>> Issue: [B805:send] socket.socket.send
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:90
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b805_send.html
89	    async def _auth(self):
90	        await self._ws.send(
91	            msgpack.packb({
92	                'action': 'auth',
93	                'key':    self._key_id,
94	                'secret': self._secret_key,
95	            }))

--------------------------------------------------
>> Issue: [B809:recv] socket.socket.recv
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:96
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b809_recv.html
95	            }))
96	        r = await self._ws.recv()
97	        msg = msgpack.unpackb(r)

--------------------------------------------------
>> Issue: [B804:connect] socket.socket.connect
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:104
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b804_connect.html
103	    async def _start_ws(self):
104	        await self._connect()
105	        await self._auth()

--------------------------------------------------
>> Issue: [B807:close] socket.socket.close
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:110
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b807_close.html
109	        if self._ws:
110	            await self._ws.close()
111	            self._ws = None

--------------------------------------------------
>> Issue: [B807:close] socket.socket.close
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:123
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b807_close.html
122	                self._stop_stream_queue.get(timeout=1)
123	                await self.close()
124	                break

--------------------------------------------------
>> Issue: [B809:recv] socket.socket.recv
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:127
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b809_recv.html
126	                try:
127	                    r = await asyncio.wait_for(self._ws.recv(), 5)
128	                    msgs = msgpack.unpackb(r)

--------------------------------------------------
>> Issue: [B805:send] socket.socket.send
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:216
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b805_send.html
215	                  for i in range(0, len(bs), self._max_frame_size))
216	        await self._ws.send(frames)
217	

--------------------------------------------------
>> Issue: [B807:close] socket.socket.close
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:256
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b807_close.html
255	            except websockets.WebSocketException as wse:
256	                await self.close()
257	                self._running = False

--------------------------------------------------
>> Issue: [B805:send] socket.socket.send
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:410
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b805_send.html
409	                statuses or lulds):
410	            await self._ws.send(
411	                msgpack.packb({
412	                    'action':      'unsubscribe',
413	                    'trades':      trades,
414	                    'quotes':      quotes,
415	                    'bars':        bars,
416	                    'updatedBars': updated_bars,
417	                    'dailyBars':   daily_bars,
418	                    'statuses':    statuses,
419	                    'lulds':       lulds,
420	                }))

--------------------------------------------------
>> Issue: [B805:send] socket.socket.send
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:514
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b805_send.html
513	        ):
514	            await self._ws.send(
515	                msgpack.packb({
516	                    'action':      'unsubscribe',
517	                    'trades':      trades,
518	                    'quotes':      quotes,
519	                    'orderbooks':  orderbooks,
520	                    'bars':        bars,
521	                    'updatedBars': updated_bars,
522	                    'dailyBars':   daily_bars,
523	                }))

--------------------------------------------------
>> Issue: [B805:send] socket.socket.send
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:590
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b805_send.html
589	        if news:
590	            await self._ws.send(
591	                msgpack.packb({
592	                    'action': 'unsubscribe',
593	                    'news':    news,
594	                }))

--------------------------------------------------
>> Issue: [B804:connect] socket.socket.connect
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:632
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b804_connect.html
631	    async def _connect(self):
632	        self._ws = await websockets.connect(
633	            self._endpoint,
634	            **self._websocket_params
635	        )

--------------------------------------------------
>> Issue: [B805:send] socket.socket.send
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:638
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b805_send.html
637	    async def _auth(self):
638	        await self._ws.send(
639	            json.dumps({
640	                'action': 'authenticate',
641	                'data':   {
642	                    'key_id':     self._key_id,
643	                    'secret_key': self._secret_key,
644	                }

--------------------------------------------------
>> Issue: [B809:recv] socket.socket.recv
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:646
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b809_recv.html
645	            }))
646	        r = await self._ws.recv()
647	        msg = json.loads(r)

--------------------------------------------------
>> Issue: [B805:send] socket.socket.send
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:665
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b805_send.html
664	        if self._trade_updates_handler:
665	            await self._ws.send(
666	                json.dumps({
667	                    'action': 'listen',
668	                    'data':   {
669	                        'streams': ['trade_updates']
670	                    }

--------------------------------------------------
>> Issue: [B804:connect] socket.socket.connect
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:682
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b804_connect.html
681	    async def _start_ws(self):
682	        await self._connect()
683	        await self._auth()

--------------------------------------------------
>> Issue: [B807:close] socket.socket.close
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:691
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b807_close.html
690	                self._stop_stream_queue.get(timeout=1)
691	                await self.close()
692	                break

--------------------------------------------------
>> Issue: [B809:recv] socket.socket.recv
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:695
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b809_recv.html
694	                try:
695	                    r = await asyncio.wait_for(self._ws.recv(), 5)
696	                    msg = json.loads(r)

--------------------------------------------------
>> Issue: [B807:close] socket.socket.close
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:726
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b807_close.html
725	            except websockets.WebSocketException as wse:
726	                await self.close()
727	                self._running = False

--------------------------------------------------
>> Issue: [B807:close] socket.socket.close
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/alpaca_trade_api-3.2.0-py3-none-any/alpaca_trade_api/stream.py:738
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b807_close.html
737	        if self._ws:
738	            await self._ws.close()
739	            self._ws = None

--------------------------------------------------

Code scanned:
	Total lines of code: 2631
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 3.0
		High: 81.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 84.0
		High: 0.0
Files skipped (0):
