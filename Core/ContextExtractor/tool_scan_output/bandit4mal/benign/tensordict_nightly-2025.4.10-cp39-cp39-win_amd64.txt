Run started:2025-04-12 10:38:02.644584

Test results:
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/_lazy.py:2765
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
2764	                with open(prefix / "meta.json", "wb") as f:
2765	                    f.write(
2766	                        json.dumps(
2767	                            {"_type": str(type(self)), "stack_dim": self.stack_dim}
2768	                        )

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/_lazy.py:4031
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
4030	            with open(filepath, "wb") as json_metadata:
4031	                json_metadata.write(json.dumps(metadata))
4032	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/_td.py:4187
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
4186	                with open(prefix / "meta.json", "wb") as f:
4187	                    f.write(
4188	                        json.dumps(
4189	                            {
4190	                                "_type": str(type(self)),
4191	                                "index": _index_to_str(self.idx),
4192	                            }

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/_td.py:4692
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
4691	    with open(filepath, "wb") as json_metadata:
4692	        json_metadata.write(json.dumps(metadata))
4693	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:4607
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
4606	                    raise RuntimeError(
4607	                        "NTs that are not jagged are not supported by the bytes method. Please use the jagged layout instead "
4608	                        "or raise and issue on https://github.com/pytorch/tensordict/issues instead."
4609	                    )

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:5385
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
5384	            if num_threads > 1:
5385	                executor = ThreadPoolExecutor(num_threads)
5386	                r = []

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:5528
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
5527	                with open(filename, "w+b") as f:
5528	                    f.write(total_storage._handler.buffer)
5529	            # with open(Path(filename).with_suffix(".json"), "wb") as f:

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:5611
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
5610	            with (
5611	                ThreadPoolExecutor(max_workers=num_threads)
5612	                if not return_early

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:5616
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
5615	                if return_early:
5616	                    executor = ThreadPoolExecutor(max_workers=num_threads)
5617	                futures = []

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:5813
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
5812	            with (
5813	                ThreadPoolExecutor(max_workers=num_threads)
5814	                if not return_early

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:5818
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
5817	                if return_early:
5818	                    executor = ThreadPoolExecutor(max_workers=num_threads)
5819	                futures = []

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:5908
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
5907	            with (
5908	                ThreadPoolExecutor(max_workers=num_threads)
5909	                if not return_early

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:5913
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
5912	                if return_early:
5913	                    executor = ThreadPoolExecutor(max_workers=num_threads)
5914	                futures = []

--------------------------------------------------
>> Issue: [B840:executor] concurrent.futures.Executor
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:8667
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b840_executor.html
8666	        local_futures = []
8667	        executor = ThreadPoolExecutor(max_workers=num_threads)
8668	        self._multithread_apply_flat(

--------------------------------------------------
>> Issue: [B839:pool] multiprocessing.Pool
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:8942
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b839_pool.html
8941	                queue.put(i)
8942	            with ctx.Pool(
8943	                processes=num_workers,
8944	                initializer=_proc_init,
8945	                initargs=(seed, queue, worker_threads),
8946	                maxtasksperchild=max_tasks_per_child,
8947	            ) as pool:

--------------------------------------------------
>> Issue: [B839:pool] multiprocessing.Pool
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:9133
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b839_pool.html
9132	                queue.put(i)
9133	            pool = ctx.Pool(
9134	                processes=num_workers,
9135	                initializer=_proc_init,
9136	                initargs=(seed, queue, worker_threads),
9137	                maxtasksperchild=max_tasks_per_child,
9138	            )

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:13417
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
13416	        for _ in range(min(num_threads, lkeys)):
13417	            thread = Thread(target=_pin_mem, args=(q_in, q_out))
13418	            thread.start()

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/base.py:13999
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
13998	    with open(filepath, "rb") as json_metadata:
13999	        metadata = json.loads(json_metadata.read())
14000	    return metadata

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/persistent.py:767
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
766	            with open(filepath, "wb") as json_metadata:
767	                json_metadata.write(json.dumps(metadata))
768	

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/persistent.py:767
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
766	            with open(filepath, "wb") as json_metadata:
767	                json_metadata.write(json.dumps(metadata))
768	

--------------------------------------------------
>> Issue: [B839:pool] multiprocessing.Pool
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/persistent.py:897
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b839_pool.html
896	                queue.put(i)
897	            with ctx.Pool(
898	                processes=num_workers,
899	                initializer=_proc_init,
900	                initargs=(seed, queue, worker_threads),
901	                maxtasksperchild=max_tasks_per_child,
902	            ) as pool:

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/tensorclass.py:1515
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
1514	                        to_pickle[key] = value
1515	                f.write(json.dumps(metadata))
1516	                if to_pickle:

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/tensorclass.py:3808
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
3807	                with open(prefix / "meta.json", "wb") as f:
3808	                    f.write(json.dumps(jsondict))
3809	

--------------------------------------------------
>> Issue: [B836:rmtree] shutil.rmtree
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/tensordict_nightly-2025.4.10-cp39-cp39-win_amd64/tensordict/tensorclass.py:3964
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b836_rmtree.html
3963	            if self._path_to_memmap.exists():
3964	                shutil.rmtree(self._path_to_memmap)
3965	            memmap = True

--------------------------------------------------

Code scanned:
	Total lines of code: 37703
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 1.0
		High: 23.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 24.0
		High: 0.0
Files skipped (0):
