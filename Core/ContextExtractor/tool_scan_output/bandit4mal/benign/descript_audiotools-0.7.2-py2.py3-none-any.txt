Run started:2025-04-12 12:03:36.441022

Test results:
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/audio_signal.py:602
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
601	            warnings.warn("Audio amplitude > 1 clipped when saving")
602	        soundfile.write(str(audio_path), self.audio_data[0].numpy().T, self.sample_rate)
603	

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/audio_signal.py:602
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
601	            warnings.warn("Audio amplitude > 1 clipped when saving")
602	        soundfile.write(str(audio_path), self.audio_data[0].numpy().T, self.sample_rate)
603	

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/audio_signal.py:693
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
692	        with tempfile.NamedTemporaryFile(suffix=".wav") as f:
693	            self.write(f.name)
694	            h = hashlib.sha256()

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/audio_signal.py:693
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
692	        with tempfile.NamedTemporaryFile(suffix=".wav") as f:
693	            self.write(f.name)
694	            h = hashlib.sha256()

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/ffmpeg.py:102
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
101	            for i in range(self.batch_size):
102	                self[i].write(f.name)
103	                loudness_stats = r128stats(f.name, quiet=quiet)

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/ffmpeg.py:132
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
131	        with tempfile.NamedTemporaryFile(suffix=".wav") as f:
132	            self.write(f.name)
133	            f_out = f.name.replace("wav", "rs.wav")

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:69
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
68	            tmpfiles.append(tmp_wav)
69	            self.write(tmp_wav.name)
70	            if ext != ".wav" and ffmpy:

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:69
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
68	            tmpfiles.append(tmp_wav)
69	            self.write(tmp_wav.name)
70	            if ext != ".wav" and ffmpy:

--------------------------------------------------
>> Issue: [B802:b64encode] base64.b64encode
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:143
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b802_b64encode.html
142	            buffer.seek(0)
143	            data_uri = base64.b64encode(buffer.read()).decode("ascii")
144	            tag = "data:image/png;base64,{0}".format(data_uri)

--------------------------------------------------
>> Issue: [B301:blacklist] base64.b64encode
   Severity: Medium   Confidence: High
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:143
   More Info: https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b301-base64-b64encode
142	            buffer.seek(0)
143	            data_uri = base64.b64encode(buffer.read()).decode("ascii")
144	            tag = "data:image/png;base64,{0}".format(data_uri)

--------------------------------------------------
>> Issue: [B814:read] os.read
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:143
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b814_read.html
142	            buffer.seek(0)
143	            data_uri = base64.b64encode(buffer.read()).decode("ascii")
144	            tag = "data:image/png;base64,{0}".format(data_uri)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:202
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
201	            tmpfiles.append(tmp_wav)
202	            self.write(tmp_wav.name)
203	            print(self)

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:202
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
201	            tmpfiles.append(tmp_wav)
202	            self.write(tmp_wav.name)
203	            print(self)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:249
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
248	    with open("/tmp/index.html", "w") as f:
249	        f.write(wave_html)
250	        f.write(spec_html)

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:249
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
248	    with open("/tmp/index.html", "w") as f:
249	        f.write(wave_html)
250	        f.write(spec_html)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:250
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
249	        f.write(wave_html)
250	        f.write(spec_html)
251	        f.write(combined_html)

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:250
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
249	        f.write(wave_html)
250	        f.write(spec_html)
251	        f.write(combined_html)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:251
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
250	        f.write(spec_html)
251	        f.write(combined_html)
252	        f.write(lowpass_html)

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:251
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
250	        f.write(spec_html)
251	        f.write(combined_html)
252	        f.write(lowpass_html)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:252
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
251	        f.write(combined_html)
252	        f.write(lowpass_html)

--------------------------------------------------
>> Issue: [B832:write] tempfile_NamedTemporaryFile_write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/playback.py:252
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b832_write.html
251	        f.write(combined_html)
252	        f.write(lowpass_html)

--------------------------------------------------
>> Issue: [B815:write] os.write
   Severity: High   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/core/util.py:657
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b815_write.html
656	        for voice_name, sig in track.items():
657	            sig.write(track_dir / f"{voice_name}.wav")
658	

--------------------------------------------------
>> Issue: [B824:url_found] url_found
   Severity: Medium   Confidence: Medium
   Location: /home/blue/PyPIAgent/Dataset/study/unzip_benign/descript_audiotools-0.7.2-py2.py3-none-any/audiotools/preference.py:42
   More Info: https://bandit.readthedocs.io/en/latest/plugins/b824_url_found.html
41	
42	load_wavesurfer_js = """
43	function load_wavesurfer() {
44	    function load_script(url) {
45	        const script = document.createElement('script');
46	        script.src = url;
47	        document.body.appendChild(script);
48	
49	        return new Promise((res, rej) => {
50	            script.onload = function() {
51	                res();
52	            }
53	            script.onerror = function () {
54	                rej();
55	            }
56	        });
57	    }
58	
59	    function create_wavesurfer() {
60	        var options = {
61	            container: '#waveform',
62	            waveColor: '#F2F2F2', // Set a darker wave color
63	            progressColor: 'white', // Set a slightly lighter progress color
64	            loaderColor: 'white', // Set a slightly lighter loader color
65	            cursorColor: 'black', // Set a slightly lighter cursor color
66	            backgroundColor: '#00AAFF', // Set a black background color
67	            barWidth: 4,
68	            barRadius: 3,
69	            barHeight: 1, // the height of the wave
70	            plugins: [
71	                WaveSurfer.regions.create({
72	                    regionsMinLength: 0.0,
73	                    dragSelection: {
74	                        slop: 5
75	                    },
76	                    color: 'hsla(200, 50%, 70%, 0.4)',
77	                }),
78	                 WaveSurfer.timeline.create({
79	                    container: "#wave-timeline",
80	                    primaryLabelInterval: 5.0,
81	                    secondaryLabelInterval: 1.0,
82	                    primaryFontColor: '#F2F2F2',
83	                    secondaryFontColor: '#F2F2F2',
84	                }),
85	            ]
86	        };
87	        wavesurfer = WaveSurfer.create(options);
88	        wavesurfer.on('region-created', region => {
89	            wavesurfer.regions.clear();
90	        });
91	        wavesurfer.on('finish', function () {
92	            var loop =  document.getElementById("loop-button").textContent.includes("ON");
93	            if (loop) {
94	                wavesurfer.play();
95	            }
96	            else {
97	                var button_elements = document.getElementsByClassName('playpause')
98	                var buttons = Array.from(button_elements);
99	
100	                for (let j = 0; j < buttons.length; j++) {
101	                    buttons[j].classList.remove("primary");
102	                    buttons[j].classList.add("secondary");
103	                    buttons[j].textContent = buttons[j].textContent.replace("Stop", "Play")
104	                }
105	            }
106	        });
107	
108	        wavesurfer.on('region-out', function () {
109	            var loop =  document.getElementById("loop-button").textContent.includes("ON");
110	            if (!loop) {
111	                var button_elements = document.getElementsByClassName('playpause')
112	                var buttons = Array.from(button_elements);
113	
114	                for (let j = 0; j < buttons.length; j++) {
115	                    buttons[j].classList.remove("primary");
116	                    buttons[j].classList.add("secondary");
117	                    buttons[j].textContent = buttons[j].textContent.replace("Stop", "Play")
118	                }
119	                wavesurfer.pause();
120	            }
121	        });
122	
123	        console.log("Created WaveSurfer object.")
124	    }
125	
126	    load_script('https://unpkg.com/wavesurfer.js')
127	        .then(() => {
128	            load_script("https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.timeline.min.js")
129	                .then(() => {
130	                    load_script('https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.regions.min.js')
131	                        .then(() => {
132	                            console.log("Loaded regions");
133	                            create_wavesurfer();
134	                            document.getElementById("start-survey").click();
135	                        })
136	                })
137	        });
138	}
139	"""
140	
141	play = lambda i: """

--------------------------------------------------

Code scanned:
	Total lines of code: 7498
	Total lines skipped (#nosec): 0

Run metrics:
	Total issues (by severity):
		Undefined: 0.0
		Low: 0.0
		Medium: 2.0
		High: 21.0
	Total issues (by confidence):
		Undefined: 0.0
		Low: 0.0
		Medium: 22.0
		High: 1.0
Files skipped (0):
