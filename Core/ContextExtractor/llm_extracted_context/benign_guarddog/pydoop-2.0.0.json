[
  {
    "metadata": {
      "package_name": "pydoop-2.0.0",
      "report_path": "/home2/blue/Documents/PyPIAgent/Codes/tool_detect/detect_output/study/guarddog/benign/pydoop-2.0.0.txt",
      "total_matches": 2
    }
  },
  {
    "pyfile": "setup.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/pydoop-2.0.0/pydoop-2.0.0/setup.py",
    "line_number": "229",
    "type_description": "code-execution",
    "original_snippet": "ret = os.system(compile_cmd)",
    "context_snippet": "class JavaBuilder(object):\n\n    def __init__(self, build_temp, build_lib):\n        self.build_temp = build_temp\n        self.build_lib = build_lib\n        self.java_libs = [JavaLib()]\n\n    def run(self):\n        for jlib in self.java_libs:\n            self.__build_java_lib(jlib)\n\n    def __build_java_lib(self, jlib):\n        package_path = os.path.join(self.build_lib, \"pydoop\")\n        compile_cmd = \"javac\"\n        if jlib.classpath:\n            classpath = [jlib.classpath]\n            for src in jlib.dependencies:\n                dest = os.path.join(package_path, os.path.basename(src))\n                shutil.copyfile(src, dest)\n                classpath.append(dest)\n            compile_cmd += \" -classpath %s\" % (':'.join(classpath))\n        else:\n            log.warn(\n                \"WARNING: could not set classpath, java code may not compile\"\n            )\n        class_dir = os.path.join(\n            self.build_temp, \"pipes\"\n        )\n        jar_path = os.path.join(package_path, jlib.jar_name)\n        if not os.path.exists(class_dir):\n            os.mkdir(class_dir)\n        compile_cmd += \" -d '%s'\" % class_dir\n        log.info(\"Compiling Java classes\")\n        for f in jlib.java_files:\n            compile_cmd += \" %s\" % f\n        ret = os.system(compile_cmd)\n        if ret:\n            raise DistutilsSetupError(\n                \"Error compiling java component.  Command: %s\" % compile_cmd\n            )\n        log.info(\"Copying properties file\")\n        for p in jlib.properties:\n            prop_file_dest = os.path.join(class_dir, p[0])\n            shutil.copyfile(p[1], prop_file_dest)\n        log.info(\"Making Jar: %s\", jar_path)\n        package_cmd = \"jar -cf %(jar_path)s -C %(class_dir)s ./it\" % {\n            'jar_path': jar_path, 'class_dir': class_dir\n        }\n        log.info(\"Packaging Java classes\")\n        log.info(\"Command: %s\", package_cmd)\n        ret = os.system(package_cmd)\n        if ret:\n            raise DistutilsSetupError(\n                \"Error packaging java component.  Command: %s\" % package_cmd\n            )",
    "hash_value": "9a3805661d08704d5e66150bf0b11885",
    "detection_index": 1
  }
]