[
  {
    "metadata": {
      "package_name": "opendatasets-0.1.22",
      "report_path": "/home2/blue/Documents/PyPIAgent/Codes/tool_detect/detect_output/study/guarddog/benign/opendatasets-0.1.22.txt",
      "total_matches": 1
    }
  },
  {
    "pyfile": "kaggle_api.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/opendatasets-0.1.22/opendatasets-0.1.22/opendatasets/utils/kaggle_api.py",
    "line_number": "45",
    "type_description": "shady-links",
    "original_snippet": "print(\"Please provide your Kaggle credentials to download this dataset. Learn more: http://bit.ly/kaggle-creds\")",
    "context_snippet": "import os\nfrom opendatasets.utils.kaggle_direct import get_kaggle_dataset_id, is_kaggle_url\nfrom opendatasets.utils.archive import extract_archive\nimport click\nimport json\n\n\ndef download_kaggle_dataset(dataset_url, data_dir, force=False, dry_run=False):\n    dataset_id = get_kaggle_dataset_id(dataset_url)\n    id = dataset_id.split('/')[1]\n    target_dir = os.path.join(data_dir, id)\n\n    if not force and os.path.exists(target_dir) and len(os.listdir(target_dir)) > 0:\n        print('Skipping, found downloaded files in \"{}\" (use force=True to force download)'.format(\n            target_dir))\n        return\n\n    if not read_kaggle_creds():\n        print(\"Please provide your Kaggle credentials to download this dataset. Learn more: http://bit.ly/kaggle-creds\")\n        os.environ['KAGGLE_USERNAME'] = click.prompt(\"Your Kaggle username\")\n        os.environ['KAGGLE_KEY'] = _get_kaggle_key()\n\n    if not dry_run:\n        from kaggle import api\n        api.authenticate()\n        if dataset_id.split('/')[0] == 'competitions' or dataset_id.split('/')[0] == 'c':\n            api.competition_download_files(\n                id,\n                target_dir,\n                force=force,\n                quiet=False)\n            zip_fname = target_dir + '/' + id + '.zip'\n            extract_archive(zip_fname, target_dir)\n            try:\n                os.remove(zip_fname)\n            except OSError as e:\n                print('Could not delete zip file, got' + str(e))\n        else:\n            api.dataset_download_files(\n                dataset_id,\n                target_dir,\n                force=force,\n                quiet=False,\n                unzip=True)\n\n    else:\n        print(\"This is a dry run, skipping..\")",
    "hash_value": "9986b24d6e8e24168f4e2382ae1cff9f",
    "detection_index": 1
  }
]