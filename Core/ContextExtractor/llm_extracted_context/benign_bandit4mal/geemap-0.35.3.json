[
  {
    "metadata": {
      "package_name": "geemap-0.35.3",
      "total_matches": 3,
      "processing_date": "2025-05-18 01:49:39"
    }
  },
  {
    "pyfile": "ai.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/geemap-0.35.3/geemap-0.35.3/geemap/ai.py",
    "line_number": "1142",
    "type_description": "B820:get",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "1141\t            return \"\"\n1142\t        js_code = self.stac_json.get(\"code\").get(\"js_code\")\n1143\t        self.stac_json[\"code\"] = {\"js_code\": \"\", \"py_code\": code}",
    "context_snippet": "def set_js_code(self, code: str) -> None:\n    \"\"\"Sets the JavaScript code sample for the collection.\n\n    Args:\n        code (str): The JavaScript code sample to set.\n    \"\"\"\n    if not code:\n        return \"\"\n    js_code = self.stac_json.get(\"code\").get(\"js_code\")\n    self.stac_json[\"code\"] = {\"js_code\": \"\", \"py_code\": code}\n",
    "hash_value": "7fe560a25b3fb8dd263017ede9c2e1a5"
  },
  {
    "pyfile": "common.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/geemap-0.35.3/geemap-0.35.3/geemap/common.py",
    "line_number": "4245",
    "type_description": "B834:open",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "4244\n4245\t    with open(html_file) as f:\n4246\t        in_html_lines = f.readlines()",
    "context_snippet": "def read_api_csv():\n    \"\"\"Extracts Earth Engine API from a csv file and returns a dictionary containing information about each function.\n\n    Returns:\n        dict: The dictionary containing information about each function, including name, description, function form, return type, arguments, html.\n    \"\"\"\n    import copy\n\n    import pkg_resources\n\n    pkg_dir = os.path.dirname(pkg_resources.resource_filename(\"geemap\", \"geemap.py\"))\n    data_dir = os.path.join(pkg_dir, \"data\")\n    template_dir = os.path.join(data_dir, \"template\")\n    csv_file = os.path.join(template_dir, \"ee_api_docs.csv\")\n    html_file = os.path.join(template_dir, \"ee_api_docs.html\")\n\n    with open(html_file) as f:\n        in_html_lines = f.readlines()\n\n    api_dict = {}\n\n    with open(csv_file, \"r\", encoding=\"utf-8\") as f:\n        csv_reader = csv.DictReader(f, delimiter=\"\\t\")\n\n        for line in csv_reader:\n            out_html_lines = copy.copy(in_html_lines)\n            out_html_lines[65] = in_html_lines[65].replace(\n                \"function_name\", line[\"name\"]\n            )\n            out_html_lines[66] = in_html_lines[66].replace(\n                \"function_description\", line.get(\"description\")\n            )\n            out_html_lines[74] = in_html_lines[74].replace(\n                \"function_usage\", line.get(\"function\")\n            )\n            out_html_lines[75] = in_html_lines[75].replace(\n                \"function_returns\", line.get(\"returns\")\n            )\n\n            arguments = line.get(\"argument\")\n            types = line.get(\"type\")\n            details = line.get(\"details\")\n\n            if \"|\" in arguments:\n                argument_items = arguments.split(\"|\")\n            else:\n                argument_items = [arguments]\n\n            if \"|\" in types:\n                types_items = types.split(\"|\")\n            else:\n                types_items = [types]\n\n            if \"|\" in details:\n                details_items = details.split(\"|\")\n            else:\n                details_items = [details]\n\n            out_argument_lines = []\n\n            for index in range(len(argument_items)):\n                in_argument_lines = in_html_lines[87:92]\n                in_argument_lines[1] = in_argument_lines[1].replace(\n                    \"function_argument\", argument_items[index]\n                )\n                in_argument_lines[2] = in_argument_lines[2].replace(\n                    \"function_type\", types_items[index]\n                )\n                in_argument_lines[3] = in_argument_lines[3].replace(\n                    \"function_details\", details_items[index]\n                )\n                out_argument_lines.append(\"\".join(in_argument_lines))\n\n            out_html_lines = (\n                out_html_lines[:87] + out_argument_lines + out_html_lines[92:]\n            )\n\n            contents = \"\".join(out_html_lines)\n\n            api_dict[line[\"name\"]] = {\n                \"description\": line.get(\"description\"),\n                \"function\": line.get(\"function\"),\n                \"returns\": line.get(\"returns\"),\n                \"argument\": line.get(\"argument\"),\n                \"type\": line.get(\"type\"),\n                \"details\": line.get(\"details\"),\n                \"html\": contents,\n            }\n\n    return api_dict\n",
    "hash_value": "4ce7d041d3125f7cd56013b297acbb17"
  },
  {
    "pyfile": "common.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/geemap-0.35.3/geemap-0.35.3/geemap/common.py",
    "line_number": "2450",
    "type_description": "B834:open",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "2449\t    else:\n2450\t        with open(out_geojson, \"w\", encoding=encoding) as f:\n2451\t            f.write(json.dumps(geojson))",
    "context_snippet": "def csv_to_geojson(\n    in_csv,\n    out_geojson=None,\n    latitude=\"latitude\",\n    longitude=\"longitude\",\n    encoding=\"utf-8\",\n):\n    \"\"\"Creates points for a CSV file and exports data as a GeoJSON.\n\n    Args:\n        in_csv (str): The file path to the input CSV file.\n        out_geojson (str): The file path to the exported GeoJSON. Default to None.\n        latitude (str, optional): The name of the column containing latitude coordinates. Defaults to \"latitude\".\n        longitude (str, optional): The name of the column containing longitude coordinates. Defaults to \"longitude\".\n        encoding (str, optional): The encoding of characters. Defaults to \"utf-8\".\n\n    \"\"\"\n\n    import pandas as pd\n\n    in_csv = github_raw_url(in_csv)\n\n    if out_geojson is not None:\n        out_geojson = check_file_path(out_geojson)\n\n    df = pd.read_csv(in_csv)\n    geojson = df_to_geojson(\n        df, latitude=latitude, longitude=longitude, encoding=encoding\n    )\n\n    if out_geojson is None:\n        return geojson\n    else:\n        with open(out_geojson, \"w\", encoding=encoding) as f:\n            f.write(json.dumps(geojson))",
    "hash_value": "b4bab859111318080cae124f679e0125"
  }
]