[
  {
    "metadata": {
      "package_name": "tf_models_nightly-2.20.0.dev20250411-py2.py3-none-any",
      "total_matches": 1,
      "processing_date": "2025-05-18 01:49:40"
    }
  },
  {
    "pyfile": "data_download.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/tf_models_nightly-2.20.0.dev20250411-py2.py3-none-any/official/legacy/transformer/data_download.py",
    "line_number": "205",
    "type_description": "B834:open",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "204\t  logging.info(\"Extracting %s.\", compressed_file)\n205\t  with tarfile.open(compressed_file, \"r:gz\") as corpus_tar:\n206\t    corpus_tar.extractall(path)",
    "context_snippet": "def download_and_extract(path, url, input_filename, target_filename):\n  \"\"\"Extract files from downloaded compressed archive file.\n\n  Args:\n    path: string directory where the files will be downloaded\n    url: url containing the compressed input and target files\n    input_filename: name of file containing data in source language\n    target_filename: name of file containing data in target language\n\n  Returns:\n    Full paths to extracted input and target files.\n\n  Raises:\n    OSError: if the download/extraction fails.\n  \"\"\"\n  # Check if extracted files already exist in path\n  input_file = find_file(path, input_filename)\n  target_file = find_file(path, target_filename)\n  if input_file and target_file:\n    logging.info(\"Already downloaded and extracted %s.\", url)\n    return input_file, target_file\n\n  # Download archive file if it doesn't already exist.\n  compressed_file = download_from_url(path, url)\n\n  # Extract compressed files\n  logging.info(\"Extracting %s.\", compressed_file)\n  with tarfile.open(compressed_file, \"r:gz\") as corpus_tar:\n    corpus_tar.extractall(path)\n\n  # Return file paths of the requested files.\n  input_file = find_file(path, input_filename)\n  target_file = find_file(path, target_filename)\n\n  if input_file and target_file:\n    return input_file, target_file\n\n  raise OSError(\"Download/extraction failed for url %s to path %s\" %\n                (url, path))",
    "hash_value": "b21414f6b1a3e000ffd5ac0ebcf73da0"
  }
]