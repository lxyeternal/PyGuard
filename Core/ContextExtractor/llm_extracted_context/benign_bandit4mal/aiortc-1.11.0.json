[
  {
    "metadata": {
      "package_name": "aiortc-1.11.0",
      "total_matches": 1,
      "processing_date": "2025-05-18 01:49:40"
    }
  },
  {
    "pyfile": "webcam.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/aiortc-1.11.0/aiortc-1.11.0/examples/webcam/webcam.py",
    "line_number": "29",
    "type_description": "B817:system",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "28\t        if relay is None:\n29\t            if platform.system() == \"Darwin\":\n30\t                webcam = MediaPlayer(",
    "context_snippet": "import platform\nfrom aiortc.contrib.media import MediaPlayer, MediaRelay\n\nrelay = None\nwebcam = None\n\ndef create_local_tracks(play_from, decode):\n    global relay, webcam\n\n    if play_from:\n        player = MediaPlayer(play_from, decode=decode)\n        return player.audio, player.video\n    else:\n        options = {\"framerate\": \"30\", \"video_size\": \"640x480\"}\n        if relay is None:\n            if platform.system() == \"Darwin\":\n                webcam = MediaPlayer(\n                    \"default:none\", format=\"avfoundation\", options=options\n                )\n            elif platform.system() == \"Windows\":\n                webcam = MediaPlayer(\n                    \"video=Integrated Camera\", format=\"dshow\", options=options\n                )\n            else:\n                webcam = MediaPlayer(\"/dev/video0\", format=\"v4l2\", options=options)\n            relay = MediaRelay()\n        return None, relay.subscribe(webcam.video)",
    "hash_value": "d996d51c1b4ff43af90e1a0cb309c5f2"
  }
]