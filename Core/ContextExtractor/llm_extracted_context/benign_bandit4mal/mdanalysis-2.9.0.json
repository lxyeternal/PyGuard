[
  {
    "metadata": {
      "package_name": "mdanalysis-2.9.0",
      "total_matches": 1,
      "processing_date": "2025-05-18 01:49:39"
    }
  },
  {
    "pyfile": "setup.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/mdanalysis-2.9.0/mdanalysis-2.9.0/setup.py",
    "line_number": "204",
    "type_description": "B815:write",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "203\t                    f.write(\"#include {0!s}\\n\".format(include))\n204\t                f.write(\"int main(void) {\\n\")\n205\t                f.write(\"    {0!s};\\n\".format(funcname))",
    "context_snippet": "def hasfunction(cc, funcname, include=None, extra_postargs=None):\n    # From http://stackoverflow.com/questions/\n    #            7018879/disabling-output-when-compiling-with-distutils\n    tmpdir = tempfile.mkdtemp(prefix=\"hasfunction-\")\n    devnull = oldstderr = None\n    try:\n        try:\n            fname = os.path.join(tmpdir, \"funcname.c\")\n            with open(fname, \"w\") as f:\n                if include is not None:\n                    f.write(\"#include {0!s}\\n\".format(include))\n                f.write(\"int main(void) {\\n\")\n                f.write(\"    {0!s};\\n\".format(funcname))\n                f.write(\"}\\n\")\n            # Redirect stderr to /dev/null to hide any error messages\n            # from the compiler.\n            # This will have to be changed if we ever have to check\n            # for a function on Windows.\n            devnull = open(\"/dev/null\", \"w\")\n            oldstderr = os.dup(sys.stderr.fileno())\n            os.dup2(devnull.fileno(), sys.stderr.fileno())\n            objects = cc.compile(\n                [fname], output_dir=tmpdir, extra_postargs=extra_postargs\n            )\n            cc.link_executable(objects, os.path.join(tmpdir, \"a.out\"))\n        except Exception:\n            return False\n        return True\n    finally:\n        if oldstderr is not None:\n            os.dup2(oldstderr, sys.stderr.fileno())\n        if devnull is not None:\n            devnull.close()\n        shutil.rmtree(tmpdir)",
    "hash_value": "ef692dbe4bd07cb87c3c27d10d78766f"
  }
]