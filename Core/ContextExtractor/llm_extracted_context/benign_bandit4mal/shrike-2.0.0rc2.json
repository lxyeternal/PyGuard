[
  {
    "metadata": {
      "package_name": "shrike-2.0.0rc2",
      "total_matches": 1,
      "processing_date": "2025-05-18 01:49:40"
    }
  },
  {
    "pyfile": "dask.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/shrike-2.0.0rc2/shrike-2.0.0rc2/shrike/distributed/dask.py",
    "line_number": "128",
    "type_description": "B803:gethostname",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "127\t        # create setup config\n128\t        self.head_address = socket.gethostbyname(socket.gethostname())\n129",
    "context_snippet": "@experimental(message=EXPERIMENTAL_WARNING_MSG)\ndef setup_head_node(self):\n    \"\"\"Setup to run only on head node\"\"\"\n    self._log_info_publicly(EXPERIMENTAL_WARNING_MSG)\n    self._log_info_publicly(\n        f\"{self.__class__.__name__}.setup_head_node() called to set up HEAD node.\"\n    )\n    # create setup config\n    self.head_address = socket.gethostbyname(socket.gethostname())\n\n    # record what's needed to setup cluster nodes\n    self.setup_config_add_key(\"head_address\", self.head_address)\n\n    self.pid = os.fork()  # type: ignore\n    if self.pid > 0:\n        self.rank = \"0.1\"\n\n        async def run_scheduler():\n            async with Scheduler(\n                port=self.head_port, scheduler_file=\"scheduler.json\"\n            ) as scheduler:\n                await scheduler.finished()\n\n        asyncio.get_event_loop().run_until_complete(run_scheduler())\n        self._log_info_publicly(f\"[R{self.rank}]SCHEDULER IS OFFLINE\")\n        self.multinode_driver.finalize()\n        sys.exit(0)\n",
    "hash_value": "0dd9965e83831b484f05a212906f4e43"
  }
]