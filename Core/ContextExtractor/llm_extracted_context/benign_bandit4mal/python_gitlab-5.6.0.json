[
  {
    "metadata": {
      "package_name": "python_gitlab-5.6.0",
      "total_matches": 1,
      "processing_date": "2025-05-18 01:49:39"
    }
  },
  {
    "pyfile": "projects.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/python_gitlab-5.6.0/python_gitlab-5.6.0/gitlab/v4/objects/projects.py",
    "line_number": "1109",
    "type_description": "B821:post",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "1108\t            kwargs[\"timeout\"] = 60.0\n1109\t        result = self.gitlab.http_post(\n1110\t            \"/import/bitbucket_server\", post_data=data, **kwargs\n1111\t        )",
    "context_snippet": "def import_bitbucket_server(\n        self,\n        bitbucket_server_url: str,\n        bitbucket_server_username: str,\n        personal_access_token: str,\n        bitbucket_server_project: str,\n        bitbucket_server_repo: str,\n        new_name: Optional[str] = None,\n        target_namespace: Optional[str] = None,\n        **kwargs: Any,\n    ) -> Union[Dict[str, Any], requests.Response]:\n        \"\"\"Import a project from BitBucket Server to Gitlab (schedule the import)\n\n        This method will return when an import operation has been safely queued,\n        or an error has occurred. After triggering an import, check the\n        ``import_status`` of the newly created project to detect when the import\n        operation has completed.\n\n        .. note::\n            This request may take longer than most other API requests.\n            So this method will specify a 60 second default timeout if none is\n            specified.\n            A timeout can be specified via kwargs to override this functionality.\n\n        Args:\n            bitbucket_server_url: Bitbucket Server URL\n            bitbucket_server_username: Bitbucket Server Username\n            personal_access_token: Bitbucket Server personal access\n                token/password\n            bitbucket_server_project: Bitbucket Project Key\n            bitbucket_server_repo: Bitbucket Repository Name\n            new_name: New repository name (Optional)\n            target_namespace: Namespace to import repository into.\n                Supports subgroups like /namespace/subgroup (Optional)\n            **kwargs: Extra options to send to the server (e.g. sudo)\n\n        Raises:\n            GitlabAuthenticationError: If authentication is not correct\n            GitlabListError: If the server failed to perform the request\n\n        Returns:\n            A representation of the import status.\n\n        Example:\n\n        .. code-block:: python\n\n            gl = gitlab.Gitlab_from_config()\n            print(\"Triggering import\")\n            result = gl.projects.import_bitbucket_server(\n                bitbucket_server_url=\"https://some.server.url\",\n                bitbucket_server_username=\"some_bitbucket_user\",\n                personal_access_token=\"my_password_or_access_token\",\n                bitbucket_server_project=\"my_project\",\n                bitbucket_server_repo=\"my_repo\",\n                new_name=\"gl_project_name\",\n                target_namespace=\"gl_project_path\"\n            )\n            project = gl.projects.get(ret['id'])\n            print(\"Waiting for import to complete\")\n            while project.import_status == u'started':\n                time.sleep(1.0)\n                project = gl.projects.get(project.id)\n            print(\"BitBucket import complete\")\n\n        \"\"\"\n        data = {\n            \"bitbucket_server_url\": bitbucket_server_url,\n            \"bitbucket_server_username\": bitbucket_server_username,\n            \"personal_access_token\": personal_access_token,\n            \"bitbucket_server_project\": bitbucket_server_project,\n            \"bitbucket_server_repo\": bitbucket_server_repo,\n        }\n        if new_name:\n            data[\"new_name\"] = new_name\n        if target_namespace:\n            data[\"target_namespace\"] = target_namespace\n        if (\n            \"timeout\" not in kwargs\n            or self.gitlab.timeout is None\n            or self.gitlab.timeout < 60.0\n        ):\n            # Ensure that this HTTP request has a longer-than-usual default timeout\n            # The base gitlab object tends to have a default that is <10 seconds,\n            # and this is too short for this API command, typically.\n            # On the order of 24 seconds has been measured on a typical gitlab instance.\n            kwargs[\"timeout\"] = 60.0\n        result = self.gitlab.http_post(\n            \"/import/bitbucket_server\", post_data=data, **kwargs\n        )\n        return result",
    "hash_value": "e3eeb6d01ff15db89f0694faa0b8d778"
  }
]