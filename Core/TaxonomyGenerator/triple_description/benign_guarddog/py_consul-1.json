{
  "metadata": {
    "package_name": "py_consul-1",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign/py_consul-1.6.0.json",
    "dataset_type": "benign"
  },
  "code_files": [
    {
      "pyfile": "setup.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/py_consul-1.6.0/py_consul-1.6.0/setup.py",
      "line_number": "32",
      "type_description": "cmd-overwrite",
      "context_snippet": "import glob\nimport os\nimport re\n\nfrom setuptools import find_packages, setup\nfrom setuptools.command.install import install\n\nwith open(\"consul/__init__.py\", encoding=\"utf-8\") as f:\n    metadata = dict(re.findall('__([a-z]+)__ = \"([^\"]+)\"', f.read()))\n\ndef _read_reqs(relpath: str):\n    fullpath = os.path.join(os.path.dirname(__file__), relpath)\n    with open(fullpath, encoding=\"utf-8\") as f:\n        return [s.strip() for s in f.readlines() if (s.strip() and not s.startswith(\"#\"))]\n\ndescription = \"Python client for Consul (http://www.consul.io/)\"\n\npy_modules = [os.path.splitext(x)[0] for x in glob.glob(\"consul/*.py\")]\n\nclass Install(install):\n    def run(self):\n        install.run(self)\n\nwith open(\"README.md\", encoding=\"utf-8\") as f1, open(\"CHANGELOG.md\", encoding=\"utf-8\") as f2:\n    long_description = f\"{f1.read()}\\n\\n{f2.read()}\"\n\nsetup(\n    name=\"py-consul\",\n    version=metadata[\"version\"],\n    author=\"Criteo\",\n    author_email=\"github@criteo.com\",\n    url=\"https://github.com/criteo-forks/py-consul\",\n    license=\"MIT\",\n    description=description,\n    description_content_type=\"text/markdown\",\n    long_description=long_description,\n    long_description_content_type=\"text/markdown\",\n    py_modules=py_modules,\n    install_requires=_read_reqs(\"requirements.txt\"),\n    extras_require={\n        \"asyncio\": [\"aiohttp\"],\n    },\n    data_files=[(\".\", [\"requirements.txt\", \"tests-requirements.txt\"])],\n    packages=find_packages(exclude=[\"tests*\"]),\n    tests_require=_read_reqs(\"tests-requirements.txt\"),\n    cmdclass={\"install\": Install},\n    classifiers=[\n        \"Development Status :: 3 - Alpha\",\n        \"Intended Audience :: Developers\",\n        \"License :: OSI Approved :: MIT License\",\n        \"Programming Language :: Python :: 3\",\n        \"Programming Language :: Python :: 3.9\",\n        \"Programming Language :: Python :: 3.10\",\n        \"Programming Language :: Python :: 3.11\",\n        \"Programming Language :: Python :: 3.12\",\n        \"Programming Language :: Python :: 3.13\",\n    ],\n)\n",
      "hash_value": "5001c0401328162b71d1b3b2bf571c57",
      "detection_index": 1,
      "code_snippets": [
        {
          "snippet": "import glob\nimport os\nimport re\n\nfrom setuptools import find_packages, setup\nfrom setuptools.command.install import install\n\nwith open(\"consul/__init__.py\", encoding=\"utf-8\") as f:\n    metadata = dict(re.findall('__([a-z]+)__ = \"([^\"]+)\"', f.read()))\n\ndef _read_reqs(relpath: str):\n    fullpath = os.path.join(os.path.dirname(__file__), relpath)\n    with open(fullpath, encoding=\"utf-8\") as f:\n        return [s.strip() for s in f.readlines() if (s.strip() and not s.startswith(\"#\"))]\n\ndescription = \"Python client for Consul (http://www.consul.io/)\"\n\npy_modules = [os.path.splitext(x)[0] for x in glob.glob(\"consul/*.py\")]\n\nclass Install(install):\n    def run(self):\n        install.run(self)\n\nwith open(\"README.md\", encoding=\"utf-8\") as f1, open(\"CHANGELOG.md\", encoding=\"utf-8\") as f2:\n    long_description = f\"{f1.read()}\\n\\n{f2.read()}\"\n\nsetup(\n    name=\"py-consul\",\n    version=metadata[\"version\"],\n    author=\"Criteo\",\n    author_email=\"github@criteo.com\",\n    url=\"https://github.com/criteo-forks/py-consul\",\n    license=\"MIT\",\n    description=description,\n    description_content_type=\"text/markdown\",\n    long_description=long_description,\n    long_description_content_type=\"text/markdown\",\n    py_modules=py_modules,\n    install_requires=_read_reqs(\"requirements.txt\"),\n    extras_require={\n        \"asyncio\": [\"aiohttp\"],\n    },\n    data_files=[(\".\", [\"requirements.txt\", \"tests-requirements.txt\"])],\n    packages=find_packages(exclude=[\"tests*\"]),\n    tests_require=_read_reqs(\"tests-requirements.txt\"),\n    cmdclass={\"install\": Install},\n    classifiers=[\n        \"Development Status :: 3 - Alpha\",\n        \"Intended Audience :: Developers\",\n        \"License :: OSI Approved :: MIT License\",\n        \"Programming Language :: Python :: 3\",\n        \"Programming Language :: Python :: 3.9\",\n        \"Programming Language :: Python :: 3.10\",\n        \"Programming Language :: Python :: 3.11\",\n        \"Programming Language :: Python :: 3.12\",\n        \"Programming Language :: Python :: 3.13\",\n    ],\n)\n",
          "triple_sequences": [
            {
              "action_api": "open()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "consul/__init__.py",
              "object_description": "Script file path",
              "object_id": "script_file_path",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "re.findall()",
              "action_description": "Compiles regular expression pattern",
              "action_id": "compile_regex",
              "object": "'__([a-z]+)__ = \"([^\"]+)\"', f.read()",
              "object_description": "Regex file content",
              "object_id": "regex_file_content",
              "intention_description": "Extract structured file data",
              "intention_id": "extract_structured_file_data"
            },
            {
              "action_api": "os.path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "os.path.dirname(__file__), relpath",
              "object_description": "Directory path with file",
              "object_id": "directory_path_with_file",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "open()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "fullpath",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "f.readlines()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "os.path.splitext()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "x",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Prepare path for file operations",
              "intention_id": "prepare_path_file_operations"
            },
            {
              "action_api": "glob.glob()",
              "action_description": "List directory contents",
              "action_id": "list_directory_contents",
              "object": "consul/*.py",
              "object_description": "Directory path with file",
              "object_id": "directory_path_with_file",
              "intention_description": "List files in directory",
              "intention_id": "list_directory_files"
            },
            {
              "action_api": "open()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "README.md",
              "object_description": "Script file path",
              "object_id": "script_file_path",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "open()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "CHANGELOG.md",
              "object_description": "Script file path",
              "object_id": "script_file_path",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "f1.read()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "f2.read()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "find_packages()",
              "action_description": "Compiles regular expression pattern",
              "action_id": "compile_regex",
              "object": "exclude=[\"tests*\"]",
              "object_description": "Regex pattern",
              "object_id": "regex_pattern",
              "intention_description": "Browser profile detection preparation",
              "intention_id": "browser_profile_detection_preparation"
            },
            {
              "action_api": "setup()",
              "action_description": "Executes setuptools installation procedure",
              "action_id": "exec_setuptools_install",
              "object": "name=\"py-consul\", version=metadata[\"version\"], ...",
              "object_description": "Module name string",
              "object_id": "module_name_string",
              "intention_description": "Trigger main behavioral logic",
              "intention_id": "trigger_main_behavioral_logic"
            }
          ]
        }
      ]
    }
  ]
}