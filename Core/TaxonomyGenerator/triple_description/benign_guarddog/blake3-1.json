{
  "metadata": {
    "package_name": "blake3-1",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign/blake3-1.0.4.json",
    "dataset_type": "benign"
  },
  "code_files": [
    {
      "pyfile": "setup.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/blake3-1.0.4/blake3-1.0.4/c_impl/setup.py",
      "line_number": "194",
      "type_description": "code-execution",
      "context_snippet": "def compile_windows_msvc_asm():\n    ml64 = windows_ml64_path()\n    object_files = []\n    for filepath in windows_msvc_asm_files:\n        obj_path = path.splitext(filepath)[0] + \".obj\"\n        cmd = [ml64, \"/Fo\", obj_path, \"/c\", filepath]\n        print(\" \".join(cmd))\n        subprocess.run(cmd, check=True)\n        object_files.append(obj_path)\n    return object_files\n\nwindows_msvc_asm_files = [\n    \"vendor/blake3_sse2_x86-64_windows_msvc.asm\",\n    \"vendor/blake3_sse41_x86-64_windows_msvc.asm\",\n    \"vendor/blake3_avx2_x86-64_windows_msvc.asm\",\n    \"vendor/blake3_avx512_x86-64_windows_msvc.asm\",\n]\ndef windows_ml64_path():\n    vswhere_path = (\n        r\"C:\\Program Files (x86)\\Microsoft Visual Studio\\Installer\\vswhere.exe\"\n    )\n    if not path.exists(vswhere_path):\n        raise RuntimeError(vswhere_path + \" doesn't exist.\")\n    vswhere_cmd = [\n        vswhere_path,\n        \"-latest\",\n        \"-requires\",\n        \"Microsoft.VisualStudio.Component.VC.Tools.x86.x64\",\n        \"-products\",\n        \"*\",\n        \"-find\",\n        r\"**\\Hostx64\\x64\\ml64.exe\",\n    ]\n    result = subprocess.run(vswhere_cmd, check=True, stdout=subprocess.PIPE, text=True)\n    vswhere_output = result.stdout.strip()\n    if not result.stdout:\n        raise RuntimeError(\"vswhere.exe didn't output a path\")\n    ml64_path = vswhere_output.splitlines()[-1]\n    if not path.exists(ml64_path):\n        raise RuntimeError(ml64_path + \" doesn't exist\")\n    return ml64_path\n\nimport subprocess\nfrom os import path",
      "hash_value": "c31da9081990a0379967caab7eb2de13",
      "detection_index": 1,
      "code_snippets": [
        {
          "snippet": "def compile_windows_msvc_asm():\n    ml64 = windows_ml64_path()\n    object_files = []\n    for filepath in windows_msvc_asm_files:\n        obj_path = path.splitext(filepath)[0] + \".obj\"\n        cmd = [ml64, \"/Fo\", obj_path, \"/c\", filepath]\n        print(\" \".join(cmd))\n        subprocess.run(cmd, check=True)\n        object_files.append(obj_path)\n    return object_files\n\nwindows_msvc_asm_files = [\n    \"vendor/blake3_sse2_x86-64_windows_msvc.asm\",\n    \"vendor/blake3_sse41_x86-64_windows_msvc.asm\",\n    \"vendor/blake3_avx2_x86-64_windows_msvc.asm\",\n    \"vendor/blake3_avx512_x86-64_windows_msvc.asm\",\n]\ndef windows_ml64_path():\n    vswhere_path = (\n        r\"C:\\Program Files (x86)\\Microsoft Visual Studio\\Installer\\vswhere.exe\"\n    )\n    if not path.exists(vswhere_path):\n        raise RuntimeError(vswhere_path + \" doesn't exist.\")\n    vswhere_cmd = [\n        vswhere_path,\n        \"-latest\",\n        \"-requires\",\n        \"Microsoft.VisualStudio.Component.VC.Tools.x86.x64\",\n        \"-products\",\n        \"*\",\n        \"-find\",\n        r\"**\\Hostx64\\x64\\ml64.exe\",\n    ]\n    result = subprocess.run(vswhere_cmd, check=True, stdout=subprocess.PIPE, text=True)\n    vswhere_output = result.stdout.strip()\n    if not result.stdout:\n        raise RuntimeError(\"vswhere.exe didn't output a path\")\n    ml64_path = vswhere_output.splitlines()[-1]\n    if not path.exists(ml64_path):\n        raise RuntimeError(ml64_path + \" doesn't exist\")\n    return ml64_path\n\nimport subprocess\nfrom os import path",
          "triple_sequences": [
            {
              "action_api": "path.exists()",
              "action_description": "Checks if specified path exists in filesystem",
              "action_id": "check_path_exists",
              "object": "C:\\Program Files (x86)\\Microsoft Visual Studio\\Installer\\vswhere.exe",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Check if file or directory exists",
              "intention_id": "check_file_existence"
            },
            {
              "action_api": "subprocess.run()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "[C:\\Program Files (x86)\\Microsoft Visual Studio\\Installer\\vswhere.exe, -latest, -requires, Microsoft.VisualStudio.Component.VC.Tools.x86.x64, -products, *, -find, **\\Hostx64\\x64\\ml64.exe]",
              "object_description": "Shell command",
              "object_id": "shell_command",
              "intention_description": "Execute command",
              "intention_id": "execute_command"
            },
            {
              "action_api": "str.strip()",
              "action_description": "Decodes bytes using default codec",
              "action_id": "decode_bytes_default",
              "object": "result.stdout",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "str.splitlines()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "vswhere_output",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "path.exists()",
              "action_description": "Checks if specified path exists in filesystem",
              "action_id": "check_path_exists",
              "object": "ml64_path",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Check if file or directory exists",
              "intention_id": "check_file_existence"
            },
            {
              "action_api": "path.splitext()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "filepath",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "subprocess.run()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "[ml64, /Fo, obj_path, /c, filepath]",
              "object_description": "Shell command",
              "object_id": "shell_command",
              "intention_description": "Execute command",
              "intention_id": "execute_command"
            }
          ]
        }
      ]
    }
  ]
}