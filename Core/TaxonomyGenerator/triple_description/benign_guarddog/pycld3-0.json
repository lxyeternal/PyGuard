{
  "metadata": {
    "package_name": "pycld3-0",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign/pycld3-0.22.json",
    "dataset_type": "benign"
  },
  "code_files": [
    {
      "pyfile": "setup.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/pycld3-0.22/pycld3-0.22/setup.py",
      "line_number": "133",
      "type_description": "code-execution",
      "context_snippet": "import os\nimport platform\nimport shutil\nimport subprocess\nfrom distutils.command.build import build\nfrom os import makedirs, path\n\nHERE = path.abspath(path.dirname(__file__))\nPROTOS = [\"sentence.proto\", \"feature_extractor.proto\", \"task_spec.proto\"]\n\nclass BuildProtobuf(build):\n    \"\"\"Compile protocol buffers via `protoc` compiler.\"\"\"\n\n    def run(self):\n\n        # Raise & exit early if `protoc` compiler not available\n        if shutil.which(\"protoc\") is None:\n            raise RuntimeError(\n                \"The Protobuf compiler, `protoc`, which is required for\"\n                \" building this package, could not be found.\\n\"\n                \"See https://github.com/protocolbuffers/protobuf for\"\n                \" information on installing Protobuf.\"\n            )\n\n        # Create protobufs dir if it does not exist\n        protobuf_dir = path.join(HERE, \"src/cld_3/protos/\")\n        if not path.exists(protobuf_dir):\n            print(\"Creating dirs at \\033[1m{}\\033[0;0m\".format(protobuf_dir))\n            makedirs(protobuf_dir)\n\n        # Run command via subprocess, using protoc compiler on .proto\n        # files\n        #\n        # $ cd src && protoc --cpp-_ut cld_3/protos \\\n        # >     sentence.proto feature_extractor.proto task_spec.proto\n        command = [\"protoc\"]\n        command.extend(PROTOS)\n        command.append(\n            \"--cpp_out={}\".format(path.join(HERE, \"src/cld_3/protos/\"))\n        )\n        print(\"Running \\033[1m{}\\033[0;0m\".format(\" \".join(command)))\n        subprocess.run(command, check=True, cwd=path.join(HERE, \"src/\"))\n        build.run(self)",
      "hash_value": "c33669705109b1a12e8c261f050de5d0",
      "detection_index": 1,
      "code_snippets": [
        {
          "snippet": "import os\nimport platform\nimport shutil\nimport subprocess\nfrom distutils.command.build import build\nfrom os import makedirs, path\n\nHERE = path.abspath(path.dirname(__file__))\nPROTOS = [\"sentence.proto\", \"feature_extractor.proto\", \"task_spec.proto\"]\n\nclass BuildProtobuf(build):\n    \"\"\"Compile protocol buffers via `protoc` compiler.\"\"\"\n\n    def run(self):\n\n        # Raise & exit early if `protoc` compiler not available\n        if shutil.which(\"protoc\") is None:\n            raise RuntimeError(\n                \"The Protobuf compiler, `protoc`, which is required for\"\n                \" building this package, could not be found.\\n\"\n                \"See https://github.com/protocolbuffers/protobuf for\"\n                \" information on installing Protobuf.\"\n            )\n\n        # Create protobufs dir if it does not exist\n        protobuf_dir = path.join(HERE, \"src/cld_3/protos/\")\n        if not path.exists(protobuf_dir):\n            print(\"Creating dirs at \\033[1m{}\\033[0;0m\".format(protobuf_dir))\n            makedirs(protobuf_dir)\n\n        # Run command via subprocess, using protoc compiler on .proto\n        # files\n        #\n        # $ cd src && protoc --cpp-_ut cld_3/protos \\\n        # >     sentence.proto feature_extractor.proto task_spec.proto\n        command = [\"protoc\"]\n        command.extend(PROTOS)\n        command.append(\n            \"--cpp_out={}\".format(path.join(HERE, \"src/cld_3/protos/\"))\n        )\n        print(\"Running \\033[1m{}\\033[0;0m\".format(\" \".join(command)))\n        subprocess.run(command, check=True, cwd=path.join(HERE, \"src/\"))\n        build.run(self)",
          "triple_sequences": [
            {
              "action_api": "shutil.which()",
              "action_description": "Checks if specified path exists in filesystem",
              "action_id": "check_path_exists",
              "object": "\"protoc\"",
              "object_description": "Local file or directory name",
              "object_id": "local_file_or_directory_name",
              "intention_description": "Determine_file_presence",
              "intention_id": "determine_file_presence"
            },
            {
              "action_api": "path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "HERE, \"src/cld_3/protos/\"",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "path.exists()",
              "action_description": "Checks if specified path exists in filesystem",
              "action_id": "check_path_exists",
              "object": "protobuf_dir",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Determine_directory_presence",
              "intention_id": "determine_directory_presence"
            },
            {
              "action_api": "makedirs()",
              "action_description": "Creates directory, ignoring if it already exists",
              "action_id": "create_directory",
              "object": "protobuf_dir",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Ensure directory exists",
              "intention_id": "ensure_directory_exists"
            },
            {
              "action_api": "path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "HERE, \"src/cld_3/protos/\"",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "subprocess.run()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "command, check=True, cwd=path.join(HERE, \"src/\")",
              "object_description": "Shell command",
              "object_id": "shell_command",
              "intention_description": "Execute command",
              "intention_id": "execute_command"
            },
            {
              "action_api": "build.run()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "self",
              "object_description": "",
              "object_id": "",
              "intention_description": "Execute command",
              "intention_id": "execute_command"
            }
          ]
        }
      ]
    }
  ]
}