{
  "metadata": {
    "package_name": "simplejpeg-1",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign/simplejpeg-1.8.2.json",
    "dataset_type": "benign"
  },
  "code_files": [
    {
      "pyfile": "setup.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/simplejpeg-1.8.2/simplejpeg-1.8.2/setup.py",
      "line_number": "195",
      "type_description": "code-execution",
      "context_snippet": "class cmake_build_ext(build_ext):\n    def build_cmake_dependency(self, path, options, env=None):\n        cur_dir = pt.abspath(os.curdir)\n        build_dir = pt.join(path, BUILD_DIR)\n        if not pt.exists(build_dir):\n            os.makedirs(build_dir)\n        os.chdir(build_dir)\n        config = 'Debug' if self.debug else 'Release'\n        env = dict(os.environ, **(env or {}))\n        subprocess.check_call([\n            CMAKE_PATH,\n            '-G' + make_type(), '-Wno-dev',\n            '-DCMAKE_BUILD_TYPE=' + config,\n            *options,\n            pt.join(path)\n        ], stdout=sys.stdout, stderr=sys.stderr, env=env)\n        if not self.dry_run:\n            subprocess.check_call([\n                CMAKE_PATH, '--build', '.', '--config', config\n            ], stdout=sys.stdout, stderr=sys.stderr, env=env)\n        os.chdir(cur_dir)\n\ndef make_type():\n    if OS in ('linux', 'darwin'):\n        return 'Unix Makefiles'\n    elif OS == 'windows':\n        return 'NMake Makefiles'\n    else:\n        raise RuntimeError('Platform not supported: %s, %s' % (OS, ARCH))\n\n# Variable dependencies:\n# - CMAKE_PATH: set at top, from cmake import or fallback to 'cmake'\n# - make_type(): see above\n# - config: local variable in function\n# - options: function argument\n# - pt: os.path as pt\n# - sys: imported\n# - env: local variable\n# - os: imported",
      "hash_value": "273d8df0086284e95bf720af37cae752",
      "detection_index": 1,
      "code_snippets": [
        {
          "snippet": "class cmake_build_ext(build_ext):\n    def build_cmake_dependency(self, path, options, env=None):\n        cur_dir = pt.abspath(os.curdir)\n        build_dir = pt.join(path, BUILD_DIR)\n        if not pt.exists(build_dir):\n            os.makedirs(build_dir)\n        os.chdir(build_dir)\n        config = 'Debug' if self.debug else 'Release'\n        env = dict(os.environ, **(env or {}))\n        subprocess.check_call([\n            CMAKE_PATH,\n            '-G' + make_type(), '-Wno-dev',\n            '-DCMAKE_BUILD_TYPE=' + config,\n            *options,\n            pt.join(path)\n        ], stdout=sys.stdout, stderr=sys.stderr, env=env)\n        if not self.dry_run:\n            subprocess.check_call([\n                CMAKE_PATH, '--build', '.', '--config', config\n            ], stdout=sys.stdout, stderr=sys.stderr, env=env)\n        os.chdir(cur_dir)\n\ndef make_type():\n    if OS in ('linux', 'darwin'):\n        return 'Unix Makefiles'\n    elif OS == 'windows':\n        return 'NMake Makefiles'\n    else:\n        raise RuntimeError('Platform not supported: %s, %s' % (OS, ARCH))\n\n# Variable dependencies:\n# - CMAKE_PATH: set at top, from cmake import or fallback to 'cmake'\n# - make_type(): see above\n# - config: local variable in function\n# - options: function argument\n# - pt: os.path as pt\n# - sys: imported\n# - env: local variable\n# - os: imported",
          "triple_sequences": [
            {
              "action_api": "pt.abspath()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "os.curdir",
              "object_description": "Current working directory",
              "object_id": "current_working_directory",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "pt.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "path, BUILD_DIR",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "pt.exists()",
              "action_description": "Checks if specified path exists in filesystem",
              "action_id": "check_path_exists",
              "object": "build_dir",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Check if file or directory exists",
              "intention_id": "check_file_existence"
            },
            {
              "action_api": "os.makedirs()",
              "action_description": "Creates directory, ignoring if it already exists",
              "action_id": "create_directory",
              "object": "build_dir",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Ensure directory exists",
              "intention_id": "ensure_directory_exists"
            },
            {
              "action_api": "os.chdir()",
              "action_description": "Changes current working directory",
              "action_id": "change_working_dir",
              "object": "build_dir",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Change working directory",
              "intention_id": "change_working_directory"
            },
            {
              "action_api": "dict()",
              "action_description": "Serializes Python object to JSON string",
              "action_id": "serialize_to_json",
              "object": "os.environ, **(env or {})",
              "object_description": "Environment variable",
              "object_id": "environment_variable",
              "intention_description": "Collect environment variable",
              "intention_id": "collect_environment_variable"
            },
            {
              "action_api": "subprocess.check_call()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "[CMAKE_PATH, '-G' + make_type(), '-Wno-dev', '-DCMAKE_BUILD_TYPE=' + config, *options, pt.join(path)]",
              "object_description": "Shell command",
              "object_id": "shell_command",
              "intention_description": "Execute command",
              "intention_id": "execute_command"
            },
            {
              "action_api": "subprocess.check_call()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "[CMAKE_PATH, '--build', '.', '--config', config]",
              "object_description": "Shell command",
              "object_id": "shell_command",
              "intention_description": "Execute command",
              "intention_id": "execute_command"
            },
            {
              "action_api": "os.chdir()",
              "action_description": "Changes current working directory",
              "action_id": "change_working_dir",
              "object": "cur_dir",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Restore previous working directory",
              "intention_id": "restore_working_directory"
            }
          ]
        }
      ]
    }
  ]
}