{
  "metadata": {
    "package_name": "telebot-0",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign/telebot-0.0.5.json",
    "dataset_type": "benign"
  },
  "code_files": [
    {
      "pyfile": "__init__.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/telebot-0.0.5/telebot-0.0.5/telebot_router/__init__.py",
      "line_number": "119",
      "type_description": "shady-links",
      "context_snippet": "    def _bot_cmd(self, method, endpoint, *args, **kwargs):\n        base_api = \"https://api.telegram.org/bot{api_key}/{endpoint}\"\n        endpoint = base_api.format(api_key=self.config['api_key'],\n                                   endpoint=endpoint)\n\n        try:\n            response = method(endpoint,\n                              data=kwargs.get('data', None),\n                              params=kwargs.get('params', {}),\n                              **self.config['requests_kwargs'])\n\n            if response.status_code != 200:\n                raise ValueError('Got unexpected response. ({}) - {}'.\n                                 format(response.status_code, response.text))\n\n            return response.json()\n        except Exception as e:\n            return {\n                'ok': False,\n                'error': str(e),\n            }",
      "hash_value": "25e0fd8963c82c6c657286e3230e0087",
      "detection_index": 1,
      "code_snippets": [
        {
          "snippet": "    def _bot_cmd(self, method, endpoint, *args, **kwargs):\n        base_api = \"https://api.telegram.org/bot{api_key}/{endpoint}\"\n        endpoint = base_api.format(api_key=self.config['api_key'],\n                                   endpoint=endpoint)\n\n        try:\n            response = method(endpoint,\n                              data=kwargs.get('data', None),\n                              params=kwargs.get('params', {}),\n                              **self.config['requests_kwargs'])\n\n            if response.status_code != 200:\n                raise ValueError('Got unexpected response. ({}) - {}'.\n                                 format(response.status_code, response.text))\n\n            return response.json()\n        except Exception as e:\n            return {\n                'ok': False,\n                'error': str(e),\n            }",
          "triple_sequences": [
            {
              "action_api": "method()",
              "action_description": "Sends HTTP request",
              "action_id": "send_http_request",
              "object": "endpoint, data=kwargs.get('data', None), params=kwargs.get('params', {}), **self.config['requests_kwargs']",
              "object_description": "Telegram API endpoint",
              "object_id": "telegram_api_endpoint",
              "intention_description": "Download remote content",
              "intention_id": "download_remote_content"
            },
            {
              "action_api": "response.status_code",
              "action_description": "Retrieves HTTP response status code",
              "action_id": "get_http_status",
              "object": "response",
              "object_description": "HTTP response content from remote server",
              "object_id": "http_response_remote_content",
              "intention_description": "Access attribute value",
              "intention_id": "access_attribute_value"
            },
            {
              "action_api": "response.text",
              "action_description": "Process HTTP response content",
              "action_id": "process_http_response",
              "object": "response",
              "object_description": "HTTP response content from remote server",
              "object_id": "http_response_remote_content",
              "intention_description": "Access attribute value",
              "intention_id": "access_attribute_value"
            },
            {
              "action_api": "response.json()",
              "action_description": "Deserializes JSON response body to Python object",
              "action_id": "deserialize_json_response",
              "object": "response",
              "object_description": "HTTP response content from remote server",
              "object_id": "http_response_remote_content",
              "intention_description": "Parse JSON data",
              "intention_id": "parse_json_data"
            },
            {
              "action_api": "str(e)",
              "action_description": "Converts bytes to string using default codec",
              "action_id": "decode_bytes_default",
              "object": "e",
              "object_description": "Error message text",
              "object_id": "error_message",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            }
          ]
        }
      ]
    }
  ]
}