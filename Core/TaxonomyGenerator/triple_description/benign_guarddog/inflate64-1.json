{
  "metadata": {
    "package_name": "inflate64-1",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign/inflate64-1.0.1.json",
    "dataset_type": "benign"
  },
  "code_files": [
    {
      "pyfile": "setup.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/inflate64-1.0.1/inflate64-1.0.1/setup.py",
      "line_number": "64",
      "type_description": "cmd-overwrite",
      "context_snippet": "from setuptools import Extension, setup\nfrom setuptools.command.build_ext import build_ext\nfrom setuptools.command.egg_info import egg_info\n\nsources = [\n    \"src/lib/deflate.c\",\n    \"src/lib/deflate_tree.c\",\n    \"src/lib/inflate.c\",\n    \"src/lib/inflate_tree.c\",\n    \"src/lib/util.c\",\n    \"src/lib/static_tables.c\"\n]\npackages = [\"inflate64\"]\nkwargs = {\"include_dirs\": [\"src/lib\", \"src/ext\"], \"library_dirs\": [], \"libraries\": [], \"sources\": sources, \"define_macros\": []}\n# binary extension\nkwargs[\"name\"] = \"inflate64._inflate64\"\nkwargs[\"sources\"].append(\"src/ext/_inflate64module.c\")\nbinary_extension = Extension(**kwargs)\n_deflate64_extension = Extension(\"inflate64._inflate64\", sources)\n\ndef has_option(option):\n    if option in sys.argv:\n        sys.argv = [s for s in sys.argv if s != option]\n        return True\n    else:\n        return False\n\nWARNING_AS_ERROR = has_option(\"--warning-as-error\")\n\nclass build_ext_compiler_check(build_ext):\n    def build_extensions(self):\n        for extension in self.extensions:\n            if self.compiler.compiler_type.lower() in (\"unix\", \"mingw32\"):\n                if WARNING_AS_ERROR:\n                    extension.extra_compile_args.append(\"-Werror\")\n            elif self.compiler.compiler_type.lower() == \"msvc\":\n                # /GF eliminates duplicate strings\n                # /Gy does function level linking\n                more_options = [\"/GF\", \"/Gy\", \"/wd4996\"]\n                if WARNING_AS_ERROR:\n                    more_options.append(\"/WX\")\n                extension.extra_compile_args.extend(more_options)\n        super().build_extensions()\n\n# Work around pypa/setuptools#436.\nclass my_egg_info(egg_info):\n    def run(self):\n        try:\n            os.remove(os.path.join(self.egg_info, \"SOURCES.txt\"))\n        except FileNotFoundError:\n            pass\n        super().run()\n\nsetup(\n    ext_modules=[binary_extension],\n    package_dir={\"\": \"src\"},\n    packages=packages,\n    cmdclass={\"build_ext\": build_ext_compiler_check, \"egg_info\": my_egg_info},\n)\n",
      "hash_value": "5532b6c425b34f49f327fa0ee663a5d8",
      "detection_index": 1,
      "code_snippets": [
        {
          "snippet": "from setuptools import Extension, setup\nfrom setuptools.command.build_ext import build_ext\nfrom setuptools.command.egg_info import egg_info\n\nsources = [\n    \"src/lib/deflate.c\",\n    \"src/lib/deflate_tree.c\",\n    \"src/lib/inflate.c\",\n    \"src/lib/inflate_tree.c\",\n    \"src/lib/util.c\",\n    \"src/lib/static_tables.c\"\n]\npackages = [\"inflate64\"]\nkwargs = {\"include_dirs\": [\"src/lib\", \"src/ext\"], \"library_dirs\": [], \"libraries\": [], \"sources\": sources, \"define_macros\": []}\n# binary extension\nkwargs[\"name\"] = \"inflate64._inflate64\"\nkwargs[\"sources\"].append(\"src/ext/_inflate64module.c\")\nbinary_extension = Extension(**kwargs)\n_deflate64_extension = Extension(\"inflate64._inflate64\", sources)\n\ndef has_option(option):\n    if option in sys.argv:\n        sys.argv = [s for s in sys.argv if s != option]\n        return True\n    else:\n        return False\n\nWARNING_AS_ERROR = has_option(\"--warning-as-error\")\n\nclass build_ext_compiler_check(build_ext):\n    def build_extensions(self):\n        for extension in self.extensions:\n            if self.compiler.compiler_type.lower() in (\"unix\", \"mingw32\"):\n                if WARNING_AS_ERROR:\n                    extension.extra_compile_args.append(\"-Werror\")\n            elif self.compiler.compiler_type.lower() == \"msvc\":\n                # /GF eliminates duplicate strings\n                # /Gy does function level linking\n                more_options = [\"/GF\", \"/Gy\", \"/wd4996\"]\n                if WARNING_AS_ERROR:\n                    more_options.append(\"/WX\")\n                extension.extra_compile_args.extend(more_options)\n        super().build_extensions()\n\n# Work around pypa/setuptools#436.\nclass my_egg_info(egg_info):\n    def run(self):\n        try:\n            os.remove(os.path.join(self.egg_info, \"SOURCES.txt\"))\n        except FileNotFoundError:\n            pass\n        super().run()\n\nsetup(\n    ext_modules=[binary_extension],\n    package_dir={\"\": \"src\"},\n    packages=packages,\n    cmdclass={\"build_ext\": build_ext_compiler_check, \"egg_info\": my_egg_info},\n)\n",
          "triple_sequences": [
            {
              "action_api": "os.path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "self.egg_info, \"SOURCES.txt\"",
              "object_description": "Directory path and file name",
              "object_id": "directory_path_with_file",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "os.remove()",
              "action_description": "Deletes specified file from filesystem",
              "action_id": "delete_file",
              "object": "os.path.join(self.egg_info, \"SOURCES.txt\")",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Delete file",
              "intention_id": "delete_file"
            },
            {
              "action_api": "setup()",
              "action_description": "Executes setuptools installation procedure",
              "action_id": "exec_setuptools_install",
              "object": "ext_modules=[binary_extension], package_dir={\"\": \"src\"}, packages=packages, cmdclass={\"build_ext\": build_ext_compiler_check, \"egg_info\": my_egg_info}",
              "object_description": "Function and arguments",
              "object_id": "function_with_arguments",
              "intention_description": "Install required Python package",
              "intention_id": "install_required_python_package"
            }
          ]
        }
      ]
    }
  ]
}