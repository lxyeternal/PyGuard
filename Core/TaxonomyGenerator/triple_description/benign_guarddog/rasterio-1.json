{
  "metadata": {
    "package_name": "rasterio-1",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign/rasterio-1.4.3.json",
    "dataset_type": "benign"
  },
  "code_files": [
    {
      "pyfile": "setup.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/rasterio-1.4.3/rasterio-1.4.3/setup.py",
      "line_number": "86",
      "type_description": "code-execution",
      "context_snippet": "import os\nimport re\nimport sys\nimport logging\nfrom subprocess import check_output\n\nlogging.basicConfig(stream=sys.stderr, level=logging.INFO)\nlog = logging.getLogger()\n\ninclude_dirs = []\nlibrary_dirs = []\nlibraries = []\nextra_link_args = []\ngdal2plus = False\ngdal_output = [None] * 4\ngdalversion = None\ngdal_major_version = 0\ngdal_minor_version = 0\ngdal_patch_version = 0\n\nif \"clean\" not in sys.argv:\n    try:\n        gdal_config = os.environ.get('GDAL_CONFIG', 'gdal-config')\n        for i, flag in enumerate((\"--cflags\", \"--libs\", \"--datadir\", \"--version\")):\n            gdal_output[i] = check_output([gdal_config, flag]).decode(\"utf-8\").strip()\n\n        for item in gdal_output[0].split():\n            if item.startswith(\"-I\"):\n                include_dirs.extend(item[2:].split(\":\"))\n        for item in gdal_output[1].split():\n            if item.startswith(\"-L\"):\n                library_dirs.extend(item[2:].split(\":\"))\n            elif item.startswith(\"-l\"):\n                libraries.append(item[2:])\n            else:\n                # e.g. -framework GDAL\n                extra_link_args.append(item)\n        # datadir, gdal_output[2] handled below\n\n        gdalversion = gdal_output[3]\n        if gdalversion:\n            log.info(\"GDAL API version obtained from gdal-config: %s\",\n                     gdalversion)\n\n    except Exception as e:\n        if os.name == \"nt\":\n            log.info(\"Building on Windows requires extra options to setup.py \"\n                     \"to locate needed GDAL files. More information is available \"\n                     \"in the README.\")\n        else:\n            log.warning(\"Failed to get options via gdal-config: %s\", str(e))",
      "hash_value": "b9f431f00aabde1ea1ff691dcb9a4b74",
      "detection_index": 1,
      "code_snippets": [
        {
          "snippet": "import os\nimport re\nimport sys\nimport logging\nfrom subprocess import check_output\n\nlogging.basicConfig(stream=sys.stderr, level=logging.INFO)\nlog = logging.getLogger()\n\ninclude_dirs = []\nlibrary_dirs = []\nlibraries = []\nextra_link_args = []\ngdal2plus = False\ngdal_output = [None] * 4\ngdalversion = None\ngdal_major_version = 0\ngdal_minor_version = 0\ngdal_patch_version = 0\n\nif \"clean\" not in sys.argv:\n    try:\n        gdal_config = os.environ.get('GDAL_CONFIG', 'gdal-config')\n        for i, flag in enumerate((\"--cflags\", \"--libs\", \"--datadir\", \"--version\")):\n            gdal_output[i] = check_output([gdal_config, flag]).decode(\"utf-8\").strip()\n\n        for item in gdal_output[0].split():\n            if item.startswith(\"-I\"):\n                include_dirs.extend(item[2:].split(\":\"))\n        for item in gdal_output[1].split():\n            if item.startswith(\"-L\"):\n                library_dirs.extend(item[2:].split(\":\"))\n            elif item.startswith(\"-l\"):\n                libraries.append(item[2:])\n            else:\n                # e.g. -framework GDAL\n                extra_link_args.append(item)\n        # datadir, gdal_output[2] handled below\n\n        gdalversion = gdal_output[3]\n        if gdalversion:\n            log.info(\"GDAL API version obtained from gdal-config: %s\",\n                     gdalversion)\n\n    except Exception as e:\n        if os.name == \"nt\":\n            log.info(\"Building on Windows requires extra options to setup.py \"\n                     \"to locate needed GDAL files. More information is available \"\n                     \"in the README.\")\n        else:\n            log.warning(\"Failed to get options via gdal-config: %s\", str(e))",
          "triple_sequences": [
            {
              "action_api": "os.environ.get()",
              "action_description": "Retrieves value of environment variable",
              "action_id": "get_env_var",
              "object": "'GDAL_CONFIG', 'gdal-config'",
              "object_description": "Environment variable",
              "object_id": "environment_variable",
              "intention_description": "Collect environment variable",
              "intention_id": "collect_environment_variable"
            },
            {
              "action_api": "check_output()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "[gdal_config, flag]",
              "object_description": "Shell command",
              "object_id": "shell_command",
              "intention_description": "Collect command output",
              "intention_id": "collect_command_output"
            },
            {
              "action_api": "bytes.decode()",
              "action_description": "Decodes bytes using specified codec",
              "action_id": "decode_bytes_codec",
              "object": "\"utf-8\"",
              "object_description": "Character encoding type",
              "object_id": "character_encoding_type",
              "intention_description": "Decode command output",
              "intention_id": "decode_command_output"
            },
            {
              "action_api": "str.strip()",
              "action_description": "Decodes bytes using default codec",
              "action_id": "decode_bytes_default",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "str.split()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "log.info()",
              "action_description": "Sends message to Discord channel via webhook",
              "action_id": "send_discord_webhook",
              "object": "\"GDAL API version obtained from gdal-config: %s\", gdalversion",
              "object_description": "Log level",
              "object_id": "log_level",
              "intention_description": "Access attribute value",
              "intention_id": "access_attribute_value"
            },
            {
              "action_api": "os.name",
              "action_description": "Retrieves operating system identifier",
              "action_id": "get_os_id",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Determine operating system",
              "intention_id": "determine_operating_system"
            },
            {
              "action_api": "log.warning()",
              "action_description": "Sends message to Discord channel via webhook",
              "action_id": "send_discord_webhook",
              "object": "\"Failed to get options via gdal-config: %s\", str(e)",
              "object_description": "Log level",
              "object_id": "log_level",
              "intention_description": "Access attribute value",
              "intention_id": "access_attribute_value"
            }
          ]
        }
      ]
    }
  ]
}