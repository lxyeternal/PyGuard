{
  "metadata": {
    "package_name": "pykdtree-1",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign/pykdtree-1.4.1.json",
    "dataset_type": "benign"
  },
  "code_files": [
    {
      "pyfile": "setup.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/pykdtree-1.4.1/pykdtree-1.4.1/setup.py",
      "line_number": "173",
      "type_description": "code-execution",
      "context_snippet": "def _compile_link_paths_from_manifest(cmd):\n    \"\"\"Parse include and library paths from OSX package managers.\n\n    Example executions::\n\n        # Homebrew\n        $ brew ls --verbose libomp\n        /opt/homebrew/Cellar/libomp/15.0.7/INSTALL_RECEIPT.json\n        /opt/homebrew/Cellar/libomp/15.0.7/.brew/libomp.rb\n        /opt/homebrew/Cellar/libomp/15.0.7/include/ompt.h\n        /opt/homebrew/Cellar/libomp/15.0.7/include/omp.h\n        /opt/homebrew/Cellar/libomp/15.0.7/include/omp-tools.h\n        /opt/homebrew/Cellar/libomp/15.0.7/lib/libomp.dylib\n        /opt/homebrew/Cellar/libomp/15.0.7/lib/libomp.a\n\n        # MacPorts\n        $ port contents libomp\n        Port libomp contains:\n          /opt/local/include/libomp/omp-tools.h\n          /opt/local/include/libomp/omp.h\n          /opt/local/include/libomp/ompt.h\n          /opt/local/lib/libomp/libgomp.dylib\n          /opt/local/lib/libomp/libiomp5.dylib\n          /opt/local/lib/libomp/libomp.dylib\n          /opt/local/share/doc/libomp/LICENSE.TXT\n          /opt/local/share/doc/libomp/README.txt\n\n    \"\"\"\n    from subprocess import run\n    query = run(cmd, shell=True, check=False, capture_output=True)\n    if query.returncode != 0:\n        return None, None\n    manifest = query.stdout.decode(\"UTF-8\")\n    # find all the unique directories mentioned in the manifest\n    dirs = set(os.path.split(filename)[0] for filename in re.findall(r'^\\s*(/.*?)\\s*$', manifest, re.MULTILINE))\n    # find a unique libdir and incdir\n    inc = tuple(d for d in dirs if re.search(r'/include(\\W|$)', d))\n    lib = tuple(d for d in dirs if re.search(r'/lib(\\W|$)', d))\n    # only return success if there's no ambiguity\n    return (inc + lib) if len(inc) == 1 and len(lib) == 1 else (None, None)",
      "hash_value": "d7ebd695f33978cba3a39ca755206115",
      "detection_index": 1,
      "code_snippets": [
        {
          "snippet": "def _compile_link_paths_from_manifest(cmd):\n    \"\"\"Parse include and library paths from OSX package managers.\n\n    Example executions::\n\n        # Homebrew\n        $ brew ls --verbose libomp\n        /opt/homebrew/Cellar/libomp/15.0.7/INSTALL_RECEIPT.json\n        /opt/homebrew/Cellar/libomp/15.0.7/.brew/libomp.rb\n        /opt/homebrew/Cellar/libomp/15.0.7/include/ompt.h\n        /opt/homebrew/Cellar/libomp/15.0.7/include/omp.h\n        /opt/homebrew/Cellar/libomp/15.0.7/include/omp-tools.h\n        /opt/homebrew/Cellar/libomp/15.0.7/lib/libomp.dylib\n        /opt/homebrew/Cellar/libomp/15.0.7/lib/libomp.a\n\n        # MacPorts\n        $ port contents libomp\n        Port libomp contains:\n          /opt/local/include/libomp/omp-tools.h\n          /opt/local/include/libomp/omp.h\n          /opt/local/include/libomp/ompt.h\n          /opt/local/lib/libomp/libgomp.dylib\n          /opt/local/lib/libomp/libiomp5.dylib\n          /opt/local/lib/libomp/libomp.dylib\n          /opt/local/share/doc/libomp/LICENSE.TXT\n          /opt/local/share/doc/libomp/README.txt\n\n    \"\"\"\n    from subprocess import run\n    query = run(cmd, shell=True, check=False, capture_output=True)\n    if query.returncode != 0:\n        return None, None\n    manifest = query.stdout.decode(\"UTF-8\")\n    # find all the unique directories mentioned in the manifest\n    dirs = set(os.path.split(filename)[0] for filename in re.findall(r'^\\s*(/.*?)\\s*$', manifest, re.MULTILINE))\n    # find a unique libdir and incdir\n    inc = tuple(d for d in dirs if re.search(r'/include(\\W|$)', d))\n    lib = tuple(d for d in dirs if re.search(r'/lib(\\W|$)', d))\n    # only return success if there's no ambiguity\n    return (inc + lib) if len(inc) == 1 and len(lib) == 1 else (None, None)",
          "triple_sequences": [
            {
              "action_api": "subprocess.run()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "cmd",
              "object_description": "Shell command",
              "object_id": "shell_command",
              "intention_description": "Execute command",
              "intention_id": "execute_command"
            },
            {
              "action_api": "CompletedProcess.stdout.decode()",
              "action_description": "Decodes bytes using specified codec",
              "action_id": "decode_bytes_codec",
              "object": "\"UTF-8\"",
              "object_description": "Character encoding type",
              "object_id": "character_encoding_type",
              "intention_description": "Decode bytes to string",
              "intention_id": "decode_bytes_to_string"
            },
            {
              "action_api": "re.findall()",
              "action_description": "Compiles regular expression pattern",
              "action_id": "compile_regex",
              "object": "r'^\u0000a*(/.*?)\u0000a*$', manifest, re.MULTILINE",
              "object_description": "Regular expression and file content",
              "object_id": "regex_file_content",
              "intention_description": "Prepare data for further processing",
              "intention_id": "prepare_data_processing"
            },
            {
              "action_api": "os.path.split()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "filename",
              "object_description": "Local file or directory name",
              "object_id": "local_file_or_directory_name",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "re.search()",
              "action_description": "Compiles regular expression pattern",
              "action_id": "compile_regex",
              "object": "r'/include(\\W|$)', d",
              "object_description": "Regular expression pattern",
              "object_id": "regex_pattern",
              "intention_description": "Prepare data for further processing",
              "intention_id": "prepare_data_processing"
            },
            {
              "action_api": "re.search()",
              "action_description": "Compiles regular expression pattern",
              "action_id": "compile_regex",
              "object": "r'/lib(\\W|$)', d",
              "object_description": "Regular expression pattern",
              "object_id": "regex_pattern",
              "intention_description": "Prepare data for further processing",
              "intention_id": "prepare_data_processing"
            }
          ]
        }
      ]
    }
  ]
}