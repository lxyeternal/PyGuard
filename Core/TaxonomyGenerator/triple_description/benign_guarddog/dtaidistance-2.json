{
  "metadata": {
    "package_name": "dtaidistance-2",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign/dtaidistance-2.3.13.json",
    "dataset_type": "benign"
  },
  "code_files": [
    {
      "pyfile": "setup.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/dtaidistance-2.3.13/dtaidistance-2.3.13/setup.py",
      "line_number": "312",
      "type_description": "code-execution",
      "context_snippet": "def check_clang(cc_bin, printfn=print):\n    \"\"\"Check if gcc is really an xcrun to clang\"\"\"\n    printfn(\"Checking if {} redirects to clang\".format(cc_bin))\n    args = [[str(cc_bin), \"--version\"]]\n    kwargs = {\"stdout\": sp.PIPE, \"stderr\": sp.PIPE, \"input\": '', \"encoding\": 'ascii'}\n    printfn(\" \".join(args[0]) + \" # with \" + \", \".join(str(k) + \"=\" + str(v) for k, v in kwargs.items()))\n    try:\n        p = sp.run(*args, **kwargs)\n        printfn(p.stderr)\n        defs = p.stdout.splitlines()\n        for curdef in defs:\n            if \"clang\" in curdef:\n                printfn(curdef)\n                printfn(\"... found clang\")\n                return True\n    except Exception:\n        printfn(\"... no clang\")\n        return False\n    return False",
      "hash_value": "de085b9b771f81f74d6e6fb7ae4b3680",
      "detection_index": 1,
      "code_snippets": [
        {
          "snippet": "def check_clang(cc_bin, printfn=print):\n    \"\"\"Check if gcc is really an xcrun to clang\"\"\"\n    printfn(\"Checking if {} redirects to clang\".format(cc_bin))\n    args = [[str(cc_bin), \"--version\"]]\n    kwargs = {\"stdout\": sp.PIPE, \"stderr\": sp.PIPE, \"input\": '', \"encoding\": 'ascii'}\n    printfn(\" \".join(args[0]) + \" # with \" + \", \".join(str(k) + \"=\" + str(v) for k, v in kwargs.items()))\n    try:\n        p = sp.run(*args, **kwargs)\n        printfn(p.stderr)\n        defs = p.stdout.splitlines()\n        for curdef in defs:\n            if \"clang\" in curdef:\n                printfn(curdef)\n                printfn(\"... found clang\")\n                return True\n    except Exception:\n        printfn(\"... no clang\")\n        return False\n    return False",
          "triple_sequences": [
            {
              "action_api": "print()",
              "action_description": "Reads user input from standard input",
              "action_id": "read_user_input",
              "object": "\"Checking if {} redirects to clang\".format(cc_bin)",
              "object_description": "",
              "object_id": "",
              "intention_description": "Collect user input",
              "intention_id": "collect_user_input"
            },
            {
              "action_api": "str.format()",
              "action_description": "Encodes string to bytes using default encoding",
              "action_id": "encode_string_to_bytes",
              "object": "\"Checking if {} redirects to clang\", cc_bin",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "str()",
              "action_description": "Encodes string to bytes using default encoding",
              "action_id": "encode_string_to_bytes",
              "object": "cc_bin",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "print()",
              "action_description": "Reads user input from standard input",
              "action_id": "read_user_input",
              "object": "\" \".join(args[0]) + \" # with \" + \", \".join(str(k) + \"=\" + str(v) for k, v in kwargs.items())",
              "object_description": "",
              "object_id": "",
              "intention_description": "Collect user input",
              "intention_id": "collect_user_input"
            },
            {
              "action_api": "str.join()",
              "action_description": "Joins characters into string",
              "action_id": "join_characters_into_string",
              "object": "args[0]",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "str()",
              "action_description": "Encodes string to bytes using default encoding",
              "action_id": "encode_string_to_bytes",
              "object": "k",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "str()",
              "action_description": "Encodes string to bytes using default encoding",
              "action_id": "encode_string_to_bytes",
              "object": "v",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "str.join()",
              "action_description": "Joins characters into string",
              "action_id": "join_characters_into_string",
              "object": "(str(k) + \"=\" + str(v) for k, v in kwargs.items())",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "sp.run()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "args, kwargs",
              "object_description": "Shell command",
              "object_id": "shell_command",
              "intention_description": "Execute command",
              "intention_id": "execute_command"
            },
            {
              "action_api": "print()",
              "action_description": "Reads user input from standard input",
              "action_id": "read_user_input",
              "object": "p.stderr",
              "object_description": "Command error output",
              "object_id": "command_output",
              "intention_description": "Access command error output",
              "intention_id": "access_command_error_output"
            },
            {
              "action_api": "str.splitlines()",
              "action_description": "Basic string operations (splitting and joining strings)",
              "action_id": "path_string_operations",
              "object": "p.stdout",
              "object_description": "Command output",
              "object_id": "command_output",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "print()",
              "action_description": "Reads user input from standard input",
              "action_id": "read_user_input",
              "object": "curdef",
              "object_description": "",
              "object_id": "",
              "intention_description": "Collect user input",
              "intention_id": "collect_user_input"
            },
            {
              "action_api": "print()",
              "action_description": "Reads user input from standard input",
              "action_id": "read_user_input",
              "object": "\"... found clang\"",
              "object_description": "",
              "object_id": "",
              "intention_description": "Collect user input",
              "intention_id": "collect_user_input"
            },
            {
              "action_api": "print()",
              "action_description": "Reads user input from standard input",
              "action_id": "read_user_input",
              "object": "\"... no clang\"",
              "object_description": "",
              "object_id": "",
              "intention_description": "Collect user input",
              "intention_id": "collect_user_input"
            }
          ]
        }
      ]
    }
  ]
}