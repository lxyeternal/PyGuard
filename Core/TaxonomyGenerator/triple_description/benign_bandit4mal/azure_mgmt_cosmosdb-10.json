{
  "metadata": {
    "package_name": "azure_mgmt_cosmosdb-10",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign_bandit4mal/azure_mgmt_cosmosdb-10.0.0b5.json",
    "dataset_type": "benign_bandit4mal"
  },
  "code_files": [
    {
      "pyfile": "setup.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/azure_mgmt_cosmosdb-10.0.0b5/azure_mgmt_cosmosdb-10.0.0b5/setup.py",
      "line_number": "36",
      "type_description": "B814:read",
      "context_snippet": "import re\nimport os.path\nfrom io import open\nfrom setuptools import find_packages, setup\n\n# Change the PACKAGE_NAME only to change folder and different name\nPACKAGE_NAME = \"azure-mgmt-cosmosdb\"\nPACKAGE_PPRINT_NAME = \"Cosmos DB Management\"\n\n# a-b-c => a/b/c\npackage_folder_path = PACKAGE_NAME.replace(\"-\", \"/\")\n# a-b-c => a.b.c\nnamespace_name = PACKAGE_NAME.replace(\"-\", \".\")\n\n# Version extraction inspired from 'requests'\nwith open(\n    os.path.join(package_folder_path, \"version.py\")\n    if os.path.exists(os.path.join(package_folder_path, \"version.py\"))\n    else os.path.join(package_folder_path, \"_version.py\"),\n    \"r\",\n) as fd:\n    version = re.search(r'^VERSION\\s*=\\s*[\\'\"]([^\\'\"]*)[\\'\"]', fd.read(), re.MULTILINE).group(1)\n\nif not version:\n    raise RuntimeError(\"Cannot find version information\")\n\nwith open(\"README.md\", encoding=\"utf-8\") as f:\n    readme = f.read()\nwith open(\"CHANGELOG.md\", encoding=\"utf-8\") as f:\n    changelog = f.read()\n\nsetup(\n    name=PACKAGE_NAME,\n    version=version,\n    description=\"Microsoft Azure {} Client Library for Python\".format(PACKAGE_PPRINT_NAME),\n    long_description=readme + \"\\n\\n\" + changelog,\n    long_description_content_type=\"text/markdown\",\n    license=\"MIT License\",\n    author=\"Microsoft Corporation\",\n    author_email=\"azpysdkhelp@microsoft.com\",\n    url=\"https://github.com/Azure/azure-sdk-for-python\",\n    keywords=\"azure, azure sdk\",  # update with search keywords relevant to the azure service / product\n    classifiers=[\n        \"Development Status :: 4 - Beta\",\n        \"Programming Language :: Python\",\n        \"Programming Language :: Python :: 3 :: Only\",\n        \"Programming Language :: Python :: 3\",\n        \"Programming Language :: Python :: 3.8\",\n        \"Programming Language :: Python :: 3.9\",\n        \"Programming Language :: Python :: 3.10\",\n        \"Programming Language :: Python :: 3.11\",\n        \"Programming Language :: Python :: 3.12\",\n        \"License :: OSI Approved :: MIT License\",\n    ],\n    zip_safe=False,\n    packages=find_packages(\n        exclude=[\n            \"tests\",\n            # Exclude packages that will be covered by PEP420 or nspkg\n            \"azure\",\n            \"azure.mgmt\",\n        ]\n    ),\n    include_package_data=True,\n    package_data={\n        \"pytyped\": [\"py.typed\"],\n    },\n    install_requires=[\n        \"isodate>=0.6.1\",\n        \"typing-extensions>=4.6.0\",\n        \"azure-common>=1.1\",\n        \"azure-mgmt-core>=1.3.2\",\n    ],\n    python_requires=\">=3.8\",\n)\n",
      "hash_value": "40fa87edaeabee4369b8de37edf32918",
      "severity": "High",
      "confidence": "Medium",
      "code_snippets": [
        {
          "snippet": "import re\nimport os.path\nfrom io import open\nfrom setuptools import find_packages, setup\n\n# Change the PACKAGE_NAME only to change folder and different name\nPACKAGE_NAME = \"azure-mgmt-cosmosdb\"\nPACKAGE_PPRINT_NAME = \"Cosmos DB Management\"\n\n# a-b-c => a/b/c\npackage_folder_path = PACKAGE_NAME.replace(\"-\", \"/\")\n# a-b-c => a.b.c\nnamespace_name = PACKAGE_NAME.replace(\"-\", \".\")\n\n# Version extraction inspired from 'requests'\nwith open(\n    os.path.join(package_folder_path, \"version.py\")\n    if os.path.exists(os.path.join(package_folder_path, \"version.py\"))\n    else os.path.join(package_folder_path, \"_version.py\"),\n    \"r\",\n) as fd:\n    version = re.search(r'^VERSION\\s*=\\s*[\\'\"]([^\\'\"]*)[\\'\"]', fd.read(), re.MULTILINE).group(1)\n\nif not version:\n    raise RuntimeError(\"Cannot find version information\")\n\nwith open(\"README.md\", encoding=\"utf-8\") as f:\n    readme = f.read()\nwith open(\"CHANGELOG.md\", encoding=\"utf-8\") as f:\n    changelog = f.read()\n\nsetup(\n    name=PACKAGE_NAME,\n    version=version,\n    description=\"Microsoft Azure {} Client Library for Python\".format(PACKAGE_PPRINT_NAME),\n    long_description=readme + \"\\n\\n\" + changelog,\n    long_description_content_type=\"text/markdown\",\n    license=\"MIT License\",\n    author=\"Microsoft Corporation\",\n    author_email=\"azpysdkhelp@microsoft.com\",\n    url=\"https://github.com/Azure/azure-sdk-for-python\",\n    keywords=\"azure, azure sdk\",  # update with search keywords relevant to the azure service / product\n    classifiers=[\n        \"Development Status :: 4 - Beta\",\n        \"Programming Language :: Python\",\n        \"Programming Language :: Python :: 3 :: Only\",\n        \"Programming Language :: Python :: 3\",\n        \"Programming Language :: Python :: 3.8\",\n        \"Programming Language :: Python :: 3.9\",\n        \"Programming Language :: Python :: 3.10\",\n        \"Programming Language :: Python :: 3.11\",\n        \"Programming Language :: Python :: 3.12\",\n        \"License :: OSI Approved :: MIT License\",\n    ],\n    zip_safe=False,\n    packages=find_packages(\n        exclude=[\n            \"tests\",\n            # Exclude packages that will be covered by PEP420 or nspkg\n            \"azure\",\n            \"azure.mgmt\",\n        ]\n    ),\n    include_package_data=True,\n    package_data={\n        \"pytyped\": [\"py.typed\"],\n    },\n    install_requires=[\n        \"isodate>=0.6.1\",\n        \"typing-extensions>=4.6.0\",\n        \"azure-common>=1.1\",\n        \"azure-mgmt-core>=1.3.2\",\n    ],\n    python_requires=\">=3.8\",\n)\n",
          "triple_sequences": [
            {
              "action_api": "str.replace()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "PACKAGE_NAME.replace('-', '/')",
              "object_description": "Path segment",
              "object_id": "path_segment",
              "intention_description": "Prepare directory path",
              "intention_id": "prepare_directory_path"
            },
            {
              "action_api": "str.replace()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "PACKAGE_NAME.replace('-', '.')",
              "object_description": "Path segment",
              "object_id": "path_segment",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "os.path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "os.path.join(package_folder_path, \"version.py\")",
              "object_description": "Directory path with file",
              "object_id": "directory_path_with_file",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "os.path.exists()",
              "action_description": "Checks if specified path exists in filesystem",
              "action_id": "check_path_exists",
              "object": "os.path.join(package_folder_path, \"version.py\")",
              "object_description": "Directory path with file",
              "object_id": "directory_path_with_file",
              "intention_description": "Check if file or directory exists",
              "intention_id": "check_file_existence"
            },
            {
              "action_api": "os.path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "os.path.join(package_folder_path, \"_version.py\")",
              "object_description": "Directory path with file",
              "object_id": "directory_path_with_file",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "open()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "os.path.join(package_folder_path, \"version.py\") or os.path.join(package_folder_path, \"_version.py\")",
              "object_description": "Directory path with file",
              "object_id": "directory_path_with_file",
              "intention_description": "Open file for reading",
              "intention_id": "open_file_reading"
            },
            {
              "action_api": "fd.read()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "re.search()",
              "action_description": "Compiles regular expression pattern",
              "action_id": "compile_regex",
              "object": "r'^VERSION\\s*=\\s*[\\'\"]([^\\'\"]*)[\\'\"]', fd.read(), re.MULTILINE",
              "object_description": "Regex file content",
              "object_id": "regex_file_content",
              "intention_description": "Extract structured data from file",
              "intention_id": "extract_structured_file_data"
            },
            {
              "action_api": "open()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "\"README.md\", encoding=\"utf-8\"",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Open file for reading",
              "intention_id": "open_file_reading"
            },
            {
              "action_api": "f.read()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "open()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "\"CHANGELOG.md\", encoding=\"utf-8\"",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Open file for reading",
              "intention_id": "open_file_reading"
            },
            {
              "action_api": "f.read()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "setup()",
              "action_description": "Executes setuptools installation procedure",
              "action_id": "exec_setuptools_install",
              "object": "setup(...)",
              "object_description": "Function with arguments",
              "object_id": "function_with_arguments",
              "intention_description": "Install required Python package",
              "intention_id": "install_required_python_package"
            },
            {
              "action_api": "find_packages()",
              "action_description": "Executes setuptools development procedure",
              "action_id": "exec_setuptools_dev",
              "object": "exclude=[\"tests\", \"azure\", \"azure.mgmt\"]",
              "object_description": "Function with arguments",
              "object_id": "function_with_arguments",
              "intention_description": "Install multiple Python packages",
              "intention_id": "install_multiple_python_packages"
            }
          ]
        }
      ]
    }
  ]
}