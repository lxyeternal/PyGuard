{
  "metadata": {
    "package_name": "tfds_nightly-4",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign_bandit4mal/tfds_nightly-4.9.8.dev202504110044.json",
    "dataset_type": "benign_bandit4mal"
  },
  "code_files": [
    {
      "pyfile": "cifar10_h.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/tfds_nightly-4.9.8.dev202504110044/tfds_nightly-4.9.8.dev202504110044/tensorflow_datasets/image_classification/cifar10_h/cifar10_h.py",
      "line_number": "122",
      "type_description": "B814:read",
      "context_snippet": "def _split_generators(self, dl_manager):\n    \"\"\"Returns SplitGenerators.\"\"\"\n    cifar_path = dl_manager.download_and_extract(self._cifar_info.url)\n    cifar_info = self._cifar_info\n\n    cifar_path = os.path.join(cifar_path, cifar_info.prefix)\n\n    human_annotations_path = dl_manager.download_and_extract(\n        self._cifar_info.human_annotations_url\n    )\n    human_annotations_file = os.path.join(\n        human_annotations_path, \"cifar10h-raw.csv\"\n    )\n\n    # Load the label names\n    for label_key, label_file in zip(\n        cifar_info.label_keys, cifar_info.label_files\n    ):\n      labels_path = os.path.join(cifar_path, label_file)\n      with epath.Path(labels_path).open() as label_f:\n        label_names = [name for name in label_f.read().split(\"\\n\") if name]\n      self.info.features[label_key].names = label_names\n\n    # Define the splits\n    def gen_filenames(filenames):\n      for f in filenames:\n        yield os.path.join(cifar_path, f)\n\n    return {\n        \"train\": self._generate_examples(\n            \"train_\",\n            gen_filenames(cifar_info.train_files),\n            human_annotations_file,\n        ),\n        \"test\": self._generate_examples(\n            \"test_\",\n            gen_filenames(cifar_info.test_files),\n            human_annotations_file,\n        ),\n    }",
      "hash_value": "3ff207e47790a3eb640642ad964bdfee",
      "severity": "High",
      "confidence": "Medium",
      "code_snippets": [
        {
          "snippet": "def _split_generators(self, dl_manager):\n    \"\"\"Returns SplitGenerators.\"\"\"\n    cifar_path = dl_manager.download_and_extract(self._cifar_info.url)\n    cifar_info = self._cifar_info\n\n    cifar_path = os.path.join(cifar_path, cifar_info.prefix)\n\n    human_annotations_path = dl_manager.download_and_extract(\n        self._cifar_info.human_annotations_url\n    )\n    human_annotations_file = os.path.join(\n        human_annotations_path, \"cifar10h-raw.csv\"\n    )\n\n    # Load the label names\n    for label_key, label_file in zip(\n        cifar_info.label_keys, cifar_info.label_files\n    ):\n      labels_path = os.path.join(cifar_path, label_file)\n      with epath.Path(labels_path).open() as label_f:\n        label_names = [name for name in label_f.read().split(\"\\n\") if name]\n      self.info.features[label_key].names = label_names\n\n    # Define the splits\n    def gen_filenames(filenames):\n      for f in filenames:\n        yield os.path.join(cifar_path, f)\n\n    return {\n        \"train\": self._generate_examples(\n            \"train_\",\n            gen_filenames(cifar_info.train_files),\n            human_annotations_file,\n        ),\n        \"test\": self._generate_examples(\n            \"test_\",\n            gen_filenames(cifar_info.test_files),\n            human_annotations_file,\n        ),\n    }",
          "triple_sequences": [
            {
              "action_api": "dl_manager.download_and_extract()",
              "action_description": "Downloads file from URL to local path",
              "action_id": "download_file_url",
              "object": "self._cifar_info.url",
              "object_description": "External domain",
              "object_id": "external_domain",
              "intention_description": "Download remote content",
              "intention_id": "download_remote_content"
            },
            {
              "action_api": "os.path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "cifar_path, cifar_info.prefix",
              "object_description": "Directory path and file name",
              "object_id": "directory_path_with_file",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "dl_manager.download_and_extract()",
              "action_description": "Downloads file from URL to local path",
              "action_id": "download_file_url",
              "object": "self._cifar_info.human_annotations_url",
              "object_description": "External domain",
              "object_id": "external_domain",
              "intention_description": "Download remote content",
              "intention_id": "download_remote_content"
            },
            {
              "action_api": "os.path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "human_annotations_path, \"cifar10h-raw.csv\"",
              "object_description": "Directory path and file name",
              "object_id": "directory_path_with_file",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "zip()",
              "action_description": "Generate product of sequence",
              "action_id": "generate_sequence_product",
              "object": "cifar_info.label_keys, cifar_info.label_files",
              "object_description": "Character code array",
              "object_id": "character_code_array",
              "intention_description": "Generate product of sequence",
              "intention_id": "generate_sequence_product"
            },
            {
              "action_api": "os.path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "cifar_path, label_file",
              "object_description": "Directory path and file name",
              "object_id": "directory_path_with_file",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "epath.Path().open()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "labels_path",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Open file for reading",
              "intention_id": "open_file_reading"
            },
            {
              "action_api": "file.read()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "str.split()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "\"\\n\"",
              "object_description": "Space delimiter",
              "object_id": "space_delimiter",
              "intention_description": "Prepare string for further processing",
              "intention_id": "prepare_string_processing"
            },
            {
              "action_api": "os.path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "cifar_path, f",
              "object_description": "Directory path and file name",
              "object_id": "directory_path_with_file",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            }
          ]
        }
      ]
    }
  ]
}