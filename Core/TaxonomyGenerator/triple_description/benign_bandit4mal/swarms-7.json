{
  "metadata": {
    "package_name": "swarms-7",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign_bandit4mal/swarms-7.6.7.json",
    "dataset_type": "benign_bandit4mal"
  },
  "code_files": [
    {
      "pyfile": "model_router.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/swarms-7.6.7/swarms-7.6.7/swarms/structs/model_router.py",
      "line_number": "353",
      "type_description": "B840:executor",
      "context_snippet": "def concurrent_run(self, tasks: list):\n    \"\"\"\n    Run multiple tasks concurrently using a thread pool.\n\n    Args:\n        tasks (list): List of tasks to execute concurrently\n\n    Returns:\n        list: List of outputs from all tasks\n\n    Raises:\n        RuntimeError: If concurrent execution fails\n    \"\"\"\n    try:\n        with ThreadPoolExecutor(\n            max_workers=self.max_workers\n        ) as executor:\n            outputs = list(executor.map(self.run, tasks))\n        return outputs\n    except Exception as e:\n        raise RuntimeError(\n            f\"Concurrent execution failed: {str(e)}\"\n        )",
      "hash_value": "6532a4618c5db111a4133bf890e80e0b",
      "severity": "High",
      "confidence": "Medium",
      "code_snippets": [
        {
          "snippet": "def concurrent_run(self, tasks: list):\n    \"\"\"\n    Run multiple tasks concurrently using a thread pool.\n\n    Args:\n        tasks (list): List of tasks to execute concurrently\n\n    Returns:\n        list: List of outputs from all tasks\n\n    Raises:\n        RuntimeError: If concurrent execution fails\n    \"\"\"\n    try:\n        with ThreadPoolExecutor(\n            max_workers=self.max_workers\n        ) as executor:\n            outputs = list(executor.map(self.run, tasks))\n        return outputs\n    except Exception as e:\n        raise RuntimeError(\n            f\"Concurrent execution failed: {str(e)}\"\n        )",
          "triple_sequences": [
            {
              "action_api": "ThreadPoolExecutor()",
              "action_description": "Initializes thread pool executor",
              "action_id": "init_thread_pool",
              "object": "max_workers=self.max_workers",
              "object_description": "Thread function arguments",
              "object_id": "thread_arguments",
              "intention_description": "Concurrent execution preparation",
              "intention_id": "concurrent_execution_preparation"
            },
            {
              "action_api": "executor.map()",
              "action_description": "Submits function to thread pool",
              "action_id": "submit_thread_function",
              "object": "self.run, tasks",
              "object_description": "Thread target and arguments",
              "object_id": "thread_target_arguments",
              "intention_description": "Run function in thread pool",
              "intention_id": "run_function_thread_pool"
            }
          ]
        }
      ]
    }
  ]
}