{
  "metadata": {
    "package_name": "azure_multiapi_storage-1",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign_bandit4mal/azure_multiapi_storage-1.4.0-py2.py3-none-any.json",
    "dataset_type": "benign_bandit4mal"
  },
  "code_files": [
    {
      "pyfile": "fileservice.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/azure_multiapi_storage-1.4.0-py2.py3-none-any/azure/multiapi/storage/v2017_11_09/file/fileservice.py",
      "line_number": "657",
      "type_description": "B825:request",
      "context_snippet": "def delete_directory(self, share_name, directory_name,\n                     fail_not_exist=False, timeout=None):\n    '''\n    Deletes the specified empty directory. Note that the directory must\n    be empty before it can be deleted. Attempting to delete directories \n    that are not empty will fail.\n\n    If the directory does not exist, the operation fails on the\n    service. By default, the exception is swallowed by the client.\n    To expose the exception, specify True for fail_not_exist.\n\n    :param str share_name:\n        Name of existing share.\n    :param str directory_name:\n        Name of directory to delete, including the path to the parent \n        directory.\n    :param bool fail_not_exist:\n        Specify whether to throw an exception when the directory doesn't\n        exist.\n    :param int timeout:\n        The timeout parameter is expressed in seconds.\n    :return: True if directory is deleted, False otherwise.\n    :rtype: bool\n    '''\n    _validate_not_none('share_name', share_name)\n    _validate_not_none('directory_name', directory_name)\n    request = HTTPRequest()\n    request.method = 'DELETE'\n    request.host_locations = self._get_host_locations()\n    request.path = _get_path(share_name, directory_name)\n    request.query = {\n        'restype': 'directory',\n        'timeout': _int_to_str(timeout),\n    }\n\n    if not fail_not_exist:\n        try:\n            self._perform_request(request)\n            return True\n        except AzureHttpError as ex:\n            _dont_fail_not_exist(ex)\n            return False\n    else:\n        self._perform_request(request)\n        return True",
      "hash_value": "97dfbc893f5c9404ec02e10c1ad81517",
      "severity": "High",
      "confidence": "Medium",
      "code_snippets": [
        {
          "snippet": "def delete_directory(self, share_name, directory_name,\n                     fail_not_exist=False, timeout=None):\n    '''\n    Deletes the specified empty directory. Note that the directory must\n    be empty before it can be deleted. Attempting to delete directories \n    that are not empty will fail.\n\n    If the directory does not exist, the operation fails on the\n    service. By default, the exception is swallowed by the client.\n    To expose the exception, specify True for fail_not_exist.\n\n    :param str share_name:\n        Name of existing share.\n    :param str directory_name:\n        Name of directory to delete, including the path to the parent \n        directory.\n    :param bool fail_not_exist:\n        Specify whether to throw an exception when the directory doesn't\n        exist.\n    :param int timeout:\n        The timeout parameter is expressed in seconds.\n    :return: True if directory is deleted, False otherwise.\n    :rtype: bool\n    '''\n    _validate_not_none('share_name', share_name)\n    _validate_not_none('directory_name', directory_name)\n    request = HTTPRequest()\n    request.method = 'DELETE'\n    request.host_locations = self._get_host_locations()\n    request.path = _get_path(share_name, directory_name)\n    request.query = {\n        'restype': 'directory',\n        'timeout': _int_to_str(timeout),\n    }\n\n    if not fail_not_exist:\n        try:\n            self._perform_request(request)\n            return True\n        except AzureHttpError as ex:\n            _dont_fail_not_exist(ex)\n            return False\n    else:\n        self._perform_request(request)\n        return True",
          "triple_sequences": [
            {
              "action_api": "_validate_not_none()",
              "action_description": "Checks if specified path exists in filesystem",
              "action_id": "check_path_exists",
              "object": "share_name",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Check if file or directory exists",
              "intention_id": "check_file_existence"
            },
            {
              "action_api": "_validate_not_none()",
              "action_description": "Checks if specified path exists in filesystem",
              "action_id": "check_path_exists",
              "object": "directory_name",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Check if file or directory exists",
              "intention_id": "check_file_existence"
            },
            {
              "action_api": "HTTPRequest()",
              "action_description": "Creates HTTP request object with specified URL, data, and headers",
              "action_id": "create_http_request",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare URL for HTTP request",
              "intention_id": "prepare_url_http_request"
            },
            {
              "action_api": "_get_host_locations()",
              "action_description": "Retrieves operating system information",
              "action_id": "get_os_info",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Get system info",
              "intention_id": "get_system_info"
            },
            {
              "action_api": "_get_path()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "share_name, directory_name",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "_int_to_str()",
              "action_description": "Converts integer to string",
              "action_id": "convert_int_to_char",
              "object": "timeout",
              "object_description": "Timeout duration value",
              "object_id": "timeout_value",
              "intention_description": "Convert string to integer",
              "intention_id": "convert_string_to_integer"
            },
            {
              "action_api": "self._perform_request()",
              "action_description": "Sends HTTP request",
              "action_id": "send_http_request",
              "object": "request",
              "object_description": "Request object for external domain",
              "object_id": "request_external_domain",
              "intention_description": "Delete directory content",
              "intention_id": "delete_directory_content"
            },
            {
              "action_api": "_dont_fail_not_exist()",
              "action_description": "Handles socket timeout exception",
              "action_id": "handle_socket_timeout",
              "object": "ex",
              "object_description": "Exception type name",
              "object_id": "exception_type",
              "intention_description": "Stop execution on invalid input",
              "intention_id": "stop_execution_invalid_input"
            }
          ]
        }
      ]
    }
  ]
}