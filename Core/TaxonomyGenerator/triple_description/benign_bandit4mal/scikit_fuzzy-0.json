{
  "metadata": {
    "package_name": "scikit_fuzzy-0",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign_bandit4mal/scikit_fuzzy-0.5.0.json",
    "dataset_type": "benign_bandit4mal"
  },
  "code_files": [
    {
      "pyfile": "plot_directive.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/scikit_fuzzy-0.5.0/scikit_fuzzy-0.5.0/docs/ext/plot_directive.py",
      "line_number": "505",
      "type_description": "B800:exec_used",
      "context_snippet": "def run_code(code, code_path, ns=None, function_name=None):\n    \"\"\"\n    Import a Python module from a path, and run the function given by\n    name, if function_name is not None.\n    \"\"\"\n\n    # Change the working directory to the directory of the example, so\n    # it can get at its data files, if any.  Add its path to sys.path\n    # so it can import any helper modules sitting beside it.\n    pwd = os.getcwd()\n    if setup.config.plot_working_directory is not None:\n        try:\n            os.chdir(setup.config.plot_working_directory)\n        except OSError as err:\n            raise OSError(str(err) + '\\n`plot_working_directory` option in'\n                          'Sphinx configuration file must be a valid '\n                          'directory path')\n        except TypeError as err:\n            raise TypeError(str(err) + '\\n`plot_working_directory` option in '\n                            'Sphinx configuration file must be a string or '\n                            'None')\n    elif code_path is not None:\n        dirname = os.path.abspath(os.path.dirname(code_path))\n        os.chdir(dirname)\n\n    with cbook._setattr_cm(\n            sys, argv=[code_path], path=[os.getcwd(), *sys.path]), \\\n            contextlib.redirect_stdout(StringIO()):\n        try:\n            code = unescape_doctest(code)\n            if ns is None:\n                ns = {}\n            if not ns:\n                if setup.config.plot_pre_code is None:\n                    exec('import numpy as np\\n'\n                         'from matplotlib import pyplot as plt\\n', ns)\n                else:\n                    exec(str(setup.config.plot_pre_code), ns)\n            if \"__main__\" in code:\n                ns['__name__'] = '__main__'\n\n            # Patch out non-interactive show() to avoid triggering a warning.\n            with cbook._setattr_cm(FigureManagerBase, show=lambda self: None):\n                exec(code, ns)\n                if function_name is not None:\n                    exec(function_name + \"()\", ns)\n\n        except (Exception, SystemExit):\n            raise PlotError(traceback.format_exc())\n        finally:\n            os.chdir(pwd)\n    return ns",
      "hash_value": "fa6ab2eaeeb611b1415b14f13400101e",
      "severity": "Medium",
      "confidence": "High",
      "code_snippets": [
        {
          "snippet": "def run_code(code, code_path, ns=None, function_name=None):\n    \"\"\"\n    Import a Python module from a path, and run the function given by\n    name, if function_name is not None.\n    \"\"\"\n\n    # Change the working directory to the directory of the example, so\n    # it can get at its data files, if any.  Add its path to sys.path\n    # so it can import any helper modules sitting beside it.\n    pwd = os.getcwd()\n    if setup.config.plot_working_directory is not None:\n        try:\n            os.chdir(setup.config.plot_working_directory)\n        except OSError as err:\n            raise OSError(str(err) + '\\n`plot_working_directory` option in'\n                          'Sphinx configuration file must be a valid '\n                          'directory path')\n        except TypeError as err:\n            raise TypeError(str(err) + '\\n`plot_working_directory` option in '\n                            'Sphinx configuration file must be a string or '\n                            'None')\n    elif code_path is not None:\n        dirname = os.path.abspath(os.path.dirname(code_path))\n        os.chdir(dirname)\n\n    with cbook._setattr_cm(\n            sys, argv=[code_path], path=[os.getcwd(), *sys.path]), \\\n            contextlib.redirect_stdout(StringIO()):\n        try:\n            code = unescape_doctest(code)\n            if ns is None:\n                ns = {}\n            if not ns:\n                if setup.config.plot_pre_code is None:\n                    exec('import numpy as np\\n'\n                         'from matplotlib import pyplot as plt\\n', ns)\n                else:\n                    exec(str(setup.config.plot_pre_code), ns)\n            if \"__main__\" in code:\n                ns['__name__'] = '__main__'\n\n            # Patch out non-interactive show() to avoid triggering a warning.\n            with cbook._setattr_cm(FigureManagerBase, show=lambda self: None):\n                exec(code, ns)\n                if function_name is not None:\n                    exec(function_name + \"()\", ns)\n\n        except (Exception, SystemExit):\n            raise PlotError(traceback.format_exc())\n        finally:\n            os.chdir(pwd)\n    return ns",
          "triple_sequences": [
            {
              "action_api": "os.getcwd()",
              "action_description": "Returns current working directory",
              "action_id": "get_working_dir",
              "object": "",
              "object_description": "Current working directory",
              "object_id": "current_working_directory",
              "intention_description": "Collect working directory",
              "intention_id": "collect_working_directory"
            },
            {
              "action_api": "os.chdir()",
              "action_description": "Changes current working directory",
              "action_id": "change_working_dir",
              "object": "setup.config.plot_working_directory",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Change working directory",
              "intention_id": "change_working_directory"
            },
            {
              "action_api": "os.path.dirname()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "code_path",
              "object_description": "Script file path",
              "object_id": "script_file_path",
              "intention_description": "Prepare directory path",
              "intention_id": "prepare_directory_path"
            },
            {
              "action_api": "os.path.abspath()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "os.path.dirname(code_path)",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Prepare directory path",
              "intention_id": "prepare_directory_path"
            },
            {
              "action_api": "os.chdir()",
              "action_description": "Changes current working directory",
              "action_id": "change_working_dir",
              "object": "dirname",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Change working directory",
              "intention_id": "change_working_directory"
            },
            {
              "action_api": "os.getcwd()",
              "action_description": "Returns current working directory",
              "action_id": "get_working_dir",
              "object": "",
              "object_description": "Current working directory",
              "object_id": "current_working_directory",
              "intention_description": "Collect working directory",
              "intention_id": "collect_working_directory"
            },
            {
              "action_api": "unescape_doctest()",
              "action_description": "Decodes base64-encoded string to ASCII text",
              "action_id": "decode_base64_to_ascii",
              "object": "code",
              "object_description": "Python code string",
              "object_id": "python_code_string",
              "intention_description": "Decode obfuscated code content",
              "intention_id": "decode_obfuscated_code"
            },
            {
              "action_api": "exec()",
              "action_description": "Dynamically executes Python code string",
              "action_id": "exec_python_code",
              "object": "'import numpy as np\\nfrom matplotlib import pyplot as plt\\n' or str(setup.config.plot_pre_code)",
              "object_description": "Python code string",
              "object_id": "python_code_string",
              "intention_description": "Execute Python code",
              "intention_id": "execute_python_code"
            },
            {
              "action_api": "exec()",
              "action_description": "Dynamically executes Python code string",
              "action_id": "exec_python_code",
              "object": "code",
              "object_description": "Python code string",
              "object_id": "python_code_string",
              "intention_description": "Execute Python code",
              "intention_id": "execute_python_code"
            },
            {
              "action_api": "exec()",
              "action_description": "Dynamically executes Python code string",
              "action_id": "exec_python_code",
              "object": "function_name + \"()\"",
              "object_description": "Python code string",
              "object_id": "python_code_string",
              "intention_description": "Execute Python code",
              "intention_id": "execute_python_code"
            },
            {
              "action_api": "os.chdir()",
              "action_description": "Changes current working directory",
              "action_id": "change_working_dir",
              "object": "pwd",
              "object_description": "Directory path",
              "object_id": "directory_path",
              "intention_description": "Restore previous working directory",
              "intention_id": "restore_working_directory"
            }
          ]
        }
      ]
    }
  ]
}