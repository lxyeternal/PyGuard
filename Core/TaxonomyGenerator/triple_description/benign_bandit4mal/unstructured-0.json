{
  "metadata": {
    "package_name": "unstructured-0",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign_bandit4mal/unstructured-0.17.2.json",
    "dataset_type": "benign_bandit4mal"
  },
  "code_files": [
    {
      "pyfile": "test_ndjson.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/unstructured-0.17.2/unstructured-0.17.2/test_unstructured/partition/test_ndjson.py",
      "line_number": "213",
      "type_description": "B814:read",
      "context_snippet": "def test_partition_ndjson_raises_with_too_many_specified():\n    path = example_doc_path(\"fake-text.txt\")\n    elements = []\n    filetype = FileType.from_extension(os.path.splitext(path)[1])\n    if filetype == FileType.TXT:\n        elements = partition_text(filename=path)\n    if filetype == FileType.HTML:\n        elements = partition_html(filename=path)\n    if filetype == FileType.XML:\n        elements = partition_xml(filename=path)\n    if filetype == FileType.EML:\n        elements = partition_email(filename=path)\n\n    with tempfile.TemporaryDirectory() as tmpdir:\n        test_path = os.path.join(tmpdir, \"fake-text.txt.ndjson\")\n        elements_to_ndjson(elements, filename=test_path)\n        with open(test_path, \"rb\") as f:\n            text = f.read().decode(\"utf-8\")\n\n    with pytest.raises(ValueError):\n        partition_ndjson(filename=test_path, file=f)\n\n    with pytest.raises(ValueError):\n        partition_ndjson(filename=test_path, text=text)\n\n    with pytest.raises(ValueError):\n        partition_ndjson(file=f, text=text)\n\n    with pytest.raises(ValueError):\n        partition_ndjson(filename=test_path, file=f, text=text)",
      "hash_value": "5ca6eed8eebdd4da876e0afd90c1d7a1",
      "severity": "High",
      "confidence": "Medium",
      "code_snippets": [
        {
          "snippet": "def test_partition_ndjson_raises_with_too_many_specified():\n    path = example_doc_path(\"fake-text.txt\")\n    elements = []\n    filetype = FileType.from_extension(os.path.splitext(path)[1])\n    if filetype == FileType.TXT:\n        elements = partition_text(filename=path)\n    if filetype == FileType.HTML:\n        elements = partition_html(filename=path)\n    if filetype == FileType.XML:\n        elements = partition_xml(filename=path)\n    if filetype == FileType.EML:\n        elements = partition_email(filename=path)\n\n    with tempfile.TemporaryDirectory() as tmpdir:\n        test_path = os.path.join(tmpdir, \"fake-text.txt.ndjson\")\n        elements_to_ndjson(elements, filename=test_path)\n        with open(test_path, \"rb\") as f:\n            text = f.read().decode(\"utf-8\")\n\n    with pytest.raises(ValueError):\n        partition_ndjson(filename=test_path, file=f)\n\n    with pytest.raises(ValueError):\n        partition_ndjson(filename=test_path, text=text)\n\n    with pytest.raises(ValueError):\n        partition_ndjson(file=f, text=text)\n\n    with pytest.raises(ValueError):\n        partition_ndjson(filename=test_path, file=f, text=text)",
          "triple_sequences": [
            {
              "action_api": "example_doc_path()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "\"fake-text.txt\"",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "os.path.splitext()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "path",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "FileType.from_extension()",
              "action_description": "Path object and status operations (creating Path objects, retrieving file status)",
              "action_id": "path_object_operations",
              "object": "os.path.splitext(path)[1]",
              "object_description": "File extension string",
              "object_id": "file_extension",
              "intention_description": "Determine presence of file",
              "intention_id": "determine_file_presence"
            },
            {
              "action_api": "partition_text()",
              "action_description": "Collect system information",
              "action_id": "collect_system_info",
              "object": "filename=path",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "partition_html()",
              "action_description": "Collect system information",
              "action_id": "collect_system_info",
              "object": "filename=path",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "partition_xml()",
              "action_description": "Collect system information",
              "action_id": "collect_system_info",
              "object": "filename=path",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "partition_email()",
              "action_description": "Collect system information",
              "action_id": "collect_system_info",
              "object": "filename=path",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "tempfile.TemporaryDirectory()",
              "action_description": "Creates temporary directory and returns its path",
              "action_id": "create_temp_dir",
              "object": "",
              "object_description": "Temporary directory",
              "object_id": "temporary_directory",
              "intention_description": "Create temporary directory",
              "intention_id": "create_temporary_directory"
            },
            {
              "action_api": "os.path.join()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "tmpdir, \"fake-text.txt.ndjson\"",
              "object_description": "Directory path and file name",
              "object_id": "directory_path_with_file",
              "intention_description": "Construct file or directory path",
              "intention_id": "construct_file_path"
            },
            {
              "action_api": "elements_to_ndjson()",
              "action_description": "Serialize Python object to JSON string",
              "action_id": "serialize_to_json",
              "object": "elements, filename=test_path",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Write file content",
              "intention_id": "write_file_content"
            },
            {
              "action_api": "open()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "test_path, \"rb\"",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Open file for reading",
              "intention_id": "open_file_reading"
            },
            {
              "action_api": "file.read()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "bytes.decode()",
              "action_description": "Decodes bytes using specified codec",
              "action_id": "decode_bytes_codec",
              "object": "\"utf-8\"",
              "object_description": "Character encoding type",
              "object_id": "character_encoding_type",
              "intention_description": "Decode bytes to string",
              "intention_id": "decode_bytes_to_string"
            },
            {
              "action_api": "pytest.raises()",
              "action_description": "Checks if error is instance of CommandNotFound",
              "action_id": "check_command_not_found",
              "object": "ValueError",
              "object_description": "Exception type name",
              "object_id": "exception_type",
              "intention_description": "Stop execution on invalid input",
              "intention_id": "stop_execution_invalid_input"
            },
            {
              "action_api": "partition_ndjson()",
              "action_description": "Collect system information",
              "action_id": "collect_system_info",
              "object": "filename=test_path, file=f",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Stop execution on invalid input",
              "intention_id": "stop_execution_invalid_input"
            },
            {
              "action_api": "pytest.raises()",
              "action_description": "Checks if error is instance of CommandNotFound",
              "action_id": "check_command_not_found",
              "object": "ValueError",
              "object_description": "Exception type name",
              "object_id": "exception_type",
              "intention_description": "Stop execution on invalid input",
              "intention_id": "stop_execution_invalid_input"
            },
            {
              "action_api": "partition_ndjson()",
              "action_description": "Collect system information",
              "action_id": "collect_system_info",
              "object": "filename=test_path, text=text",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Stop execution on invalid input",
              "intention_id": "stop_execution_invalid_input"
            },
            {
              "action_api": "pytest.raises()",
              "action_description": "Checks if error is instance of CommandNotFound",
              "action_id": "check_command_not_found",
              "object": "ValueError",
              "object_description": "Exception type name",
              "object_id": "exception_type",
              "intention_description": "Stop execution on invalid input",
              "intention_id": "stop_execution_invalid_input"
            },
            {
              "action_api": "partition_ndjson()",
              "action_description": "Collect system information",
              "action_id": "collect_system_info",
              "object": "file=f, text=text",
              "object_description": "",
              "object_id": "",
              "intention_description": "Stop execution on invalid input",
              "intention_id": "stop_execution_invalid_input"
            },
            {
              "action_api": "pytest.raises()",
              "action_description": "Checks if error is instance of CommandNotFound",
              "action_id": "check_command_not_found",
              "object": "ValueError",
              "object_description": "Exception type name",
              "object_id": "exception_type",
              "intention_description": "Stop execution on invalid input",
              "intention_id": "stop_execution_invalid_input"
            },
            {
              "action_api": "partition_ndjson()",
              "action_description": "Collect system information",
              "action_id": "collect_system_info",
              "object": "filename=test_path, file=f, text=text",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Stop execution on invalid input",
              "intention_id": "stop_execution_invalid_input"
            }
          ]
        }
      ]
    }
  ]
}