{
  "metadata": {
    "package_name": "qcs_api_client-0",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign_bandit4mal/qcs_api_client-0.25.5.json",
    "dataset_type": "benign_bandit4mal"
  },
  "code_files": [
    {
      "pyfile": "get_group_upcoming_billing_invoice.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/qcs_api_client-0.25.5/qcs_api_client-0.25.5/qcs_api_client/api/account/get_group_upcoming_billing_invoice.py",
      "line_number": "85",
      "type_description": "B825:request",
      "context_snippet": "from http import HTTPStatus\nfrom typing import Any, Dict, Union\n\nimport httpx\nfrom tenacity import retry\n\nfrom ...types import Response\nfrom ...util.errors import QCSHTTPStatusError\nfrom ...util.retry import DEFAULT_RETRY_ARGUMENTS\n\nfrom ...models.billing_upcoming_invoice import BillingUpcomingInvoice\nfrom ...models.error import Error\n\n\ndef _get_kwargs(\n    group_name: str,\n) -> Dict[str, Any]:\n    _kwargs: Dict[str, Any] = {\n        \"method\": \"get\",\n        \"url\": \"/v1/groups/{group_name}/billingInvoices:getUpcoming\".format(\n            group_name=group_name,\n        ),\n    }\n\n    return _kwargs\n\n\ndef _parse_response(*, response: httpx.Response) -> Union[BillingUpcomingInvoice, Error]:\n    if response.status_code == HTTPStatus.OK:\n        response_200 = BillingUpcomingInvoice.from_dict(response.json())\n\n        return response_200\n    else:\n        raise QCSHTTPStatusError(f\"Unexpected response: status code {response.status_code}\")\n\n\ndef _build_response(*, response: httpx.Response) -> Response[Union[BillingUpcomingInvoice, Error]]:\n    \"\"\"Construct the Response class from the raw ``httpx.Response``.\"\"\"\n    return Response.build_from_httpx_response(response=response, parse_function=_parse_response)\n\n\n@retry(**DEFAULT_RETRY_ARGUMENTS)\ndef sync(\n    group_name: str,\n    *,\n    client: httpx.Client,\n    httpx_request_kwargs: Dict[str, Any] = {},\n) -> Response[Union[BillingUpcomingInvoice, Error]]:\n    \"\"\"Retrieve upcoming invoice for QCS group billing customer.\n\n    Args:\n        group_name (str):\n\n    Raises:\n        errors.UnexpectedStatus: If the server returns an undocumented status code and Client.raise_on_unexpected_status is True.\n        httpx.TimeoutException: If the request takes longer than Client.timeout.\n\n    Returns:\n        Response[Union[BillingUpcomingInvoice, Error]]\n    \"\"\"\n\n    kwargs = _get_kwargs(\n        group_name=group_name,\n    )\n    kwargs.update(httpx_request_kwargs)\n    response = client.request(\n        **kwargs,\n    )\n\n    return _build_response(response=response)\n",
      "hash_value": "43c7be6fd38d77fe13ef8831c3cf4568",
      "severity": "High",
      "confidence": "Medium",
      "code_snippets": [
        {
          "snippet": "from http import HTTPStatus\nfrom typing import Any, Dict, Union\n\nimport httpx\nfrom tenacity import retry\n\nfrom ...types import Response\nfrom ...util.errors import QCSHTTPStatusError\nfrom ...util.retry import DEFAULT_RETRY_ARGUMENTS\n\nfrom ...models.billing_upcoming_invoice import BillingUpcomingInvoice\nfrom ...models.error import Error\n\n\ndef _get_kwargs(\n    group_name: str,\n) -> Dict[str, Any]:\n    _kwargs: Dict[str, Any] = {\n        \"method\": \"get\",\n        \"url\": \"/v1/groups/{group_name}/billingInvoices:getUpcoming\".format(\n            group_name=group_name,\n        ),\n    }\n\n    return _kwargs\n\n\ndef _parse_response(*, response: httpx.Response) -> Union[BillingUpcomingInvoice, Error]:\n    if response.status_code == HTTPStatus.OK:\n        response_200 = BillingUpcomingInvoice.from_dict(response.json())\n\n        return response_200\n    else:\n        raise QCSHTTPStatusError(f\"Unexpected response: status code {response.status_code}\")\n\n\ndef _build_response(*, response: httpx.Response) -> Response[Union[BillingUpcomingInvoice, Error]]:\n    \"\"\"Construct the Response class from the raw ``httpx.Response``.\"\"\"\n    return Response.build_from_httpx_response(response=response, parse_function=_parse_response)\n\n\n@retry(**DEFAULT_RETRY_ARGUMENTS)\ndef sync(\n    group_name: str,\n    *,\n    client: httpx.Client,\n    httpx_request_kwargs: Dict[str, Any] = {},\n) -> Response[Union[BillingUpcomingInvoice, Error]]:\n    \"\"\"Retrieve upcoming invoice for QCS group billing customer.\n\n    Args:\n        group_name (str):\n\n    Raises:\n        errors.UnexpectedStatus: If the server returns an undocumented status code and Client.raise_on_unexpected_status is True.\n        httpx.TimeoutException: If the request takes longer than Client.timeout.\n\n    Returns:\n        Response[Union[BillingUpcomingInvoice, Error]]\n    \"\"\"\n\n    kwargs = _get_kwargs(\n        group_name=group_name,\n    )\n    kwargs.update(httpx_request_kwargs)\n    response = client.request(\n        **kwargs,\n    )\n\n    return _build_response(response=response)\n",
          "triple_sequences": [
            {
              "action_api": "_get_kwargs()",
              "action_description": "Prepares URL for HTTP request",
              "action_id": "prepare_url_http_request",
              "object": "group_name",
              "object_description": "Username string",
              "object_id": "username_string",
              "intention_description": "Prepare URL for HTTP request",
              "intention_id": "prepare_url_http_request"
            },
            {
              "action_api": "dict.update()",
              "action_description": "Basic write operations for writing (normal writing, binary writing)",
              "action_id": "basic_write_operations",
              "object": "httpx_request_kwargs",
              "object_description": "",
              "object_id": "",
              "intention_description": "Prepare data for further processing",
              "intention_id": "prepare_data_processing"
            },
            {
              "action_api": "httpx.Client.request()",
              "action_description": "Sends HTTP request",
              "action_id": "send_http_request",
              "object": "kwargs",
              "object_description": "Request object for external domain",
              "object_id": "request_external_domain",
              "intention_description": "Download remote content",
              "intention_id": "download_remote_content"
            },
            {
              "action_api": "_build_response()",
              "action_description": "Constructs Python code string",
              "action_id": "construct_python_code",
              "object": "response",
              "object_description": "HTTP response content from remote server",
              "object_id": "http_response_remote_content",
              "intention_description": "Prepare data for further processing",
              "intention_id": "prepare_data_processing"
            },
            {
              "action_api": "httpx.Response.status_code",
              "action_description": "Retrieves HTTP response status code",
              "action_id": "get_http_status",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Access attribute value",
              "intention_id": "access_attribute_value"
            },
            {
              "action_api": "httpx.Response.json()",
              "action_description": "Process HTTP response content",
              "action_id": "process_http_response",
              "object": "",
              "object_description": "",
              "object_id": "",
              "intention_description": "Parse JSON data",
              "intention_id": "parse_json_data"
            },
            {
              "action_api": "BillingUpcomingInvoice.from_dict()",
              "action_description": "Deserializes JSON response body to Python object",
              "action_id": "deserialize_json_response",
              "object": "response.json()",
              "object_description": "JSON string",
              "object_id": "json_string",
              "intention_description": "Parse JSON data",
              "intention_id": "parse_json_data"
            },
            {
              "action_api": "Response.build_from_httpx_response()",
              "action_description": "Constructs Python code string",
              "action_id": "construct_python_code",
              "object": "response, parse_function=_parse_response",
              "object_description": "HTTP response content from remote server",
              "object_id": "http_response_remote_content",
              "intention_description": "Prepare data for further processing",
              "intention_id": "prepare_data_processing"
            },
            {
              "action_api": "raise QCSHTTPStatusError()",
              "action_description": "Raises HTTPError if response status code indicates error",
              "action_id": "raise_http_error",
              "object": "f\"Unexpected response: status code {response.status_code}\"",
              "object_description": "Error message text",
              "object_id": "error_message",
              "intention_description": "Stop execution on invalid input",
              "intention_id": "stop_execution_invalid_input"
            }
          ]
        }
      ]
    }
  ]
}