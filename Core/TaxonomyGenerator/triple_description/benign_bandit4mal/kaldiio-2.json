{
  "metadata": {
    "package_name": "kaldiio-2",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign_bandit4mal/kaldiio-2.18.1.json",
    "dataset_type": "benign_bandit4mal"
  },
  "code_files": [
    {
      "pyfile": "utils.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/kaldiio-2.18.1/kaldiio-2.18.1/kaldiio/utils.py",
      "line_number": "182",
      "type_description": "B813:popen",
      "context_snippet": "def open_like_kaldi(name, mode=\"r\"):\n    \"\"\"Open a file like kaldi io\n\n    Args:\n        name (str or file):\n        mode (str):\n    \"\"\"\n    # If file descriptor\n    if not isinstance(name, string_types):\n        if PY3 and \"b\" in mode and isinstance(name, TextIOBase):\n            return name.buffer\n        else:\n            return name\n\n    # If writting to stdout\n    if name.strip().endswith(\"|\"):\n        cmd = name.strip()[:-1].encode(default_encoding)\n        return my_popen(cmd, mode)\n    # If reading from stdin\n    elif name.strip().startswith(\"|\"):\n        cmd = name.strip()[1:].encode(default_encoding)\n        return my_popen(cmd, mode)\n    # If read mode\n    elif name == \"-\" and \"r\" in mode:\n        if PY3:\n            if mode == \"rb\":\n                return _stdstream_wrap(sys.stdin.buffer)\n            else:\n                return _stdstream_wrap(\n                    io.TextIOWrapper(sys.stdin.buffer, encoding=default_encoding)\n                )\n        else:\n            return _stdstream_wrap(sys.stdin)\n    # If write mode\n    elif name == \"-\" and (\"w\" in mode or \"a\" in mode):\n        if PY3:\n            if mode == \"wb\" or mode == \"ab\":\n                return _stdstream_wrap(sys.stdout.buffer)\n            else:\n                return _stdstream_wrap(\n                    io.TextIOWrapper(sys.stdout.buffer, encoding=default_encoding)\n                )\n        else:\n            return _stdstream_wrap(sys.stdout)\n    else:\n        encoding = None if \"b\" in mode else default_encoding\n        return io.open(name, mode, encoding=encoding)\n",
      "hash_value": "6de5ffa8da5089eb3455e152d0ded45d",
      "severity": "High",
      "confidence": "Medium",
      "code_snippets": [
        {
          "snippet": "def open_like_kaldi(name, mode=\"r\"):\n    \"\"\"Open a file like kaldi io\n\n    Args:\n        name (str or file):\n        mode (str):\n    \"\"\"\n    # If file descriptor\n    if not isinstance(name, string_types):\n        if PY3 and \"b\" in mode and isinstance(name, TextIOBase):\n            return name.buffer\n        else:\n            return name\n\n    # If writting to stdout\n    if name.strip().endswith(\"|\"):\n        cmd = name.strip()[:-1].encode(default_encoding)\n        return my_popen(cmd, mode)\n    # If reading from stdin\n    elif name.strip().startswith(\"|\"):\n        cmd = name.strip()[1:].encode(default_encoding)\n        return my_popen(cmd, mode)\n    # If read mode\n    elif name == \"-\" and \"r\" in mode:\n        if PY3:\n            if mode == \"rb\":\n                return _stdstream_wrap(sys.stdin.buffer)\n            else:\n                return _stdstream_wrap(\n                    io.TextIOWrapper(sys.stdin.buffer, encoding=default_encoding)\n                )\n        else:\n            return _stdstream_wrap(sys.stdin)\n    # If write mode\n    elif name == \"-\" and (\"w\" in mode or \"a\" in mode):\n        if PY3:\n            if mode == \"wb\" or mode == \"ab\":\n                return _stdstream_wrap(sys.stdout.buffer)\n            else:\n                return _stdstream_wrap(\n                    io.TextIOWrapper(sys.stdout.buffer, encoding=default_encoding)\n                )\n        else:\n            return _stdstream_wrap(sys.stdout)\n    else:\n        encoding = None if \"b\" in mode else default_encoding\n        return io.open(name, mode, encoding=encoding)\n",
          "triple_sequences": [
            {
              "action_api": "isinstance()",
              "action_description": "Checks if object is instance of specified type",
              "action_id": "check_instance_type",
              "object": "name, string_types",
              "object_description": "",
              "object_id": "",
              "intention_description": "Determine required module presence",
              "intention_id": "determine_required_module_presence"
            },
            {
              "action_api": "str.strip()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "name",
              "object_description": "Local file or directory name",
              "object_id": "local_file_or_directory_name",
              "intention_description": "Prepare path for file operations",
              "intention_id": "prepare_path_file_operations"
            },
            {
              "action_api": "str.endswith()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "|",
              "object_description": "Path segment",
              "object_id": "path_segment",
              "intention_description": "Prepare path for file operations",
              "intention_id": "prepare_path_file_operations"
            },
            {
              "action_api": "str.encode()",
              "action_description": "Encodes string to bytes using default encoding",
              "action_id": "encode_string_to_bytes",
              "object": "name.strip()[:-1]",
              "object_description": "Local file or directory name",
              "object_id": "local_file_or_directory_name",
              "intention_description": "Encode string to bytes",
              "intention_id": "encode_string_to_bytes"
            },
            {
              "action_api": "my_popen()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "cmd, mode",
              "object_description": "Shell command",
              "object_id": "shell_command",
              "intention_description": "Execute command",
              "intention_id": "execute_command"
            },
            {
              "action_api": "str.startswith()",
              "action_description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "|",
              "object_description": "Path segment",
              "object_id": "path_segment",
              "intention_description": "Prepare path for file operations",
              "intention_id": "prepare_path_file_operations"
            },
            {
              "action_api": "str.encode()",
              "action_description": "Encodes string to bytes using default encoding",
              "action_id": "encode_string_to_bytes",
              "object": "name.strip()[1:]",
              "object_description": "Local file or directory name",
              "object_id": "local_file_or_directory_name",
              "intention_description": "Encode string to bytes",
              "intention_id": "encode_string_to_bytes"
            },
            {
              "action_api": "my_popen()",
              "action_description": "Executes shell command",
              "action_id": "execute_shell_command",
              "object": "cmd, mode",
              "object_description": "Shell command",
              "object_id": "shell_command",
              "intention_description": "Execute command",
              "intention_id": "execute_command"
            },
            {
              "action_api": "io.TextIOWrapper()",
              "action_description": "Basic write operations (normal writing, binary writing)",
              "action_id": "basic_write_operations",
              "object": "sys.stdin.buffer, encoding=default_encoding",
              "object_description": "Local file",
              "object_id": "local_file",
              "intention_description": "Open file for reading",
              "intention_id": "open_file_reading"
            },
            {
              "action_api": "_stdstream_wrap()",
              "action_description": "Basic read operations (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "sys.stdin.buffer",
              "object_description": "Local file",
              "object_id": "local_file",
              "intention_description": "Open file for reading",
              "intention_id": "open_file_reading"
            },
            {
              "action_api": "_stdstream_wrap()",
              "action_description": "Basic read operations (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "io.TextIOWrapper(sys.stdin.buffer, encoding=default_encoding)",
              "object_description": "Local file",
              "object_id": "local_file",
              "intention_description": "Open file for reading",
              "intention_id": "open_file_reading"
            },
            {
              "action_api": "_stdstream_wrap()",
              "action_description": "Basic read operations (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "sys.stdin",
              "object_description": "Local file",
              "object_id": "local_file",
              "intention_description": "Open file for reading",
              "intention_id": "open_file_reading"
            },
            {
              "action_api": "io.TextIOWrapper()",
              "action_description": "Basic write operations (normal writing, binary writing)",
              "action_id": "basic_write_operations",
              "object": "sys.stdout.buffer, encoding=default_encoding",
              "object_description": "Local file",
              "object_id": "local_file",
              "intention_description": "Open file for writing",
              "intention_id": "open_file_writing"
            },
            {
              "action_api": "_stdstream_wrap()",
              "action_description": "Basic write operations (normal writing, binary writing)",
              "action_id": "basic_write_operations",
              "object": "sys.stdout.buffer",
              "object_description": "Local file",
              "object_id": "local_file",
              "intention_description": "Open file for writing",
              "intention_id": "open_file_writing"
            },
            {
              "action_api": "_stdstream_wrap()",
              "action_description": "Basic write operations (normal writing, binary writing)",
              "action_id": "basic_write_operations",
              "object": "io.TextIOWrapper(sys.stdout.buffer, encoding=default_encoding)",
              "object_description": "Local file",
              "object_id": "local_file",
              "intention_description": "Open file for writing",
              "intention_id": "open_file_writing"
            },
            {
              "action_api": "_stdstream_wrap()",
              "action_description": "Basic write operations (normal writing, binary writing)",
              "action_id": "basic_write_operations",
              "object": "sys.stdout",
              "object_description": "Local file",
              "object_id": "local_file",
              "intention_description": "Open file for writing",
              "intention_id": "open_file_writing"
            },
            {
              "action_api": "io.open()",
              "action_description": "Basic read operations (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "name, mode, encoding=encoding",
              "object_description": "Local file",
              "object_id": "local_file",
              "intention_description": "Open file",
              "intention_id": "open_file"
            }
          ]
        }
      ]
    }
  ]
}