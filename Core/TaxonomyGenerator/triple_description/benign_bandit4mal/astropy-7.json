{
  "metadata": {
    "package_name": "astropy-7",
    "original_json_path": "/home2/blue/Documents/PyPIAgent/Codes/code_contexral/codesnippets/benign_bandit4mal/astropy-7.0.1.json",
    "dataset_type": "benign_bandit4mal"
  },
  "code_files": [
    {
      "pyfile": "html.py",
      "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/astropy-7.0.1/astropy-7.0.1/astropy/cosmology/_io/html.py",
      "line_number": "184",
      "type_description": "B814:read",
      "context_snippet": "def read_html_table(\n    filename: PathLike | ReadableFileLike[Table],\n    index: int | str | None = None,\n    *,\n    move_to_meta: bool = False,\n    cosmology: str | type[_CosmoT] | None = None,\n    latex_names: bool = True,\n    **kwargs: Any,\n) -> _CosmoT:\n    r\"\"\"Read a |Cosmology| from an HTML file.\n\n    Parameters\n    ----------\n    filename : path-like or file-like\n        From where to read the Cosmology.\n    index : int or str or None, optional\n        Needed to select the row in tables with multiple rows. ``index`` can be an\n        integer for the row number or, if the table is indexed by a column, the value of\n        that column. If the table is not indexed and ``index`` is a string, the \"name\"\n        column is used as the indexing column.\n\n    move_to_meta : bool, optional keyword-only\n        Whether to move keyword arguments that are not in the Cosmology class' signature\n        to the Cosmology's metadata. This will only be applied if the Cosmology does NOT\n        have a keyword-only argument (e.g. ``**kwargs``). Arguments moved to the\n        metadata will be merged with existing metadata, preferring specified metadata in\n        the case of a merge conflict (e.g. for ``Cosmology(meta={'key':10}, key=42)``,\n        the ``Cosmology.meta`` will be ``{'key': 10}``).\n    cosmology : str or |Cosmology| class or None, optional keyword-only\n        The cosmology class (or string name thereof) to use when constructing the\n        cosmology instance. The class also provides default parameter values, filling in\n        any non-mandatory arguments missing in 'table'.\n    latex_names : bool, optional keyword-only\n        Whether the |Table| (might) have latex column names for the parameters that need\n        to be mapped to the correct parameter name -- e.g. $$H_{0}$$ to 'H0'. This is\n        `True` by default, but can be turned off (set to `False`) if there is a known\n        name conflict (e.g. both an 'H0' and '$$H_{0}$$' column) as this will raise an\n        error. In this case, the correct name ('H0') is preferred.\n    **kwargs : Any\n        Passed to ``QTable.read``. ``format`` is set to 'ascii.html', regardless of\n        input.\n\n    Returns\n    -------\n    |Cosmology| subclass instance\n\n    Raises\n    ------\n    ValueError\n        If the keyword argument 'format' is given and is not \"ascii.html\".\n    \"\"\"\n    # Check that the format is 'ascii.html' (or not specified)\n    format = kwargs.pop(\"format\", \"ascii.html\")\n    if format != \"ascii.html\":\n        raise ValueError(f\"format must be 'ascii.html', not {format}\")\n\n    # Reading is handled by `QTable`.\n    with u.add_enabled_units(cu):  # (cosmology units not turned on by default)\n        table = QTable.read(filename, format=\"ascii.html\", **kwargs)\n\n    # Need to map the table's column names to Cosmology inputs (parameter\n    # names).\n    # TODO! move the `latex_names` into `from_table`\n    if latex_names:\n        table_columns = set(table.colnames)\n        for name, latex in _FORMAT_TABLE.items():\n            if latex in table_columns:\n                table.rename_column(latex, name)\n\n    # Build the cosmology from table, using the private backend.\n    return from_table(\n        table, index=index, move_to_meta=move_to_meta, cosmology=cosmology, rename=None\n    )",
      "hash_value": "416243288940969f11439aa6a8149c85",
      "severity": "High",
      "confidence": "Medium",
      "code_snippets": [
        {
          "snippet": "def read_html_table(\n    filename: PathLike | ReadableFileLike[Table],\n    index: int | str | None = None,\n    *,\n    move_to_meta: bool = False,\n    cosmology: str | type[_CosmoT] | None = None,\n    latex_names: bool = True,\n    **kwargs: Any,\n) -> _CosmoT:\n    r\"\"\"Read a |Cosmology| from an HTML file.\n\n    Parameters\n    ----------\n    filename : path-like or file-like\n        From where to read the Cosmology.\n    index : int or str or None, optional\n        Needed to select the row in tables with multiple rows. ``index`` can be an\n        integer for the row number or, if the table is indexed by a column, the value of\n        that column. If the table is not indexed and ``index`` is a string, the \"name\"\n        column is used as the indexing column.\n\n    move_to_meta : bool, optional keyword-only\n        Whether to move keyword arguments that are not in the Cosmology class' signature\n        to the Cosmology's metadata. This will only be applied if the Cosmology does NOT\n        have a keyword-only argument (e.g. ``**kwargs``). Arguments moved to the\n        metadata will be merged with existing metadata, preferring specified metadata in\n        the case of a merge conflict (e.g. for ``Cosmology(meta={'key':10}, key=42)``,\n        the ``Cosmology.meta`` will be ``{'key': 10}``).\n    cosmology : str or |Cosmology| class or None, optional keyword-only\n        The cosmology class (or string name thereof) to use when constructing the\n        cosmology instance. The class also provides default parameter values, filling in\n        any non-mandatory arguments missing in 'table'.\n    latex_names : bool, optional keyword-only\n        Whether the |Table| (might) have latex column names for the parameters that need\n        to be mapped to the correct parameter name -- e.g. $$H_{0}$$ to 'H0'. This is\n        `True` by default, but can be turned off (set to `False`) if there is a known\n        name conflict (e.g. both an 'H0' and '$$H_{0}$$' column) as this will raise an\n        error. In this case, the correct name ('H0') is preferred.\n    **kwargs : Any\n        Passed to ``QTable.read``. ``format`` is set to 'ascii.html', regardless of\n        input.\n\n    Returns\n    -------\n    |Cosmology| subclass instance\n\n    Raises\n    ------\n    ValueError\n        If the keyword argument 'format' is given and is not \"ascii.html\".\n    \"\"\"\n    # Check that the format is 'ascii.html' (or not specified)\n    format = kwargs.pop(\"format\", \"ascii.html\")\n    if format != \"ascii.html\":\n        raise ValueError(f\"format must be 'ascii.html', not {format}\")\n\n    # Reading is handled by `QTable`.\n    with u.add_enabled_units(cu):  # (cosmology units not turned on by default)\n        table = QTable.read(filename, format=\"ascii.html\", **kwargs)\n\n    # Need to map the table's column names to Cosmology inputs (parameter\n    # names).\n    # TODO! move the `latex_names` into `from_table`\n    if latex_names:\n        table_columns = set(table.colnames)\n        for name, latex in _FORMAT_TABLE.items():\n            if latex in table_columns:\n                table.rename_column(latex, name)\n\n    # Build the cosmology from table, using the private backend.\n    return from_table(\n        table, index=index, move_to_meta=move_to_meta, cosmology=cosmology, rename=None\n    )",
          "triple_sequences": [
            {
              "action_api": "kwargs.pop()",
              "action_description": "Deserializes JSON string to Python object",
              "action_id": "deserialize_from_json",
              "object": "\"format\", \"ascii.html\"",
              "object_description": "Query parameter",
              "object_id": "query_parameter",
              "intention_description": "Prepare data for further processing",
              "intention_id": "prepare_data_processing"
            },
            {
              "action_api": "QTable.read()",
              "action_description": "File opening operations for reading (normal reading, binary reading)",
              "action_id": "basic_read_operations",
              "object": "filename, format=\"ascii.html\", **kwargs",
              "object_description": "File path",
              "object_id": "file_path",
              "intention_description": "Read file content",
              "intention_id": "read_file_content"
            },
            {
              "action_api": "table.colnames",
              "action_description": "Path object and status operations (creating Path objects, retrieving file status)",
              "action_id": "path_object_operations",
              "object": "table.colnames",
              "object_description": "Structured_file_data",
              "object_id": "structured_file_data",
              "intention_description": "Extract structured file data",
              "intention_id": "extract_structured_file_data"
            },
            {
              "action_api": "table.rename_column()",
              "action_description": "Path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
              "action_id": "path_string_operations",
              "object": "latex, name",
              "object_description": "Character_from_obfuscated_string",
              "object_id": "character_from_obfuscated_string",
              "intention_description": "Prepare character for further processing",
              "intention_id": "prepare_character_processing"
            },
            {
              "action_api": "from_table()",
              "action_description": "Import dynamic",
              "action_id": "import_dynamic",
              "object": "table, index=index, move_to_meta=move_to_meta, cosmology=cosmology, rename=None",
              "object_description": "Function_with_arguments",
              "object_id": "function_with_arguments",
              "intention_description": "Evaluate constructed code",
              "intention_id": "evaluate_constructed_code"
            }
          ]
        }
      ]
    }
  ]
}