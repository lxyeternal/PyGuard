[
  {
    "pyfile": "setup.py",
    "code_snippet": "# Relevant imports\nimport sys\nimport pkgutil\nfrom setuptools import setup\nfrom setuptools.command.install import install\n\n# Custom install command class\nclass NewInstall(install):\n\n    @staticmethod\n    def check_pymongo():\n        if pkgutil.find_loader('pymongo'):\n            return True\n        return False\n\n    def run(self):\n        install.run(self)\n        if self.check_pymongo():\n            sys.stdout.write('\\033[31mCaution! \\033[33mbson(pymongo) is already installed.\\033[0m\\n')\n\n# The flagged setup() call with custom cmdclass\nsetup(\n    name=\"bson\",\n    version=\"0.5.10\",\n    packages=[\"bson\"],\n    install_requires=[\"python-dateutil>=2.4.0\", \"six>=1.9.0\"],\n    author=\"Ayun Park\",\n    author_email=\"iamparkayun@gmail.com\",\n    description=\"BSON codec for Python\",\n    long_description=\"\"\"Independent BSON codec for Python that doesn't depend on MongoDB.\"\"\",\n    platforms=\"Any\",\n    license=\"BSD\",\n    keywords=\"BSON codec\",\n    url=\"http://github.com/py-bson/bson\",\n    classifiers=[\n        'Programming Language :: Python :: 2.6',\n        'Programming Language :: Python :: 2.7',\n        'Programming Language :: Python :: 3.3',\n        'Programming Language :: Python :: 3.4',\n        'Programming Language :: Python :: 3.5',\n        'Programming Language :: Python :: 3.6',\n    ],\n    cmdclass={'install': NewInstall}\n)\n",
    "pattern_analysis": {
      "api_sequence": [
        "pkgutil.find_loader",
        "setuptools.command.install.install.run",
        "sys.stdout.write",
        "setuptools.setup"
      ],
      "api_sequence_with_args": [
        "pkgutil.find_loader('pymongo')",
        "setuptools.command.install.install.run(self)",
        "sys.stdout.write('\\033[31mCaution! \\033[33mbson(pymongo) is already installed.\\033[0m\\n')",
        "setuptools.setup(name=\"bson\", version=\"0.5.10\", ...)"
      ],
      "mapped_sequence": [
        {
          "api_name": "pkgutil.find_loader",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        },
        {
          "api_name": "setuptools.command.install.install.run",
          "id": "exec_setuptools_install",
          "description": "Executes setuptools installation procedure",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "package_configuration"
        },
        {
          "api_name": "sys.stdout.write",
          "id": "get_stdout_stream",
          "description": "Retrieves standard output stream object",
          "first_id": "persistence_stealth",
          "second_id": "user_interaction",
          "third_id": "interface_control"
        },
        {
          "api_name": "setuptools.setup",
          "id": "configure_package_install",
          "description": "Configures and initiates Python package installation",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "package_configuration"
        }
      ],
      "contextual_code": "import sys\nimport pkgutil\nfrom setuptools import setup\nfrom setuptools.command.install import install\n\nclass NewInstall(install):\n    @staticmethod\n    def check_pymongo():\n        if pkgutil.find_loader('pymongo'):\n            return True\n        return False\n\n    def run(self):\n        install.run(self)\n        if self.check_pymongo():\n            sys.stdout.write('\\033[31mCaution! \\033[33mbson(pymongo) is already installed.\\033[0m\\n')\n\nsetup(\n    name=\"bson\",\n    version=\"0.5.10\",\n    packages=[\"bson\"],\n    install_requires=[\"python-dateutil>=2.4.0\", \"six>=1.9.0\"],\n    author=\"Ayun Park\",\n    author_email=\"iamparkayun@gmail.com\",\n    description=\"BSON codec for Python\",\n    long_description=\"\"\"Independent BSON codec for Python that doesn't depend on MongoDB.\"\"\",\n    platforms=\"Any\",\n    license=\"BSD\",\n    keywords=\"BSON codec\",\n    url=\"http://github.com/py-bson/bson\",\n    classifiers=[\n        'Programming Language :: Python :: 2.6',\n        'Programming Language :: Python :: 2.7',\n        'Programming Language :: Python :: 3.3',\n        'Programming Language :: Python :: 3.4',\n        'Programming Language :: Python :: 3.5',\n        'Programming Language :: Python :: 3.6',\n    ],\n    cmdclass={'install': NewInstall}\n)"
    }
  },
  {
    "metadata": {
      "package_name": "bson-0.5.10",
      "total_matches": 1
    }
  }
]