[
  {
    "pyfile": "token.py",
    "code_snippet": "import logging\nfrom pathlib import Path\nfrom flair.file_utils import cached_path, extract_single_zip_file\n\nlog = logging.getLogger(\"flair\")\n\n@register_embeddings\nclass NILCEmbeddings(WordEmbeddings):\n    def __init__(self, embeddings: str, model: str = \"skip\", size: int = 100) -> None:\n        \"\"\"Initializes portuguese classic word embeddings trained by NILC Lab.\n\n        See: http://www.nilc.icmc.usp.br/embeddings\n        Constructor downloads required files if not there.\n\n        Args:\n            embeddings: one of: 'fasttext', 'glove', 'wang2vec' or 'word2vec'\n            model: one of: 'skip' or 'cbow'. This is not applicable to glove.\n            size: one of: 50, 100, 300, 600 or 1000.\n        \"\"\"\n        self.instance_parameters = self.get_instance_parameters(locals=locals())\n\n        base_path = \"http://143.107.183.175:22980/download.php?file=embeddings/\"\n\n        cache_dir = Path(\"embeddings\") / (\"nilc-\" + embeddings.lower())\n\n        # GLOVE embeddings\n        if embeddings.lower() == \"glove\":\n            cached_path(f\"{base_path}{embeddings}/{embeddings}_s{size}.zip\", cache_dir=cache_dir)\n            embeddings_path = f\"{base_path}{embeddings}/{embeddings}_s{size}.zip\"\n\n        elif embeddings.lower() in [\"fasttext\", \"wang2vec\", \"word2vec\"]:\n            cached_path(f\"{base_path}{embeddings}/{model}_s{size}.zip\", cache_dir=cache_dir)\n            embeddings_path = f\"{base_path}{embeddings}/{model}_s{size}.zip\"\n\n        elif not Path(embeddings).exists():\n            raise ValueError(f'The given embeddings \"{embeddings}\" is not available or is not a valid path.')\n        else:\n            embeddings_path = embeddings\n\n        log.info(\"Reading embeddings from %s\", embeddings_path)\n        super().__init__(\n            embeddings=str(extract_single_zip_file(embeddings_path, cache_dir=cache_dir)), name=\"NILC-\" + embeddings\n        )\n\n    @classmethod\n    def from_params(cls, params: dict[str, Any]) -> \"WordEmbeddings\":\n        #  no need to recreate as NILCEmbeddings\n        return WordEmbeddings(embeddings=None, **params)\n",
    "pattern_analysis": {
      "api_sequence": [
        "pathlib.Path",
        "pathlib.Path.exists",
        "flair.file_utils.cached_path",
        "flair.file_utils.extract_single_zip_file",
        "logging.getLogger",
        "logging.Logger.info"
      ],
      "api_sequence_with_args": [
        "pathlib.Path(\"embeddings\")",
        "pathlib.Path(embeddings).exists()",
        "flair.file_utils.cached_path(f\"{base_path}{embeddings}/{embeddings}_s{size}.zip\", cache_dir=cache_dir)",
        "flair.file_utils.extract_single_zip_file(embeddings_path, cache_dir=cache_dir)",
        "logging.getLogger(\"flair\")",
        "logging.Logger.info(\"Reading embeddings from %s\", embeddings_path)"
      ],
      "mapped_sequence": [
        {
          "api_name": "pathlib.Path",
          "id": "path_object_operations",
          "description": "Path object and status operations (creating Path objects, retrieving file status)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "pathlib.Path.exists",
          "id": "check_path_exists",
          "description": "Checks if specified path exists in filesystem",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_checking"
        },
        {
          "api_name": "flair.file_utils.cached_path",
          "id": "download_file_url",
          "description": "Downloads file from URL to specified local path",
          "first_id": "network_file_transfer",
          "second_id": "file_download",
          "third_id": "url_file_acquisition"
        },
        {
          "api_name": "flair.file_utils.extract_single_zip_file",
          "id": "extract_zip_files",
          "description": "Extracts all files from ZIP archive to specified directory",
          "first_id": "file_operations",
          "second_id": "compression_archiving",
          "third_id": "zip_operations"
        },
        {
          "api_name": "logging.getLogger",
          "id": "log_info",
          "description": "Logs informational message",
          "first_id": "data_exfiltration",
          "second_id": "data_collection_operations",
          "third_id": "data_acquisition"
        },
        {
          "api_name": "logging.Logger.info",
          "id": "log_info",
          "description": "Logs informational message",
          "first_id": "data_exfiltration",
          "second_id": "data_collection_operations",
          "third_id": "data_acquisition"
        }
      ],
      "contextual_code": "from pathlib import Path\nfrom flair.file_utils import cached_path, extract_single_zip_file\nimport logging\n\nlog = logging.getLogger(\"flair\")\n\nclass NILCEmbeddings(WordEmbeddings):\n    def __init__(self, embeddings: str, model: str = \"skip\", size: int = 100) -> None:\n        base_path = \"http://143.107.183.175:22980/download.php?file=embeddings/\"\n        cache_dir = Path(\"embeddings\") / (\"nilc-\" + embeddings.lower())\n\n        if embeddings.lower() == \"glove\":\n            cached_path(f\"{base_path}{embeddings}/{embeddings}_s{size}.zip\", cache_dir=cache_dir)\n            embeddings_path = f\"{base_path}{embeddings}/{embeddings}_s{size}.zip\"\n\n        elif embeddings.lower() in [\"fasttext\", \"wang2vec\", \"word2vec\"]:\n            cached_path(f\"{base_path}{embeddings}/{model}_s{size}.zip\", cache_dir=cache_dir)\n            embeddings_path = f\"{base_path}{embeddings}/{model}_s{size}.zip\"\n\n        elif not Path(embeddings).exists():\n            raise ValueError(f'The given embeddings \"{embeddings}\" is not available or is not a valid path.')\n        else:\n            embeddings_path = embeddings\n\n        log.info(\"Reading embeddings from %s\", embeddings_path)\n        super().__init__(\n            embeddings=str(extract_single_zip_file(embeddings_path, cache_dir=cache_dir)), name=\"NILC-\" + embeddings\n        )"
    }
  },
  {
    "metadata": {
      "package_name": "flair-0.15.1",
      "total_matches": 1
    }
  }
]