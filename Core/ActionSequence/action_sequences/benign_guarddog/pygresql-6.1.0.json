[
  {
    "pyfile": "setup.py",
    "code_snippet": "import os\nimport platform\nimport re\nimport sys\nimport warnings\nfrom distutils.ccompiler import get_default_compiler\nfrom distutils.sysconfig import get_python_inc, get_python_lib\n\ndef pg_config(s):\n    \"\"\"Retrieve information about installed version of PostgreSQL.\"\"\"\n    f = os.popen(f'pg_config --{s}')  # noqa: S605\n    d = f.readline().strip()\n    if f.close() is not None:\n        raise Exception(\"pg_config tool is not available.\")\n    if not d:\n        raise Exception(f\"Could not get {s} information.\")\n    return d\n",
    "pattern_analysis": {
      "api_sequence": [
        "os.popen",
        "os.popen.readline",
        "os.popen.close"
      ],
      "api_sequence_with_args": [
        "os.popen(f'pg_config --{s}')",
        "os.popen.readline()",
        "os.popen.close()"
      ],
      "mapped_sequence": [
        {
          "api_name": "os.popen",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.popen.readline",
          "id": "basic_file_reading",
          "description": "Reading content from files (by lines or entire content)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_reading"
        },
        {
          "api_name": "os.popen.close",
          "id": "close_file",
          "description": "Closes the opened file",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_closing"
        }
      ],
      "contextual_code": "def pg_config(s):\n    \"\"\"Retrieve information about installed version of PostgreSQL.\"\"\"\n    f = os.popen(f'pg_config --{s}')  # noqa: S605\n    d = f.readline().strip()\n    if f.close() is not None:\n        raise Exception(\"pg_config tool is not available.\")\n    if not d:\n        raise Exception(f\"Could not get {s} information.\")\n    return d"
    }
  },
  {
    "metadata": {
      "package_name": "pygresql-6.1.0",
      "total_matches": 1
    }
  }
]