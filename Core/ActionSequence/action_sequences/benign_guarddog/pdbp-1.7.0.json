[
  {
    "pyfile": "setup.py",
    "code_snippet": "from setuptools import setup, find_packages  # noqa\nimport os\nimport sys\n\nthis_dir = os.path.abspath(os.path.dirname(__file__))\nlong_description = None\ntotal_description = None\ntry:\n    with open(os.path.join(this_dir, \"README.md\"), \"rb\") as f:\n        total_description = f.read().decode(\"utf-8\")\n    description_lines = total_description.split(\"\\n\")\n    long_description_lines = []\n    for line in description_lines:\n        if not line.startswith(\"<meta \") and not line.startswith(\"<link \"):\n            long_description_lines.append(line)\n    long_description = \"\\n\".join(long_description_lines)\nexcept IOError:\n    long_description = \"pdbp (Pdb+): A drop-in replacement for pdb and pdbpp.\"\n\nif sys.argv[-1] == \"publish\":\n    reply = None\n    input_method = input\n    confirm_text = \">>> Confirm release PUBLISH to PyPI? (yes/no): \"\n    reply = str(input_method(confirm_text)).lower().strip()\n    if reply == \"yes\":\n        if sys.version_info < (3, 9):\n            print(\"\\nERROR! Publishing to PyPI requires Python>=3.9\")\n            sys.exit()\n        print(\"\\n*** Checking code health with flake8:\\n\")\n        os.system(\"python -m pip install 'flake8==7.1.2'\")\n        flake8_status = os.system(\"flake8 --exclude=.eggs,temp\")\n        if flake8_status != 0:\n            print(\"\\nERROR! Fix flake8 issues before publishing to PyPI!\\n\")\n            sys.exit()\n        else:\n            print(\"*** No flake8 issues detected. Continuing...\")\n        print(\"\\n*** Removing existing distribution packages: ***\\n\")\n        os.system(\"rm -f dist/*.egg; rm -f dist/*.tar.gz; rm -f dist/*.whl\")\n        os.system(\"rm -rf build/bdist.*; rm -rf build/lib\")\n        print(\"\\n*** Installing build: *** (Required for PyPI uploads)\\n\")\n        os.system(\"python -m pip install --upgrade 'build'\")\n        print(\"\\n*** Installing pkginfo: *** (Required for PyPI uploads)\\n\")\n        os.system(\"python -m pip install --upgrade 'pkginfo'\")\n        print(\"\\n*** Installing readme-renderer: *** (For PyPI uploads)\\n\")\n        os.system(\"python -m pip install --upgrade 'readme-renderer'\")\n        print(\"\\n*** Installing jaraco.classes: *** (For PyPI uploads)\\n\")\n        os.system(\"python -m pip install --upgrade 'jaraco.classes'\")\n        print(\"\\n*** Installing more-itertools: *** (For PyPI uploads)\\n\")\n        os.system(\"python -m pip install --upgrade 'more-itertools'\")\n        print(\"\\n*** Installing zipp: *** (Required for PyPI uploads)\\n\")\n        os.system(\"python -m pip install --upgrade 'zipp'\")\n        print(\"\\n*** Installing importlib-metadata: *** (For PyPI uploads)\\n\")\n        os.system(\"python -m pip install --upgrade 'importlib-metadata'\")\n        print(\"\\n*** Installing keyring, requests-toolbelt: *** (For PyPI)\\n\")\n        os.system(\"python -m pip install --upgrade keyring requests-toolbelt\")\n        print(\"\\n*** Installing twine: *** (Required for PyPI uploads)\\n\")\n        os.system(\"python -m pip install --upgrade 'twine'\")\n        print(\"\\n*** Rebuilding distribution packages: ***\\n\")\n        os.system(\"python -m build\")  # Create new tar/wheel\n        print(\"\\n*** Publishing The Release to PyPI: ***\\n\")\n        os.system(\"python -m twine upload dist/*\")  # Requires ~/.pypirc Keys\n        print(\"\\n*** The Release was PUBLISHED SUCCESSFULLY to PyPI! :) ***\\n\")\n    else:\n        print(\"\\n>>> The Release was NOT PUBLISHED to PyPI! <<<\\n\")\n    sys.exit()\n",
    "pattern_analysis": {
      "api_sequence": [
        "os.path.abspath",
        "os.path.dirname",
        "open",
        "os.path.join",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "os.system",
        "sys.exit",
        "sys.exit"
      ],
      "api_sequence_with_args": [
        "os.path.abspath(os.path.dirname(__file__))",
        "os.path.dirname(__file__)",
        "open(os.path.join(this_dir, \"README.md\"), \"rb\")",
        "os.path.join(this_dir, \"README.md\")",
        "os.system(\"python -m pip install 'flake8==7.1.2'\")",
        "os.system(\"flake8 --exclude=.eggs,temp\")",
        "os.system(\"rm -f dist/*.egg; rm -f dist/*.tar.gz; rm -f dist/*.whl\")",
        "os.system(\"rm -rf build/bdist.*; rm -rf build/lib\")",
        "os.system(\"python -m pip install --upgrade 'build'\")",
        "os.system(\"python -m pip install --upgrade 'pkginfo'\")",
        "os.system(\"python -m pip install --upgrade 'readme-renderer'\")",
        "os.system(\"python -m pip install --upgrade 'jaraco.classes'\")",
        "os.system(\"python -m pip install --upgrade 'more-itertools'\")",
        "os.system(\"python -m pip install --upgrade 'zipp'\")",
        "os.system(\"python -m pip install --upgrade 'importlib-metadata'\")",
        "os.system(\"python -m pip install --upgrade keyring requests-toolbelt\")",
        "os.system(\"python -m pip install --upgrade 'twine'\")",
        "os.system(\"python -m build\")",
        "os.system(\"python -m twine upload dist/*\")",
        "sys.exit()",
        "sys.exit()"
      ],
      "mapped_sequence": [
        {
          "api_name": "os.path.abspath",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "os.path.dirname",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "os.path.join",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "sys.exit",
          "id": "exit_program",
          "description": "Exits program with specified status code",
          "first_id": "system_operations",
          "second_id": "process_management",
          "third_id": "process_control"
        },
        {
          "api_name": "sys.exit",
          "id": "exit_program",
          "description": "Exits program with specified status code",
          "first_id": "system_operations",
          "second_id": "process_management",
          "third_id": "process_control"
        }
      ],
      "contextual_code": "import os\nimport sys\n\nthis_dir = os.path.abspath(os.path.dirname(__file__))\ntry:\n    with open(os.path.join(this_dir, \"README.md\"), \"rb\") as f:\n        total_description = f.read().decode(\"utf-8\")\nexcept IOError:\n    long_description = \"pdbp (Pdb+): A drop-in replacement for pdb and pdbpp.\"\n\nif sys.argv[-1] == \"publish\":\n    reply = str(input(\">>> Confirm release PUBLISH to PyPI? (yes/no): \")).lower().strip()\n    if reply == \"yes\":\n        if sys.version_info < (3, 9):\n            print(\"\\nERROR! Publishing to PyPI requires Python>=3.9\")\n            sys.exit()\n        os.system(\"python -m pip install 'flake8==7.1.2'\")\n        flake8_status = os.system(\"flake8 --exclude=.eggs,temp\")\n        if flake8_status != 0:\n            print(\"\\nERROR! Fix flake8 issues before publishing to PyPI!\\n\")\n            sys.exit()\n        else:\n            print(\"*** No flake8 issues detected. Continuing...\")\n        os.system(\"rm -f dist/*.egg; rm -f dist/*.tar.gz; rm -f dist/*.whl\")\n        os.system(\"rm -rf build/bdist.*; rm -rf build/lib\")\n        os.system(\"python -m pip install --upgrade 'build'\")\n        os.system(\"python -m pip install --upgrade 'pkginfo'\")\n        os.system(\"python -m pip install --upgrade 'readme-renderer'\")\n        os.system(\"python -m pip install --upgrade 'jaraco.classes'\")\n        os.system(\"python -m pip install --upgrade 'more-itertools'\")\n        os.system(\"python -m pip install --upgrade 'zipp'\")\n        os.system(\"python -m pip install --upgrade 'importlib-metadata'\")\n        os.system(\"python -m pip install --upgrade keyring requests-toolbelt\")\n        os.system(\"python -m pip install --upgrade 'twine'\")\n        os.system(\"python -m build\")\n        os.system(\"python -m twine upload dist/*\")\n    sys.exit()"
    }
  },
  {
    "metadata": {
      "package_name": "pdbp-1.7.0",
      "total_matches": 13
    }
  }
]