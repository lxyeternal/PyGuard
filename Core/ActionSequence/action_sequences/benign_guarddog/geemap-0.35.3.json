[
  {
    "pyfile": "coreutils.py",
    "code_snippet": "import base64\nimport pyperclip\nfrom IPython.display import display, Javascript\n\ndef create_code_cell(code: str = \"\", where: str = \"below\") -> None:\n    \"\"\"Creates a code cell in the IPython Notebook.\n\n    Args:\n        code (str, optional): Code to fill the new code cell with. Defaults to ''.\n        where (str, optional): Where to add the new code cell. It can be one of\n            the following: above, below, at_bottom. Defaults to 'below'.\n    \"\"\"\n\n    import base64\n    import pyperclip\n\n    try:\n        pyperclip.copy(str(code))\n    except Exception as e:\n        pass\n\n    encoded_code = (base64.b64encode(str.encode(code))).decode()\n    display(\n        Javascript(\n            \"\"\"\n        var code = IPython.notebook.insert_cell_{0}('code');\n        code.set_text(atob(\"{1}\"));\n    \"\"\".format(\n                    where, encoded_code\n                )\n        )\n    )",
    "pattern_analysis": {
      "api_sequence": [
        "pyperclip.copy",
        "base64.b64encode",
        "str.encode",
        "bytes.decode",
        "IPython.display.display",
        "IPython.display.Javascript"
      ],
      "api_sequence_with_args": [
        "pyperclip.copy(str(code))",
        "base64.b64encode(str.encode(code))",
        "str.encode(code)",
        "(...).decode()",
        "display(Javascript(...))",
        "Javascript(\"\"\"\n        var code = IPython.notebook.insert_cell_{0}('code');\n        code.set_text(atob(\"{1}\"));\n    \"\"\".format(where, encoded_code))"
      ],
      "mapped_sequence": [
        {
          "api_name": "pyperclip.copy",
          "id": "copy_to_clipboard",
          "description": "Copies specified text to system clipboard",
          "first_id": "information_gathering",
          "second_id": "input_monitoring",
          "third_id": "clipboard_operations"
        },
        {
          "api_name": "base64.b64encode",
          "id": "encode_bytes_to_base64",
          "description": "Encodes bytes to base64-encoded bytes",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "base_encoding"
        },
        {
          "api_name": "str.encode",
          "id": "encode_string_to_bytes",
          "description": "Encodes string to bytes using default encoding",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "byte_encoding"
        },
        {
          "api_name": "bytes.decode",
          "id": "decode_bytes_default",
          "description": "Decodes bytes using default codec",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "byte_encoding"
        },
        {
          "api_name": "IPython.display.display",
          "id": "open_file_app",
          "description": "Opens file with associated application",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "IPython.display.Javascript",
          "id": "exec_python_code",
          "description": "Dynamically executes Python code string",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        }
      ],
      "contextual_code": "import base64\nimport pyperclip\nfrom IPython.display import display, Javascript\n\ndef create_code_cell(code: str = \"\", where: str = \"below\") -> None:\n    import base64\n    import pyperclip\n    try:\n        pyperclip.copy(str(code))\n    except Exception as e:\n        pass\n    encoded_code = (base64.b64encode(str.encode(code))).decode()\n    display(\n        Javascript(\n            \"\"\"\n        var code = IPython.notebook.insert_cell_{0}('code');\n        code.set_text(atob(\"{1}\"));\n    \"\"\".format(\n                        where, encoded_code\n                    )\n        )\n    )"
    }
  },
  {
    "pyfile": "toolbar.py",
    "code_snippet": "        def import_btn_clicked(b):\n            if assets_dropdown.value is not None:\n                datasets = m.search_datasets\n                dataset = datasets[assets_dropdown.index]\n                id_ = dataset[\"id\"]\n                code = get_ee_example(id_)\n\n                if not code:\n                    dataset_uid = \"dataset_\" + random_string(string_length=3)\n                    translate = {\n                        \"image_collection\": \"ImageCollection\",\n                        \"image\": \"Image\",\n                        \"table\": \"FeatureCollection\",\n                        \"table_collection\": \"FeatureCollection\",\n                    }\n                    datatype = translate[dataset[\"type\"]]\n                    id_ = dataset[\"id\"]\n                    line1 = \"{} = ee.{}('{}')\".format(dataset_uid, datatype, id_)\n                    action = {\n                        \"image_collection\": f\"\\n{m._var_name}.addLayer({dataset_uid}, {{}}, '{id_}')\",\n                        \"image\": f\"\\n{m._var_name}.addLayer({dataset_uid}, {{}}, '{id_}')\",\n                        \"table\": f\"\\n{m._var_name}.addLayer({dataset_uid}, {{}}, '{id_}')\",\n                        \"table_collection\": f\"\\n{m._var_name}.addLayer({dataset_uid}, {{}}, '{id_}')\",\n                    }\n                    line2 = action[dataset[\"type\"]]\n                    code = [line1, line2]\n\n                contents = \"\".join(code).strip()\n                # create_code_cell(contents)\n\n                try:\n                    import pyperclip\n\n                    pyperclip.copy(str(contents))\n                except Exception as e:\n                    pass\n\n                with search_output:\n                    search_output.clear_output()\n                    print(\n                        \"# The code has been copied to the clipboard. \\n# Press Ctrl+V in a new cell to paste it.\\n\"\n                    )\n                    print(contents)\n\n        import_btn.on_click(import_btn_clicked)\n",
    "pattern_analysis": {
      "api_sequence": [
        "pyperclip.copy",
        "search_output.clear_output",
        "print",
        "print"
      ],
      "api_sequence_with_args": [
        "pyperclip.copy(str(contents))",
        "search_output.clear_output()",
        "print(\"# The code has been copied to the clipboard. \\n# Press Ctrl+V in a new cell to paste it.\\n\")",
        "print(contents)"
      ],
      "mapped_sequence": [
        {
          "api_name": "pyperclip.copy",
          "id": "copy_to_clipboard",
          "description": "Copies specified text to system clipboard",
          "first_id": "information_gathering",
          "second_id": "input_monitoring",
          "third_id": "clipboard_operations"
        }
      ],
      "contextual_code": "def import_btn_clicked(b):\n    ...\n    try:\n        import pyperclip\n        pyperclip.copy(str(contents))\n    except Exception as e:\n        pass"
    }
  },
  {
    "pyfile": "plotlymap.py",
    "code_snippet": "    def add_controls(self, controls):\n        \"\"\"Adds controls to the map.\n\n        Args:\n            controls (list): List of controls to add, e.g., ['drawline', 'drawopenpath', 'drawclosedpath', 'drawcircle', 'drawrect', 'eraseshape'] See https://bit.ly/33Tmqxr\n        \"\"\"\n        if isinstance(controls, str):\n            controls = [controls]\n        elif not isinstance(controls, list):\n            raise ValueError(\n                \"Controls must be a string or a list of strings. See https://bit.ly/33Tmqxr\"\n            )\n\n        self.update_layout(modebar_add=controls)\n\n    def remove_controls(self, controls):\n        \"\"\"Removes controls to the map.\n\n        Args:\n            controls (list): List of controls to remove, e.g., [\"zoomin\", \"zoomout\", \"toimage\", \"pan\", \"resetview\"]. See https://bit.ly/3Jk7wkb\n        \"\"\"\n        if isinstance(controls, str):\n            controls = [controls]\n        elif not isinstance(controls, list):\n            raise ValueError(\n                \"Controls must be a string or a list of strings. See https://bit.ly/3Jk7wkb\"\n            )\n\n        self.update_layout(modebar_remove=controls)\n",
    "pattern_analysis": {
      "api_sequence": [],
      "api_sequence_with_args": [],
      "mapped_sequence": [],
      "contextual_code": "def add_controls(self, controls):\n    if isinstance(controls, str):\n        controls = [controls]\n    elif not isinstance(controls, list):\n        raise ValueError(\n            \"Controls must be a string or a list of strings. See https://bit.ly/33Tmqxr\"\n        )\n    self.update_layout(modebar_add=controls)\n\ndef remove_controls(self, controls):\n    if isinstance(controls, str):\n        controls = [controls]\n    elif not isinstance(controls, list):\n        raise ValueError(\n            \"Controls must be a string or a list of strings. See https://bit.ly/3Jk7wkb\"\n        )\n    self.update_layout(modebar_remove=controls)"
    }
  },
  {
    "metadata": {
      "package_name": "geemap-0.35.3",
      "total_matches": 4
    }
  }
]