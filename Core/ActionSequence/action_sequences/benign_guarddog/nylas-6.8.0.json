[
  {
    "pyfile": "setup.py",
    "code_snippet": "import os\nimport shutil\nimport sys\nimport re\nimport subprocess\nfrom setuptools import setup, find_packages, Command\n\nVERSION = \"\"\nwith open(\"nylas/_client_sdk_version.py\", \"r\") as fd:\n    VERSION = re.search(\n        r'^__VERSION__\\s*=\\s*[\\'\"]([^\\'\"]*)[\\'\"]', fd.read(), re.MULTILINE\n    ).group(1)\n\ndef main():\n    # A few handy release helpers.\n    # For publishing you should install the extra 'release' dependencies\n    # by running: pip install nylas['release']\n    if len(sys.argv) > 1:\n        if sys.argv[1] == \"publish\":\n            try:\n                subprocess.check_output([\"git\", \"push\", \"--follow-tags\"])\n                subprocess.check_output([\"python\", \"setup.py\", \"sdist\"])\n                subprocess.check_output([\"twine\", \"upload\", \"-r\", \"testpypi\", \"dist/*\"])\n                subprocess.check_output([\"twine\", \"upload\", \"dist/*\"])\n            except FileNotFoundError as e:\n                print(\"Error encountered: {}.\\n\\n\".format(e))\n            sys.exit()\n        elif sys.argv[1] == \"build-docs\":\n            if not os.path.exists(\"docs\"):\n                os.makedirs(\"docs\")\n            try:\n                # Copy the README and other markdowns to the docs folder\n                shutil.copy(\"README.md\", \"docs/index.md\")\n                shutil.copy(\"Contributing.md\", \"docs/contributing.md\")\n                shutil.copy(\"LICENSE\", \"docs/license.md\")\n\n                subprocess.check_output([\"mkdocs\", \"build\"])\n            except FileNotFoundError as e:\n                print(\"Error encountered: {}.\\n\\n\".format(e))\n            sys.exit()\n        elif sys.argv[1] == \"release\":\n            if len(sys.argv) < 3:\n                type_ = \"patch\"\n            else:\n                type_ = sys.argv[2]\n            try:\n                subprocess.check_output(\n                    [\"bumpversion\", \"--current-version\", VERSION, type_]\n                )\n            except FileNotFoundError as e:\n                print(\n                    \"Error encountered: {}.\\n\\n\".format(e),\n                    \"Did you install the extra 'release' dependencies? (pip install nylas['release'])\",\n                )\n            sys.exit()\n\nif __name__ == \"__main__\":\n    main()\n",
    "pattern_analysis": {
      "api_sequence": [
        "open",
        "re.search",
        "fd.read",
        "re.Match.group",
        "os.path.exists",
        "os.makedirs",
        "shutil.copy",
        "shutil.copy",
        "shutil.copy",
        "subprocess.check_output",
        "subprocess.check_output",
        "subprocess.check_output",
        "subprocess.check_output",
        "sys.exit",
        "subprocess.check_output",
        "sys.exit",
        "subprocess.check_output",
        "sys.exit"
      ],
      "api_sequence_with_args": [
        "open(\"nylas/_client_sdk_version.py\", \"r\")",
        "re.search(r'^__VERSION__\\s*=\\s*[\\'\"]([^\\'\"]*)[\\'\"]', fd.read(), re.MULTILINE)",
        "fd.read()",
        "re.Match.group(1)",
        "os.path.exists(\"docs\")",
        "os.makedirs(\"docs\")",
        "shutil.copy(\"README.md\", \"docs/index.md\")",
        "shutil.copy(\"Contributing.md\", \"docs/contributing.md\")",
        "shutil.copy(\"LICENSE\", \"docs/license.md\")",
        "subprocess.check_output([\"git\", \"push\", \"--follow-tags\"])",
        "subprocess.check_output([\"python\", \"setup.py\", \"sdist\"])",
        "subprocess.check_output([\"twine\", \"upload\", \"-r\", \"testpypi\", \"dist/*\"])",
        "subprocess.check_output([\"twine\", \"upload\", \"dist/*\"])",
        "sys.exit()",
        "subprocess.check_output([\"mkdocs\", \"build\"])",
        "sys.exit()",
        "subprocess.check_output([\"bumpversion\", \"--current-version\", VERSION, type_])",
        "sys.exit()"
      ],
      "mapped_sequence": [
        {
          "api_name": "open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "re.search",
          "id": "compile_regex",
          "description": "Compiles regular expression pattern",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "code_compilation"
        },
        {
          "api_name": "fd.read",
          "id": "basic_file_reading",
          "description": "Reading content from files (by lines or entire content)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_reading"
        },
        {
          "api_name": "re.Match.group",
          "id": "deserialize_from_bytes",
          "description": "Deserializes Python object from bytes",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        },
        {
          "api_name": "os.path.exists",
          "id": "check_path_exists",
          "description": "Checks if specified path exists in filesystem",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_checking"
        },
        {
          "api_name": "os.makedirs",
          "id": "create_directory",
          "description": "Creates directory, ignoring if it already exists",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "directory_operations"
        },
        {
          "api_name": "shutil.copy",
          "id": "copy_file",
          "description": "Copies file to destination, preserving metadata",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_transfer"
        },
        {
          "api_name": "shutil.copy",
          "id": "copy_file",
          "description": "Copies file to destination, preserving metadata",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_transfer"
        },
        {
          "api_name": "shutil.copy",
          "id": "copy_file",
          "description": "Copies file to destination, preserving metadata",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_transfer"
        },
        {
          "api_name": "subprocess.check_output",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "subprocess.check_output",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "subprocess.check_output",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "subprocess.check_output",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "sys.exit",
          "id": "exit_program",
          "description": "Exits program with specified status code",
          "first_id": "system_operations",
          "second_id": "process_management",
          "third_id": "process_control"
        },
        {
          "api_name": "subprocess.check_output",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "sys.exit",
          "id": "exit_program",
          "description": "Exits program with specified status code",
          "first_id": "system_operations",
          "second_id": "process_management",
          "third_id": "process_control"
        },
        {
          "api_name": "subprocess.check_output",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        },
        {
          "api_name": "sys.exit",
          "id": "exit_program",
          "description": "Exits program with specified status code",
          "first_id": "system_operations",
          "second_id": "process_management",
          "third_id": "process_control"
        }
      ],
      "contextual_code": "import os\nimport shutil\nimport sys\nimport re\nimport subprocess\n\nVERSION = \"\"\nwith open(\"nylas/_client_sdk_version.py\", \"r\") as fd:\n    VERSION = re.search(\n        r'^__VERSION__\\s*=\\s*[\\'\"]([^\\'\"]*)[\\'\"]', fd.read(), re.MULTILINE\n    ).group(1)\n\ndef main():\n    if len(sys.argv) > 1:\n        if sys.argv[1] == \"publish\":\n            try:\n                subprocess.check_output([\"git\", \"push\", \"--follow-tags\"])\n                subprocess.check_output([\"python\", \"setup.py\", \"sdist\"])\n                subprocess.check_output([\"twine\", \"upload\", \"-r\", \"testpypi\", \"dist/*\"])\n                subprocess.check_output([\"twine\", \"upload\", \"dist/*\"])\n            except FileNotFoundError as e:\n                print(\"Error encountered: {}.\\n\\n\".format(e))\n            sys.exit()\n        elif sys.argv[1] == \"build-docs\":\n            if not os.path.exists(\"docs\"):\n                os.makedirs(\"docs\")\n            try:\n                shutil.copy(\"README.md\", \"docs/index.md\")\n                shutil.copy(\"Contributing.md\", \"docs/contributing.md\")\n                shutil.copy(\"LICENSE\", \"docs/license.md\")\n                subprocess.check_output([\"mkdocs\", \"build\"])\n            except FileNotFoundError as e:\n                print(\"Error encountered: {}.\\n\\n\".format(e))\n            sys.exit()\n        elif sys.argv[1] == \"release\":\n            if len(sys.argv) < 3:\n                type_ = \"patch\"\n            else:\n                type_ = sys.argv[2]\n            try:\n                subprocess.check_output(\n                    [\"bumpversion\", \"--current-version\", VERSION, type_]\n                )\n            except FileNotFoundError as e:\n                print(\n                    \"Error encountered: {}.\\n\\n\".format(e),\n                    \"Did you install the extra 'release' dependencies? (pip install nylas['release'])\",\n                )\n            sys.exit()"
    }
  },
  {
    "metadata": {
      "package_name": "nylas-6.8.0",
      "total_matches": 2
    }
  }
]