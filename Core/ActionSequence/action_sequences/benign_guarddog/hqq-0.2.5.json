[
  {
    "pyfile": "setup.py",
    "code_snippet": "import os\nfrom setuptools import setup, find_packages\nfrom setuptools.command.install import install\nfrom setuptools.command.develop import develop\nfrom setuptools.command.egg_info import egg_info\n\n\ndef install_cuda_cmd() -> str:\n    cmd = \"cd hqq/kernels; \"\n    cmd += \"python setup_cuda.py install; \"\n    cmd += \"cd ../..;\"\n    return cmd\n\n\ndef run_setup_cuda():\n    print(\"Running setup_cuda.py...\")\n    try:\n        os.system(install_cuda_cmd())\n    except Exception as e:\n        print(\"Error while running setup_cuda.py:\", e)\n\n\nclass InstallCommand(install):\n    def run(self):\n        install.run(self)\n        run_setup_cuda()\n\n\nclass DevelopCommand(develop):\n    def run(self):\n        develop.run(self)\n        run_setup_cuda()\n\n\nclass EgginfoCommand(egg_info):\n    def run(self):\n        egg_info.run(self)\n        run_setup_cuda()\n\n\nsetup(\n    name=\"hqq\",\n    version=\"0.2.5\",\n    description=\"Half-Quadratic Quantization (HQQ)\",\n    url=\"https://github.com/mobiusml/hqq/\",\n    author=\"Dr. Hicham Badri\",\n    author_email=\"hicham@mobiuslabs.com\",\n    license=\"Apache 2\",\n    packages=find_packages(include=[\"hqq\", \"hqq.*\"]),\n    package_data={\n        \"hqq\": [\"kernels/*.cpp\", \"kernels/*.cu\"],\n    },\n    include_package_data=True,\n    cmdclass={\n        \"install\": InstallCommand,\n        \"develop\": DevelopCommand,\n        \"egg_info\": EgginfoCommand,\n    },\n    install_requires=[\n        \"numpy>=1.24.4\",\n        \"tqdm>=4.64.1\",\n        \"einops\",\n        \"accelerate\",\n        \"transformers>=4.36.1\",\n        \"huggingface_hub\",\n        \"termcolor\",\n        #\"bitblas\",\n        #\"timm\",\n    ],\n)\n",
    "pattern_analysis": {
      "api_sequence": [
        "os.system"
      ],
      "api_sequence_with_args": [
        "os.system(install_cuda_cmd())"
      ],
      "mapped_sequence": [
        {
          "api_name": "os.system",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        }
      ],
      "contextual_code": "import os\n\ndef install_cuda_cmd() -> str:\n    cmd = \"cd hqq/kernels; \"\n    cmd += \"python setup_cuda.py install; \"\n    cmd += \"cd ../..;\"\n    return cmd\n\ndef run_setup_cuda():\n    print(\"Running setup_cuda.py...\")\n    try:\n        os.system(install_cuda_cmd())\n    except Exception as e:\n        print(\"Error while running setup_cuda.py:\", e)\n\nclass InstallCommand(install):\n    def run(self):\n        install.run(self)\n        run_setup_cuda()\n\nclass DevelopCommand(develop):\n    def run(self):\n        develop.run(self)\n        run_setup_cuda()\n\nclass EgginfoCommand(egg_info):\n    def run(self):\n        egg_info.run(self)\n        run_setup_cuda()"
    }
  },
  {
    "metadata": {
      "package_name": "hqq-0.2.5",
      "total_matches": 2
    }
  }
]