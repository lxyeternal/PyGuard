[
  {
    "pyfile": "setup.py",
    "code_snippet": "import sys\n\n# Check python version\nif sys.version_info[:2] < (3, 7):\n    raise RuntimeError(\"Python version >= 3.7 required.\")\n\nimport platform\nfrom distutils.ccompiler import new_compiler\nfrom distutils.sysconfig import customize_compiler\nfrom setuptools import setup, Extension\nfrom subprocess import getoutput\n\n\ndef using_clang():\n    \"\"\"Will we be using a clang compiler?\n    \"\"\"\n    compiler = new_compiler()\n    customize_compiler(compiler)\n    compiler_ver = getoutput(\"{0} -v\".format(compiler.compiler[0]))\n    return \"clang\" in compiler_ver\n",
    "pattern_analysis": {
      "api_sequence": [
        "sys.version_info",
        "platform.platform",
        "distutils.ccompiler.new_compiler",
        "distutils.sysconfig.customize_compiler",
        "subprocess.getoutput"
      ],
      "api_sequence_with_args": [
        "sys.version_info[:2]",
        "platform.platform()",
        "distutils.ccompiler.new_compiler()",
        "distutils.sysconfig.customize_compiler(compiler)",
        "subprocess.getoutput(\"{0} -v\".format(compiler.compiler[0]))"
      ],
      "mapped_sequence": [
        {
          "api_name": "sys.version_info",
          "id": "get_python_version",
          "description": "Retrieves Python interpreter version",
          "first_id": "information_gathering",
          "second_id": "system_information_collection",
          "third_id": "user_information"
        },
        {
          "api_name": "platform.platform",
          "id": "get_platform_info",
          "description": "Retrieves platform information as string",
          "first_id": "information_gathering",
          "second_id": "system_information_collection",
          "third_id": "os_information"
        },
        {
          "api_name": "distutils.ccompiler.new_compiler",
          "id": "init_git_wrapper",
          "description": "Initializes Git command wrapper for specified directory",
          "first_id": "code_execution",
          "second_id": "object_initialization",
          "third_id": "class_initialization"
        },
        {
          "api_name": "distutils.sysconfig.customize_compiler",
          "id": "configure_package_install",
          "description": "Configures and initiates Python package installation",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "package_configuration"
        },
        {
          "api_name": "subprocess.getoutput",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        }
      ],
      "contextual_code": "import sys\nimport platform\nfrom distutils.ccompiler import new_compiler\nfrom distutils.sysconfig import customize_compiler\nfrom subprocess import getoutput\n\ndef using_clang():\n    compiler = new_compiler()\n    customize_compiler(compiler)\n    compiler_ver = getoutput(\"{0} -v\".format(compiler.compiler[0]))\n    return \"clang\" in compiler_ver\n\n# Check python version\nif sys.version_info[:2] < (3, 7):\n    raise RuntimeError(\"Python version >= 3.7 required.\")"
    }
  },
  {
    "metadata": {
      "package_name": "dscribe-2.1.1",
      "total_matches": 1
    }
  }
]