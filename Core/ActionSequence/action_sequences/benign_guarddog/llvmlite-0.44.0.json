[
  {
    "pyfile": "setup.py",
    "code_snippet": "from distutils.spawn import spawn\nimport os\nimport sys\n\nhere_dir = os.path.dirname(os.path.abspath(__file__))\n\ndef build_library_files(dry_run):\n    cmd = [sys.executable, os.path.join(here_dir, 'ffi', 'build.py')]\n    # Turn on -fPIC for building on Linux, BSD, OS X, and GNU platforms\n    plt = sys.platform\n    if 'linux' in plt or 'bsd' in plt or 'darwin' in plt or 'gnu' in plt:\n        os.environ['CXXFLAGS'] = os.environ.get('CXXFLAGS', '') + ' -fPIC'\n    spawn(cmd, dry_run=dry_run)\n",
    "pattern_analysis": {
      "api_sequence": [
        "os.path.abspath",
        "os.path.dirname",
        "os.path.join",
        "os.environ.get",
        "os.environ.__setitem__",
        "distutils.spawn.spawn"
      ],
      "api_sequence_with_args": [
        "os.path.abspath(__file__)",
        "os.path.dirname(os.path.abspath(__file__))",
        "os.path.join(here_dir, 'ffi', 'build.py')",
        "os.environ.get('CXXFLAGS', '')",
        "os.environ.__setitem__('CXXFLAGS', os.environ.get('CXXFLAGS', '') + ' -fPIC')",
        "distutils.spawn.spawn(cmd, dry_run=dry_run)"
      ],
      "mapped_sequence": [
        {
          "api_name": "os.path.abspath",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "os.path.dirname",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "os.path.join",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "os.environ.get",
          "id": "get_env_vars",
          "description": "Retrieves environment variables mapping",
          "first_id": "system_operations",
          "second_id": "system_environment_operations",
          "third_id": "environment_information"
        },
        {
          "api_name": "os.environ.__setitem__",
          "id": "get_env_vars",
          "description": "Retrieves environment variables mapping",
          "first_id": "system_operations",
          "second_id": "system_environment_operations",
          "third_id": "environment_information"
        },
        {
          "api_name": "distutils.spawn.spawn",
          "id": "spawn_process_shell",
          "description": "Spawns new process to execute command with shell access",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_reception"
        }
      ],
      "contextual_code": "import os\nfrom distutils.spawn import spawn\n\nhere_dir = os.path.dirname(os.path.abspath(__file__))\n\ndef build_library_files(dry_run):\n    cmd = [sys.executable, os.path.join(here_dir, 'ffi', 'build.py')]\n    plt = sys.platform\n    if 'linux' in plt or 'bsd' in plt or 'darwin' in plt or 'gnu' in plt:\n        os.environ['CXXFLAGS'] = os.environ.get('CXXFLAGS', '') + ' -fPIC'\n    spawn(cmd, dry_run=dry_run)"
    }
  },
  {
    "metadata": {
      "package_name": "llvmlite-0.44.0",
      "total_matches": 1
    }
  }
]