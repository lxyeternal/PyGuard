[
  {
    "pyfile": "ipinfo.py",
    "code_snippet": "import logging\n\nfrom geocoder.base import OneResult, MultipleResultsQuery\nfrom geocoder.location import Location\n\nclass IpinfoResult(OneResult):\n\n    @property\n    def lat(self):\n        loc = self.raw.get('loc')\n        if loc:\n            return Location(loc).lat\n\n    @property\n    def lng(self):\n        loc = self.raw.get('loc')\n        if loc:\n            return Location(loc).lng\n\n    @property\n    def address(self):\n        if self.city:\n            return u'{0}, {1}, {2}'.format(self.city, self.state, self.country)\n        elif self.state:\n            return u'{0}, {1}'.format(self.state, self.country)\n        elif self.country:\n            return u'{0}'.format(self.country)\n        else:\n            return u''\n\n    @property\n    def postal(self):\n        return self.raw.get('postal')\n\n    @property\n    def city(self):\n        return self.raw.get('city')\n\n    @property\n    def state(self):\n        return self.raw.get('region')\n\n    @property\n    def country(self):\n        return self.raw.get('country')\n\n    @property\n    def hostname(self):\n        return self.raw.get('hostname')\n\n    @property\n    def ip(self):\n        return self.raw.get('ip')\n\n    @property\n    def org(self):\n        return self.raw.get('org')\n\nclass IpinfoQuery(MultipleResultsQuery):\n    \"\"\"\n    API Reference\n    -------------\n    https://ipinfo.io\n    \"\"\"\n    provider = 'ipinfo'\n    method = 'geocode'\n\n    _URL = 'http://ipinfo.io/json'\n    _RESULT_CLASS = IpinfoResult\n    _KEY_MANDATORY = False\n\n    def _before_initialize(self, location, **kwargs):\n        if location.lower() == 'me' or location == '':\n            self.url = 'http://ipinfo.io/json'\n        else:\n            self.url = 'http://ipinfo.io/{0}/json'.format(self.location)\n\n    def _adapt_results(self, json_response):\n        return [json_response]\n\nif __name__ == '__main__':\n    logging.basicConfig(level=logging.INFO)\n    g = IpinfoQuery('8.8.8.8')\n    g.debug()\n",
    "pattern_analysis": {
      "api_sequence": [],
      "api_sequence_with_args": [],
      "mapped_sequence": [],
      "contextual_code": ""
    }
  },
  {
    "metadata": {
      "package_name": "geocoder-1.38.1",
      "total_matches": 3
    }
  }
]