[
  {
    "pyfile": "pinout.py",
    "code_snippet": "import argparse\nimport sys\nimport warnings\nimport webbrowser\n\nfrom . import CliTool\nfrom gpiozero import Device\nfrom gpiozero.pins.pi import PiBoardInfo\nfrom gpiozero.pins.style import Style\n\nclass PinoutTool(CliTool):\n    \"\"\"\n    A utility for querying GPIO pin-out information.\n    \"\"\"\n    def __init__(self):\n        super().__init__()\n        self.parser.add_argument(\n            '-r', '--revision',\n            dest='revision',\n            type=lambda s: int(s, base=16),\n            default=None,\n            help='Board revision. Default is to autodetect revision of '\n            'current device')\n        self.parser.add_argument(\n            '-c', '--color',\n            action=\"store_true\",\n            default=None,\n            help='Force colored output (by default, the output will include '\n            'ANSI color codes if run in a color-capable terminal). See also '\n            '--monochrome')\n        self.parser.add_argument(\n            '-m', '--monochrome',\n            dest='color',\n            action='store_false',\n            help='Force monochrome output. See also --color')\n        self.parser.add_argument(\n            '-x', '--xyz',\n            dest='xyz',\n            action='store_true',\n            help='Open pinout.xyz in the default web browser')\n\n    def main(self, args):\n        warnings.simplefilter('ignore')\n        if args.xyz:\n            webbrowser.open('https://pinout.xyz')\n        else:\n            if args.revision is None:\n                try:\n                    Device.ensure_pin_factory()\n                    board_info = Device.pin_factory.board_info\n                except ImportError:\n                    sys.stderr.write(self.get_gpiozero_help())\n                    return 1\n                except IOError:\n                    sys.stderr.write('Unrecognized board')\n                    return 1\n            else:\n                board_info = PiBoardInfo.from_revision(args.revision)\n            style = Style(color=args.color)\n            sys.stdout.write(f'{board_info:{style} full}')\n            formatter = self.get_formatter()\n            formatter.add_text(\n                \"For further information, please refer to \"\n                \"https://pinout.xyz/\")\n            sys.stdout.write('\\n\\n')\n            sys.stdout.write(formatter.format_help())\n\n    def output(self, board):\n        return\n",
    "pattern_analysis": {
      "api_sequence": [
        "warnings.simplefilter",
        "webbrowser.open",
        "Device.ensure_pin_factory",
        "Device.pin_factory.board_info",
        "sys.stderr.write",
        "PiBoardInfo.from_revision",
        "Style",
        "sys.stdout.write",
        "formatter.add_text",
        "sys.stdout.write",
        "sys.stdout.write",
        "formatter.format_help"
      ],
      "api_sequence_with_args": [
        "warnings.simplefilter('ignore')",
        "webbrowser.open('https://pinout.xyz')",
        "Device.ensure_pin_factory()",
        "Device.pin_factory.board_info",
        "sys.stderr.write(self.get_gpiozero_help())",
        "PiBoardInfo.from_revision(args.revision)",
        "Style(color=args.color)",
        "sys.stdout.write(f'{board_info:{style} full}')",
        "formatter.add_text('For further information, please refer to https://pinout.xyz/')",
        "sys.stdout.write('\\n\\n')",
        "sys.stdout.write(formatter.format_help())",
        "formatter.format_help()"
      ],
      "mapped_sequence": [
        {
          "api_name": "warnings.simplefilter",
          "id": "error_handling_operations",
          "description": "File opening operations with error handling (ignore errors, custom error handling, etc.)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "webbrowser.open",
          "id": "open_file_app",
          "description": "Opens file with associated application",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "Device.ensure_pin_factory",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        },
        {
          "api_name": "Device.pin_factory.board_info",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        },
        {
          "api_name": "sys.stderr.write",
          "id": "basic_file_writing",
          "description": "Writing data to files (strings or bytes)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_writing"
        },
        {
          "api_name": "PiBoardInfo.from_revision",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        },
        {
          "api_name": "Style",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        },
        {
          "api_name": "sys.stdout.write",
          "id": "basic_file_writing",
          "description": "Writing data to files (strings or bytes)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_writing"
        },
        {
          "api_name": "formatter.add_text",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        },
        {
          "api_name": "sys.stdout.write",
          "id": "basic_file_writing",
          "description": "Writing data to files (strings or bytes)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_writing"
        },
        {
          "api_name": "sys.stdout.write",
          "id": "basic_file_writing",
          "description": "Writing data to files (strings or bytes)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_writing"
        },
        {
          "api_name": "formatter.format_help",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        }
      ],
      "contextual_code": "def main(self, args):\n    warnings.simplefilter('ignore')\n    if args.xyz:\n        webbrowser.open('https://pinout.xyz')\n    else:\n        if args.revision is None:\n            try:\n                Device.ensure_pin_factory()\n                board_info = Device.pin_factory.board_info\n            except ImportError:\n                sys.stderr.write(self.get_gpiozero_help())\n                return 1\n            except IOError:\n                sys.stderr.write('Unrecognized board')\n                return 1\n        else:\n            board_info = PiBoardInfo.from_revision(args.revision)\n        style = Style(color=args.color)\n        sys.stdout.write(f'{board_info:{style} full}')\n        formatter = self.get_formatter()\n        formatter.add_text(\n            \"For further information, please refer to \"\n            \"https://pinout.xyz/\")\n        sys.stdout.write('\\n\\n')\n        sys.stdout.write(formatter.format_help())"
    }
  },
  {
    "metadata": {
      "package_name": "gpiozero-2.0.1",
      "total_matches": 1
    }
  }
]