[
  {
    "pyfile": "setup.py",
    "code_snippet": "import glob\nimport os\nimport re\n\nfrom setuptools import find_packages, setup\nfrom setuptools.command.install import install\n\nwith open(\"consul/__init__.py\", encoding=\"utf-8\") as f:\n    metadata = dict(re.findall('__([a-z]+)__ = \"([^\"]+)\"', f.read()))\n\n\ndef _read_reqs(relpath: str):\n    fullpath = os.path.join(os.path.dirname(__file__), relpath)\n    with open(fullpath, encoding=\"utf-8\") as f:\n        return [s.strip() for s in f.readlines() if (s.strip() and not s.startswith(\"#\"))]\n\n\ndescription = \"Python client for Consul (http://www.consul.io/)\"\n\n\npy_modules = [os.path.splitext(x)[0] for x in glob.glob(\"consul/*.py\")]\n\n\nclass Install(install):\n    def run(self):\n        install.run(self)\n\n\nwith open(\"README.md\", encoding=\"utf-8\") as f1, open(\"CHANGELOG.md\", encoding=\"utf-8\") as f2:\n    long_description = f\"{f1.read()}\\n\\n{f2.read()}\"\n\nsetup(\n    name=\"py-consul\",\n    version=metadata[\"version\"],\n    author=\"Criteo\",\n    author_email=\"github@criteo.com\",\n    url=\"https://github.com/criteo-forks/py-consul\",\n    license=\"MIT\",\n    description=description,\n    description_content_type=\"text/markdown\",\n    long_description=long_description,\n    long_description_content_type=\"text/markdown\",\n    py_modules=py_modules,\n    install_requires=_read_reqs(\"requirements.txt\"),\n    extras_require={\n        \"asyncio\": [\"aiohttp\"],\n    },\n    data_files=[(\".\", [\"requirements.txt\", \"tests-requirements.txt\"])],\n    packages=find_packages(exclude=[\"tests*\"]),\n    tests_require=_read_reqs(\"tests-requirements.txt\"),\n    cmdclass={\"install\": Install},\n    classifiers=[\n        \"Development Status :: 3 - Alpha\",\n        \"Intended Audience :: Developers\",\n        \"License :: OSI Approved :: MIT License\",\n        \"Programming Language :: Python :: 3\",\n        \"Programming Language :: Python :: 3.9\",\n        \"Programming Language :: Python :: 3.10\",\n        \"Programming Language :: Python :: 3.11\",\n        \"Programming Language :: Python :: 3.12\",\n        \"Programming Language :: Python :: 3.13\",\n    ],\n)\n",
    "pattern_analysis": {
      "api_sequence": [
        "open",
        "re.findall",
        "open",
        "os.path.dirname",
        "os.path.join",
        "open",
        "os.path.splitext",
        "glob.glob",
        "open",
        "open",
        "find_packages"
      ],
      "api_sequence_with_args": [
        "open(\"consul/__init__.py\", encoding=\"utf-8\")",
        "re.findall('__([a-z]+)__ = \"([^\"]+)\"', f.read())",
        "open(fullpath, encoding=\"utf-8\")",
        "os.path.dirname(__file__)",
        "os.path.join(os.path.dirname(__file__), relpath)",
        "open(filename, encoding=\"utf-8\")",
        "os.path.splitext(x)[0]",
        "glob.glob(\"consul/*.py\")",
        "open(\"README.md\", encoding=\"utf-8\")",
        "open(\"CHANGELOG.md\", encoding=\"utf-8\")",
        "find_packages(exclude=[\"tests*\"])"
      ],
      "mapped_sequence": [
        {
          "api_name": "open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "re.findall",
          "id": "compile_regex",
          "description": "Compiles regular expression pattern",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "code_compilation"
        },
        {
          "api_name": "open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "os.path.dirname",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "os.path.join",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "os.path.splitext",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "glob.glob",
          "id": "list_files_directories",
          "description": "Lists files and directories in specified path",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "directory_operations"
        },
        {
          "api_name": "open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "find_packages",
          "id": "find_packages",
          "description": "Finds all packages in current directory",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "package_configuration"
        }
      ],
      "contextual_code": "import glob\nimport os\nimport re\nfrom setuptools import find_packages, setup\nfrom setuptools.command.install import install\n\nwith open(\"consul/__init__.py\", encoding=\"utf-8\") as f:\n    metadata = dict(re.findall('__([a-z]+)__ = \"([^\"]+)\"', f.read()))\n\ndef _read_reqs(relpath: str):\n    fullpath = os.path.join(os.path.dirname(__file__), relpath)\n    with open(fullpath, encoding=\"utf-8\") as f:\n        return [s.strip() for s in f.readlines() if (s.strip() and not s.startswith(\"#\"))]\n\npy_modules = [os.path.splitext(x)[0] for x in glob.glob(\"consul/*.py\")]\n\nwith open(\"README.md\", encoding=\"utf-8\") as f1, open(\"CHANGELOG.md\", encoding=\"utf-8\") as f2:\n    long_description = f\"{f1.read()}\\n\\n{f2.read()}\"\n\nsetup(\n    ...,\n    packages=find_packages(exclude=[\"tests*\"]),\n    ...\n)"
    }
  },
  {
    "metadata": {
      "package_name": "py_consul-1.6.0",
      "total_matches": 1
    }
  }
]