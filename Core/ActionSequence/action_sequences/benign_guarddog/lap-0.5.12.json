[
  {
    "pyfile": "setup.py",
    "code_snippet": "import os\nimport subprocess\n\ndef compile_cpp(cython_file):\n    \"\"\"Compile a C++ file from Cython's pyx or py.\n    \"\"\"\n    import os\n    import subprocess\n    cpp_file = os.path.splitext(cython_file)[0] + \".cpp\"\n    flags = ['--fast-fail', '--cplus']\n    rc = subprocess.call(['cython'] + flags + ['-o', cpp_file, cython_file])\n    if rc != 0:\n        raise Exception('Cythonizing %s failed' % cython_file)\n    else:\n        return cpp_file\n",
    "pattern_analysis": {
      "api_sequence": [
        "os.path.splitext",
        "subprocess.call"
      ],
      "api_sequence_with_args": [
        "os.path.splitext(cython_file)",
        "subprocess.call(['cython', '--fast-fail', '--cplus', '-o', cpp_file, cython_file])"
      ],
      "mapped_sequence": [
        {
          "api_name": "os.path.splitext",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "subprocess.call",
          "id": "spawn_process_no_shell",
          "description": "Spawns new process to execute command without shell access",
          "first_id": "system_operations",
          "second_id": "process_management",
          "third_id": "process_creation"
        }
      ],
      "contextual_code": "def compile_cpp(cython_file):\n    import os\n    import subprocess\n    cpp_file = os.path.splitext(cython_file)[0] + \".cpp\"\n    flags = ['--fast-fail', '--cplus']\n    rc = subprocess.call(['cython'] + flags + ['-o', cpp_file, cython_file])\n    if rc != 0:\n        raise Exception('Cythonizing %s failed' % cython_file)\n    else:\n        return cpp_file"
    }
  },
  {
    "metadata": {
      "package_name": "lap-0.5.12",
      "total_matches": 1
    }
  }
]