[
  {
    "pyfile": "setup.py",
    "code_snippet": "import os\nimport sys\nimport subprocess\nimport logging\nimport shlex\n\ndef compile_client():\n\t'''Compile the C powerline-client script.'''\n\n\tif hasattr(sys, 'getwindowsversion'):\n\t\traise NotImplementedError()\n\telse:\n\t\tfrom distutils.ccompiler import new_compiler\n\t\tcompiler = new_compiler().compiler\n\t\tcflags = os.environ.get('CFLAGS', str('-O3'))\n\t\t# A normal split would do a split on each space which might be incorrect. The\n\t\t# shlex will not split if a space occurs in an arguments value.\n\t\tsubprocess.check_call(compiler + shlex.split(cflags) + ['client/powerline.c', '-o', 'scripts/powerline'])",
    "pattern_analysis": {
      "api_sequence": [
        "sys.getwindowsversion",
        "os.environ.get",
        "subprocess.check_call",
        "shlex.split"
      ],
      "api_sequence_with_args": [
        "sys.getwindowsversion",
        "os.environ.get('CFLAGS', str('-O3'))",
        "shlex.split(cflags)",
        "subprocess.check_call(compiler + shlex.split(cflags) + ['client/powerline.c', '-o', 'scripts/powerline'])"
      ],
      "mapped_sequence": [
        {
          "api_name": "sys.getwindowsversion",
          "id": "get_os_info",
          "description": "Retrieves operating system information",
          "first_id": "information_gathering",
          "second_id": "system_information_collection",
          "third_id": "os_information"
        },
        {
          "api_name": "os.environ.get",
          "id": "get_env_var",
          "description": "Retrieves value of environment variable",
          "first_id": "system_operations",
          "second_id": "system_environment_operations",
          "third_id": "environment_information"
        },
        {
          "api_name": "shlex.split",
          "id": "apply_lambda_to_lists",
          "description": "Applies lambda function to elements of two lists",
          "first_id": "data_transformation_processing",
          "second_id": "function_application",
          "third_id": "lambda_application"
        },
        {
          "api_name": "subprocess.check_call",
          "id": "execute_shell_command",
          "description": "Executes shell command",
          "first_id": "command_control_communications",
          "second_id": "command_execution",
          "third_id": "command_sending"
        }
      ],
      "contextual_code": "def compile_client():\n\t'''Compile the C powerline-client script.'''\n\n\tif hasattr(sys, 'getwindowsversion'):\n\t\traise NotImplementedError()\n\telse:\n\t\tfrom distutils.ccompiler import new_compiler\n\t\tcompiler = new_compiler().compiler\n\t\tcflags = os.environ.get('CFLAGS', str('-O3'))\n\t\t# A normal split would do a split on each space which might be incorrect. The\n\t\t# shlex will not split if a space occurs in an arguments value.\n\t\tsubprocess.check_call(compiler + shlex.split(cflags) + ['client/powerline.c', '-o', 'scripts/powerline'])"
    }
  },
  {
    "metadata": {
      "package_name": "powerline-status-2.7",
      "total_matches": 1
    }
  }
]