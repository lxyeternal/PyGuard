[
  {
    "pyfile": "setup.py",
    "code_snippet": "import errno\nfrom setuptools import setup, find_packages\nfrom setuptools.command.install import install\nfrom subprocess import check_call\n\nVERSION = \"4.6.0a1662390243\"\nPLUGIN_VERSION = \"4.6.0-alpha.1662390243+5c22c9dd\"\n\nclass InstallPluginCommand(install):\n    def run(self):\n        install.run(self)\n        try:\n            check_call(['pulumi', 'plugin', 'install', 'resource', 'command', PLUGIN_VERSION])\n        except OSError as error:\n            if error.errno == errno.ENOENT:\n                print(f\"\"\"\n                There was an error installing the command resource provider plugin.\n                It looks like `pulumi` is not installed on your system.\n                Please visit https://pulumi.com/ to install the Pulumi CLI.\n                You may try manually installing the plugin by running\n                `pulumi plugin install resource command {PLUGIN_VERSION}`\n                \"\"\")\n            else:\n                raise\n\ndef readme():\n    try:\n        with open('README.md', encoding='utf-8') as f:\n            return f.read()\n    except FileNotFoundError:\n        return \"command Pulumi Package - Development Version\"\n\nsetup(name='pulumi_command',\n      version=VERSION,\n      description=\"The Pulumi Command Provider enables you to execute commands and scripts either locally or remotely as part of the Pulumi resource model.\",\n      long_description=readme(),\n      long_description_content_type='text/markdown',\n      cmdclass={\n          'install': InstallPluginCommand,\n      },\n      keywords='pulumi command category/utility kind/native',\n      url='https://pulumi.com',\n      project_urls={\n          'Repository': 'https://github.com/pulumi/pulumi-command'\n      },\n      license='Apache-2.0',\n      packages=find_packages(),\n      package_data={\n          'pulumi_command': [\n              'py.typed',\n              'pulumi-plugin.json',\n          ]\n      },\n      install_requires=[\n          'parver>=0.2.1',\n          'pulumi>=3.0.0,<4.0.0',\n          'semver>=2.8.1'\n      ],\n      zip_safe=False)\n",
    "pattern_analysis": {
      "api_sequence": [
        "setuptools.command.install.install.run",
        "subprocess.check_call",
        "open",
        "setuptools.setup",
        "setuptools.find_packages"
      ],
      "api_sequence_with_args": [
        "setuptools.command.install.install.run(self)",
        "subprocess.check_call(['pulumi', 'plugin', 'install', 'resource', 'command', PLUGIN_VERSION])",
        "open('README.md', encoding='utf-8')",
        "setuptools.setup(name='pulumi_command', version=VERSION, description=..., long_description=readme(), ...)",
        "setuptools.find_packages()"
      ],
      "mapped_sequence": [
        {
          "api_name": "setuptools.command.install.install.run",
          "id": "exec_setuptools_install",
          "description": "Executes setuptools installation procedure",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "package_configuration"
        },
        {
          "api_name": "subprocess.check_call",
          "id": "spawn_process_no_shell",
          "description": "Spawns new process to execute command without shell access",
          "first_id": "system_operations",
          "second_id": "process_management",
          "third_id": "process_creation"
        },
        {
          "api_name": "open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "setuptools.setup",
          "id": "configure_package_install",
          "description": "Configures and initiates Python package installation",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "package_configuration"
        },
        {
          "api_name": "setuptools.find_packages",
          "id": "find_packages",
          "description": "Finds all packages in current directory",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "package_configuration"
        }
      ],
      "contextual_code": "from setuptools import setup, find_packages\nfrom setuptools.command.install import install\nfrom subprocess import check_call\n\nclass InstallPluginCommand(install):\n    def run(self):\n        install.run(self)\n        try:\n            check_call(['pulumi', 'plugin', 'install', 'resource', 'command', PLUGIN_VERSION])\n        except OSError as error:\n            if error.errno == errno.ENOENT:\n                print(f\"\"\"\n                There was an error installing the command resource provider plugin.\n                It looks like `pulumi` is not installed on your system.\n                Please visit https://pulumi.com/ to install the Pulumi CLI.\n                You may try manually installing the plugin by running\n                `pulumi plugin install resource command {PLUGIN_VERSION}`\n                \"\"\")\n            else:\n                raise\n\ndef readme():\n    try:\n        with open('README.md', encoding='utf-8') as f:\n            return f.read()\n    except FileNotFoundError:\n        return \"command Pulumi Package - Development Version\"\n\nsetup(name='pulumi_command',\n      version=VERSION,\n      description=\"The Pulumi Command Provider enables you to execute commands and scripts either locally or remotely as part of the Pulumi resource model.\",\n      long_description=readme(),\n      long_description_content_type='text/markdown',\n      cmdclass={\n          'install': InstallPluginCommand,\n      },\n      keywords='pulumi command category/utility kind/native',\n      url='https://pulumi.com',\n      project_urls={\n          'Repository': 'https://github.com/pulumi/pulumi-command'\n      },\n      license='Apache-2.0',\n      packages=find_packages(),\n      package_data={\n          'pulumi_command': [\n              'py.typed',\n              'pulumi-plugin.json',\n          ]\n      },\n      install_requires=[\n          'parver>=0.2.1',\n          'pulumi>=3.0.0,<4.0.0',\n          'semver>=2.8.1'\n      ],\n      zip_safe=False)\n"
    }
  },
  {
    "metadata": {
      "package_name": "pulumi_command-4.6.0a1662390243",
      "total_matches": 2
    }
  }
]