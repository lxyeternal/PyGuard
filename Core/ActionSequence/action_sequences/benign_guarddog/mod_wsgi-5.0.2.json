[
  {
    "pyfile": "setup.py",
    "code_snippet": "import os\nimport sys\nimport subprocess\n\n# ... (other imports and code omitted for brevity)\n\nAPXS = os.environ.get('APXS')\n\nWITH_HTTPD_PACKAGE = False\n\nif APXS is None:\n    APXS = find_program(['mod_wsgi-apxs'],\n            paths=[os.path.dirname(sys.executable)])\n    if APXS is not None:\n        WITH_HTTPD_PACKAGE = True\n\nif APXS is None:\n    APXS = find_program(['mod_wsgi-apxs', 'apxs2', 'apxs'],\n            'apxs', ['/usr/sbin', os.getcwd()])\nelif not os.path.isabs(APXS):\n    APXS = find_program([APXS], APXS, ['/usr/sbin', os.getcwd()])\n\nWITHOUT_APXS = False\nWITH_WINDOWS_APACHE = None\nWITH_MACOSX_APACHE = None\n\nif not os.path.isabs(APXS) or not os.access(APXS, os.X_OK):\n    WITHOUT_APXS = True\n\n# ... (other platform-specific code omitted)\n\nelse:\n    def get_apxs_config(query):\n        p = subprocess.Popen([APXS, '-q', query],\n                stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n        out, err = p.communicate()\n        if isinstance(out, bytes):\n            out = out.decode('UTF-8')\n        return out.strip()\n\n    def get_apr_includes():\n        if not APR_CONFIG:\n            return ''\n\n        p = subprocess.Popen([APR_CONFIG, '--includes'],\n                stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n        out, err = p.communicate()\n        if isinstance(out, bytes):\n            out = out.decode('UTF-8')\n        return out.strip()\n\n    def get_apu_includes():\n        if not APU_CONFIG:\n            return ''\n\n        p = subprocess.Popen([APU_CONFIG, '--includes'],\n                stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n        out, err = p.communicate()\n        if isinstance(out, bytes):\n            out = out.decode('UTF-8')\n        return out.strip()\n\n# ... (rest of the code omitted for brevity)\n",
    "pattern_analysis": {
      "api_sequence": [
        "os.environ.get",
        "os.path.dirname",
        "sys.executable",
        "find_program",
        "os.path.isabs",
        "os.getcwd",
        "os.access",
        "subprocess.Popen",
        "subprocess.Popen.communicate",
        "isinstance",
        "bytes.decode"
      ],
      "api_sequence_with_args": [
        "os.environ.get('APXS')",
        "os.path.dirname(sys.executable)",
        "find_program(['mod_wsgi-apxs'], paths=[os.path.dirname(sys.executable)])",
        "os.path.isabs(APXS)",
        "os.getcwd()",
        "os.access(APXS, os.X_OK)",
        "subprocess.Popen([APXS, '-q', query], stdout=subprocess.PIPE, stderr=subprocess.PIPE)",
        "p.communicate()",
        "isinstance(out, bytes)",
        "out.decode('UTF-8')"
      ],
      "mapped_sequence": [
        {
          "api_name": "os.environ.get",
          "id": "get_env_var",
          "description": "Retrieves value of environment variable",
          "first_id": "system_operations",
          "second_id": "system_environment_operations",
          "third_id": "environment_information"
        },
        {
          "api_name": "os.path.dirname",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "sys.executable",
          "id": "get_python_version",
          "description": "Retrieves Python interpreter version",
          "first_id": "information_gathering",
          "second_id": "system_information_collection",
          "third_id": "user_information"
        },
        {
          "api_name": "find_program",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        },
        {
          "api_name": "os.path.isabs",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "os.getcwd",
          "id": "get_working_dir",
          "description": "Returns current working directory",
          "first_id": "system_operations",
          "second_id": "system_environment_operations",
          "third_id": "environment_information"
        },
        {
          "api_name": "os.access",
          "id": "check_path_exists",
          "description": "Checks if specified path exists in filesystem",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_checking"
        },
        {
          "api_name": "subprocess.Popen",
          "id": "spawn_process_no_shell",
          "description": "Spawns new process to execute command without shell access",
          "first_id": "system_operations",
          "second_id": "process_management",
          "third_id": "process_creation"
        },
        {
          "api_name": "subprocess.Popen.communicate",
          "id": "read_process_stdout",
          "description": "Reads all bytes from process standard output",
          "first_id": "system_operations",
          "second_id": "process_management",
          "third_id": "process_information"
        },
        {
          "api_name": "isinstance",
          "id": "check_instance_type",
          "description": "Checks if object is instance of specified type",
          "first_id": "utility_functions",
          "second_id": "logging_exception_handling",
          "third_id": "exception_checking"
        },
        {
          "api_name": "bytes.decode",
          "id": "decode_bytes_codec",
          "description": "Decodes bytes using specified codec",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "byte_encoding"
        }
      ],
      "contextual_code": "import os\nimport sys\nimport subprocess\n\nAPXS = os.environ.get('APXS')\nWITH_HTTPD_PACKAGE = False\n\nif APXS is None:\n    APXS = find_program(['mod_wsgi-apxs'],\n            paths=[os.path.dirname(sys.executable)])\n    if APXS is not None:\n        WITH_HTTPD_PACKAGE = True\n\nif APXS is None:\n    APXS = find_program(['mod_wsgi-apxs', 'apxs2', 'apxs'],\n            'apxs', ['/usr/sbin', os.getcwd()])\nelif not os.path.isabs(APXS):\n    APXS = find_program([APXS], APXS, ['/usr/sbin', os.getcwd()])\n\nWITHOUT_APXS = False\nWITH_WINDOWS_APACHE = None\nWITH_MACOSX_APACHE = None\n\nif not os.path.isabs(APXS) or not os.access(APXS, os.X_OK):\n    WITHOUT_APXS = True\nelse:\n    def get_apxs_config(query):\n        p = subprocess.Popen([APXS, '-q', query],\n                stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n        out, err = p.communicate()\n        if isinstance(out, bytes):\n            out = out.decode('UTF-8')\n        return out.strip()\n"
    }
  },
  {
    "metadata": {
      "package_name": "mod_wsgi-5.0.2",
      "total_matches": 3
    }
  }
]