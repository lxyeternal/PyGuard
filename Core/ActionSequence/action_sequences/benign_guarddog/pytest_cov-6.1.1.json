[
  {
    "pyfile": "setup.py",
    "code_snippet": "import re\nfrom itertools import chain\nfrom pathlib import Path\n\nfrom setuptools import Command\nfrom setuptools import find_packages\nfrom setuptools import setup\n\ntry:\n    # https://setuptools.pypa.io/en/latest/deprecated/distutils-legacy.html\n    from setuptools.command.build import build\nexcept ImportError:\n    from distutils.command.build import build\n\nfrom setuptools.command.develop import develop\nfrom setuptools.command.easy_install import easy_install\nfrom setuptools.command.install_lib import install_lib\n\n\ndef read(*names, **kwargs):\n    with Path(__file__).parent.joinpath(*names).open(encoding=kwargs.get('encoding', 'utf8')) as fh:\n        return fh.read()\n\n\nclass BuildWithPTH(build):\n    def run(self, *args, **kwargs):\n        super().run(*args, **kwargs)\n        path = str(Path(__file__).parent / 'src' / 'pytest-cov.pth')\n        dest = str(Path(self.build_lib) / Path(path).name)\n        self.copy_file(path, dest)\n\n\nclass EasyInstallWithPTH(easy_install):\n    def run(self, *args, **kwargs):\n        super().run(*args, **kwargs)\n        path = str(Path(__file__).parent / 'src' / 'pytest-cov.pth')\n        dest = str(Path(self.install_dir) / Path(path).name)\n        self.copy_file(path, dest)\n\n\nclass InstallLibWithPTH(install_lib):\n    def run(self, *args, **kwargs):\n        super().run(*args, **kwargs)\n        path = str(Path(__file__).parent / 'src' / 'pytest-cov.pth')\n        dest = str(Path(self.install_dir) / Path(path).name)\n        self.copy_file(path, dest)\n        self.outputs = [dest]\n\n    def get_outputs(self):\n        return chain(super().get_outputs(), self.outputs)\n\n\nclass DevelopWithPTH(develop):\n    def run(self, *args, **kwargs):\n        super().run(*args, **kwargs)\n        path = str(Path(__file__).parent / 'src' / 'pytest-cov.pth')\n        dest = str(Path(self.install_dir) / Path(path).name)\n        self.copy_file(path, dest)\n\n\nclass GeneratePTH(Command):\n    user_options = ()\n\n    def initialize_options(self):\n        pass\n\n    def finalize_options(self):\n        pass\n\n    def run(self):\n        with Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open('w') as fh:\n            with Path(__file__).parent.joinpath('src', 'pytest-cov.embed').open() as sh:\n                fh.write(f'import os, sys;exec({sh.read().replace(\"    \", \" \")!r})')\n\n\nsetup(\n    name='pytest-cov',\n    version='6.1.1',\n    license='MIT',\n    description='Pytest plugin for measuring coverage.',\n    long_description='{}\\n{}'.format(read('README.rst'), re.sub(':[a-z]+:`~?(.*?)`', r'``\\1``', read('CHANGELOG.rst'))),\n    author='Marc Schlaich',\n    author_email='marc.schlaich@gmail.com',\n    url='https://github.com/pytest-dev/pytest-cov',\n    packages=find_packages('src'),\n    package_dir={'': 'src'},\n    py_modules=[path.stem for path in Path('src').glob('*.py')],\n    include_package_data=True,\n    zip_safe=False,\n    classifiers=[\n        # complete classifier list: http://pypi.python.org/pypi?%3Aaction=list_classifiers\n        'Development Status :: 5 - Production/Stable',\n        'Framework :: Pytest',\n        'Intended Audience :: Developers',\n        'License :: OSI Approved :: MIT License',\n        'Operating System :: Microsoft :: Windows',\n        'Operating System :: POSIX',\n        'Operating System :: Unix',\n        'Programming Language :: Python',\n        'Programming Language :: Python :: 3',\n        'Programming Language :: Python :: 3 :: Only',\n        'Programming Language :: Python :: 3.9',\n        'Programming Language :: Python :: 3.10',\n        'Programming Language :: Python :: 3.11',\n        'Programming Language :: Python :: 3.12',\n        'Programming Language :: Python :: Implementation :: CPython',\n        'Programming Language :: Python :: Implementation :: PyPy',\n        'Topic :: Software Development :: Testing',\n        'Topic :: Utilities',\n    ],\n    project_urls={\n        'Documentation': 'https://pytest-cov.readthedocs.io/',\n        'Changelog': 'https://pytest-cov.readthedocs.io/en/latest/changelog.html',\n        'Issue Tracker': 'https://github.com/pytest-dev/pytest-cov/issues',\n    },\n    keywords=[\n        'cover',\n        'coverage',\n        'pytest',\n        'py.test',\n        'distributed',\n        'parallel',\n    ],\n    python_requires='>=3.9',\n    install_requires=[\n        'pytest>=4.6',\n        'coverage[toml]>=7.5',\n    ],\n    extras_require={\n        'testing': [\n            'fields',\n            'hunter',\n            'process-tests',\n            'pytest-xdist',\n            'virtualenv',\n        ]\n    },\n    entry_points={\n        'pytest11': [\n            'pytest_cov = pytest_cov.plugin',\n        ],\n    },\n    cmdclass={\n        'build': BuildWithPTH,\n        'easy_install': EasyInstallWithPTH,\n        'install_lib': InstallLibWithPTH,\n        'develop': DevelopWithPTH,\n        'genpth': GeneratePTH,\n    },\n)\n",
    "pattern_analysis": {
      "api_sequence": [
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "fh.read",
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "Path.__file__",
        "Path.parent",
        "Path.joinpath",
        "Path.open",
        "Path.glob",
        "find_packages",
        "read",
        "read",
        "re.sub"
      ],
      "api_sequence_with_args": [
        "Path(__file__)",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath(*names)",
        "Path(__file__).parent.joinpath(*names).open(encoding=kwargs.get('encoding', 'utf8'))",
        "fh.read()",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open('w')",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.embed')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.embed').open()",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open(encoding=kwargs.get('encoding', 'utf8'))",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open(encoding=kwargs.get('encoding', 'utf8'))",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open(encoding=kwargs.get('encoding', 'utf8'))",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open(encoding=kwargs.get('encoding', 'utf8'))",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open(encoding=kwargs.get('encoding', 'utf8'))",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open(encoding=kwargs.get('encoding', 'utf8'))",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open(encoding=kwargs.get('encoding', 'utf8'))",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open(encoding=kwargs.get('encoding', 'utf8'))",
        "Path(__file__).parent",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth')",
        "Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open(encoding=kwargs.get('encoding', 'utf8'))",
        "Path('src').glob('*.py')",
        "find_packages('src')",
        "read('README.rst')",
        "read('CHANGELOG.rst')",
        "re.sub(':[a-z]+:`~?(.*?)`', r'``\\1``', read('CHANGELOG.rst'))"
      ],
      "mapped_sequence": [
        {
          "api_name": "Path.open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "fh.read",
          "id": "basic_file_reading",
          "description": "Reading content from files (by lines or entire content)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_reading"
        },
        {
          "api_name": "Path.open",
          "id": "basic_write_operations",
          "description": "Basic file opening operations for writing (normal writing, binary writing)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "Path.open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "fh.write",
          "id": "basic_file_writing",
          "description": "Writing data to files (strings or bytes)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_writing"
        },
        {
          "api_name": "Path.glob",
          "id": "list_files_directories",
          "description": "Lists files and directories in specified path",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "directory_operations"
        },
        {
          "api_name": "find_packages",
          "id": "find_packages",
          "description": "Finds all packages in current directory",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "package_configuration"
        },
        {
          "api_name": "re.sub",
          "id": "compile_regex",
          "description": "Compiles regular expression pattern",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "code_compilation"
        }
      ],
      "contextual_code": "def read(*names, **kwargs):\n    with Path(__file__).parent.joinpath(*names).open(encoding=kwargs.get('encoding', 'utf8')) as fh:\n        return fh.read()\n\nclass GeneratePTH(Command):\n    user_options = ()\n\n    def initialize_options(self):\n        pass\n\n    def finalize_options(self):\n        pass\n\n    def run(self):\n        with Path(__file__).parent.joinpath('src', 'pytest-cov.pth').open('w') as fh:\n            with Path(__file__).parent.joinpath('src', 'pytest-cov.embed').open() as sh:\n                fh.write(f'import os, sys;exec({sh.read().replace(\"    \", \" \")!r})')\n\nsetup(\n    ...\n    long_description='{}\\n{}'.format(read('README.rst'), re.sub(':[a-z]+:`~?(.*?)`', r'``\\1``', read('CHANGELOG.rst'))),\n    packages=find_packages('src'),\n    py_modules=[path.stem for path in Path('src').glob('*.py')],\n    ...\n)"
    }
  },
  {
    "metadata": {
      "package_name": "pytest_cov-6.1.1",
      "total_matches": 1
    }
  }
]