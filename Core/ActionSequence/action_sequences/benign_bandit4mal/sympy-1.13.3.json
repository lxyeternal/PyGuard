[
  {
    "metadata": {
      "package_name": "sympy-1.13.3",
      "total_matches": 4,
      "processing_date": "2025-05-18 01:49:39"
    }
  },
  {
    "pyfile": "runtests.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/sympy-1.13.3/sympy-1.13.3/sympy/testing/runtests.py",
    "line_number": "2288",
    "type_description": "B815:write",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "2287\t            for e in self._xpassed:\n2288\t                self.write(\"%s: %s\\n\" % (e[0], e[1]))\n2289\t            self.write(\"\\n\")",
    "code_snippet": "def finish(self):\n    self._t_end = clock()\n    self.write(\"\\n\")\n    global text, linelen\n    text = \"tests finished: %d passed, \" % self._passed\n    linelen = len(text)\n\n    def add_text(mytext):\n        global text, linelen\n        \"\"\"Break new text if too long.\"\"\"\n        if linelen + len(mytext) > self.terminal_width:\n            text += '\\n'\n            linelen = 0\n        text += mytext\n        linelen += len(mytext)\n\n    if len(self._failed) > 0:\n        add_text(\"%d failed, \" % len(self._failed))\n    if len(self._failed_doctest) > 0:\n        add_text(\"%d failed, \" % len(self._failed_doctest))\n    if self._skipped > 0:\n        add_text(\"%d skipped, \" % self._skipped)\n    if self._xfailed > 0:\n        add_text(\"%d expected to fail, \" % self._xfailed)\n    if len(self._xpassed) > 0:\n        add_text(\"%d expected to fail but passed, \" % len(self._xpassed))\n    if len(self._exceptions) > 0:\n        add_text(\"%d exceptions, \" % len(self._exceptions))\n    add_text(\"in %.2f seconds\" % (self._t_end - self._t_start))\n\n    if self.slow_test_functions:\n        self.write_center('slowest tests', '_')\n        sorted_slow = sorted(self.slow_test_functions, key=lambda r: r[1])\n        for slow_func_name, taken in sorted_slow:\n            print('%s - Took %.3f seconds' % (slow_func_name, taken))\n\n    if self.fast_test_functions:\n        self.write_center('unexpectedly fast tests', '_')\n        sorted_fast = sorted(self.fast_test_functions,\n                             key=lambda r: r[1])\n        for fast_func_name, taken in sorted_fast:\n            print('%s - Took %.3f seconds' % (fast_func_name, taken))\n\n    if len(self._xpassed) > 0:\n        self.write_center(\"xpassed tests\", \"_\")\n        for e in self._xpassed:\n            self.write(\"%s: %s\\n\" % (e[0], e[1]))\n        self.write(\"\\n\")\n\n    if self._tb_style != \"no\" and len(self._exceptions) > 0:\n        for e in self._exceptions:\n            filename, f, (t, val, tb) = e\n            self.write_center(\"\", \"_\")\n            if f is None:\n                s = \"%s\" % filename\n            else:\n                s = \"%s:%s\" % (filename, f.__name__)\n            self.write_center(s, \"_\")\n            self.write_exception(t, val, tb)\n        self.write(\"\\n\")\n\n    if self._tb_style != \"no\" and len(self._failed) > 0:\n        for e in self._failed:\n            filename, f, (t, val, tb) = e\n            self.write_center(\"\", \"_\")\n            self.write_center(\"%s::%s\" % (filename, f.__name__), \"_\")\n            self.write_exception(t, val, tb)\n        self.write(\"\\n\")\n\n    if self._tb_style != \"no\" and len(self._failed_doctest) > 0:\n        for e in self._failed_doctest:\n            filename, msg = e\n            self.write_center(\"\", \"_\")\n            self.write_center(\"%s\" % filename, \"_\")\n            self.write(msg)\n        self.write(\"\\n\")\n\n    self.write_center(text)\n    ok = len(self._failed) == 0 and len(self._exceptions) == 0 and \\\n        len(self._failed_doctest) == 0\n    if not ok:\n        self.write(\"DO *NOT* COMMIT!\\n\")\n    return ok",
    "pattern_analysis": {
      "api_sequence": [
        "clock",
        "self.write",
        "len",
        "len",
        "len",
        "len",
        "len",
        "len",
        "len",
        "self.write_center",
        "sorted",
        "print",
        "self.write_center",
        "sorted",
        "print",
        "len",
        "self.write_center",
        "self.write",
        "self.write",
        "len",
        "self.write_center",
        "self.write_center",
        "self.write_exception",
        "self.write",
        "len",
        "self.write_center",
        "self.write_center",
        "self.write_exception",
        "self.write",
        "len",
        "self.write_center",
        "self.write_center",
        "self.write",
        "self.write",
        "self.write_center",
        "len",
        "len",
        "len",
        "self.write"
      ],
      "api_sequence_with_args": [
        "clock()",
        "self.write(\"\\n\")",
        "len(self._failed)",
        "len(self._failed_doctest)",
        "len(self._xpassed)",
        "len(self._exceptions)",
        "len(self._failed)",
        "len(self._exceptions)",
        "len(self._failed_doctest)",
        "self.write_center('slowest tests', '_')",
        "sorted(self.slow_test_functions, key=lambda r: r[1])",
        "print('%s - Took %.3f seconds' % (slow_func_name, taken))",
        "self.write_center('unexpectedly fast tests', '_')",
        "sorted(self.fast_test_functions, key=lambda r: r[1])",
        "print('%s - Took %.3f seconds' % (fast_func_name, taken))",
        "len(self._xpassed)",
        "self.write_center(\"xpassed tests\", \"_\")",
        "self.write(\"%s: %s\\n\" % (e[0], e[1]))",
        "self.write(\"\\n\")",
        "len(self._exceptions)",
        "self.write_center(\"\", \"_\")",
        "self.write_center(s, \"_\")",
        "self.write_exception(t, val, tb)",
        "self.write(\"\\n\")",
        "len(self._failed)",
        "self.write_center(\"\", \"_\")",
        "self.write_center(\"%s::%s\" % (filename, f.__name__), \"_\")",
        "self.write_exception(t, val, tb)",
        "self.write(\"\\n\")",
        "len(self._failed_doctest)",
        "self.write_center(\"\", \"_\")",
        "self.write_center(\"%s\" % filename, \"_\")",
        "self.write(msg)",
        "self.write(\"\\n\")",
        "self.write_center(text)",
        "len(self._failed)",
        "len(self._exceptions)",
        "len(self._failed_doctest)",
        "self.write(\"DO *NOT* COMMIT!\\n\")"
      ],
      "mapped_sequence": [
        {
          "api_name": "clock",
          "id": "get_current_time",
          "description": "Returns current time in seconds since epoch",
          "first_id": "system_operations",
          "second_id": "system_environment_operations",
          "third_id": "time_operations"
        },
        {
          "api_name": "self.write",
          "id": "basic_file_writing",
          "description": "Writing data to files (strings or bytes)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_writing"
        },
        {
          "api_name": "len",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "self.write_center",
          "id": "basic_file_writing",
          "description": "Writing data to files (strings or bytes)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_writing"
        },
        {
          "api_name": "sorted",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "print",
          "id": "basic_file_writing",
          "description": "Writing data to files (strings or bytes)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_writing"
        },
        {
          "api_name": "self.write_exception",
          "id": "log_error",
          "description": "Logs error message",
          "first_id": "data_exfiltration",
          "second_id": "data_collection_operations",
          "third_id": "data_acquisition"
        }
      ],
      "contextual_code": "def finish(self):\n    self._t_end = clock()\n    self.write(\"\\n\")\n    global text, linelen\n    text = \"tests finished: %d passed, \" % self._passed\n    linelen = len(text)\n\n    def add_text(mytext):\n        global text, linelen\n        if linelen + len(mytext) > self.terminal_width:\n            text += '\\n'\n            linelen = 0\n        text += mytext\n        linelen += len(mytext)\n\n    if len(self._failed) > 0:\n        add_text(\"%d failed, \" % len(self._failed))\n    if len(self._failed_doctest) > 0:\n        add_text(\"%d failed, \" % len(self._failed_doctest))\n    if self._skipped > 0:\n        add_text(\"%d skipped, \" % self._skipped)\n    if self._xfailed > 0:\n        add_text(\"%d expected to fail, \" % self._xfailed)\n    if len(self._xpassed) > 0:\n        add_text(\"%d expected to fail but passed, \" % len(self._xpassed))\n    if len(self._exceptions) > 0:\n        add_text(\"%d exceptions, \" % len(self._exceptions))\n    add_text(\"in %.2f seconds\" % (self._t_end - self._t_start))\n\n    if self.slow_test_functions:\n        self.write_center('slowest tests', '_')\n        sorted_slow = sorted(self.slow_test_functions, key=lambda r: r[1])\n        for slow_func_name, taken in sorted_slow:\n            print('%s - Took %.3f seconds' % (slow_func_name, taken))\n\n    if self.fast_test_functions:\n        self.write_center('unexpectedly fast tests', '_')\n        sorted_fast = sorted(self.fast_test_functions, key=lambda r: r[1])\n        for fast_func_name, taken in sorted_fast:\n            print('%s - Took %.3f seconds' % (fast_func_name, taken))\n\n    if len(self._xpassed) > 0:\n        self.write_center(\"xpassed tests\", \"_\")\n        for e in self._xpassed:\n            self.write(\"%s: %s\\n\" % (e[0], e[1]))\n        self.write(\"\\n\")\n\n    if self._tb_style != \"no\" and len(self._exceptions) > 0:\n        for e in self._exceptions:\n            filename, f, (t, val, tb) = e\n            self.write_center(\"\", \"_\")\n            if f is None:\n                s = \"%s\" % filename\n            else:\n                s = \"%s:%s\" % (filename, f.__name__)\n            self.write_center(s, \"_\")\n            self.write_exception(t, val, tb)\n        self.write(\"\\n\")\n\n    if self._tb_style != \"no\" and len(self._failed) > 0:\n        for e in self._failed:\n            filename, f, (t, val, tb) = e\n            self.write_center(\"\", \"_\")\n            self.write_center(\"%s::%s\" % (filename, f.__name__), \"_\")\n            self.write_exception(t, val, tb)\n        self.write(\"\\n\")\n\n    if self._tb_style != \"no\" and len(self._failed_doctest) > 0:\n        for e in self._failed_doctest:\n            filename, msg = e\n            self.write_center(\"\", \"_\")\n            self.write_center(\"%s\" % filename, \"_\")\n            self.write(msg)\n        self.write(\"\\n\")\n\n    self.write_center(text)\n    ok = len(self._failed) == 0 and len(self._exceptions) == 0 and \\\n        len(self._failed_doctest) == 0\n    if not ok:\n        self.write(\"DO *NOT* COMMIT!\\n\")\n    return ok"
    }
  },
  {
    "pyfile": "test_trigonometric.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/sympy-1.13.3/sympy-1.13.3/sympy/functions/elementary/tests/test_trigonometric.py",
    "line_number": "1577",
    "type_description": "B815:write",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "1576\t                    assert 1e-3 > abs(cos(x.evalf(5)) - c1.evalf(2)), \"fails for %d*pi/%d\" % (i, n)\n1577\t    assert cos(pi/14).rewrite(sqrt) == sqrt(cos(pi/7)/2 + S.Half)\n1578\t    assert cos(pi*Rational(-15, 2)/11, evaluate=False).rewrite(",
    "code_snippet": "@slow\ndef test_sincos_rewrite_sqrt():\n    # equivalent to testing rewrite(pow)\n    for p in [1, 3, 5, 17]:\n        for t in [1, 8]:\n            n = t*p\n            # The vertices `exp(i*pi/n)` of a regular `n`-gon can\n            # be expressed by means of nested square roots if and\n            # only if `n` is a product of Fermat primes, `p`, and\n            # powers of 2, `t'. The code aims to check all vertices\n            # not belonging to an `m`-gon for `m < n`(`gcd(i, n) == 1`).\n            # For large `n` this makes the test too slow, therefore\n            # the vertices are limited to those of index `i < 10`.\n            for i in range(1, min((n + 1)//2 + 1, 10)):\n                if 1 == gcd(i, n):\n                    x = i*pi/n\n                    s1 = sin(x).rewrite(sqrt)\n                    c1 = cos(x).rewrite(sqrt)\n                    assert not s1.has(cos, sin), \"fails for %d*pi/%d\" % (i, n)\n                    assert not c1.has(cos, sin), \"fails for %d*pi/%d\" % (i, n)\n                    assert 1e-3 > abs(sin(x.evalf(5)) - s1.evalf(2)), \"fails for %d*pi/%d\" % (i, n)\n                    assert 1e-3 > abs(cos(x.evalf(5)) - c1.evalf(2)), \"fails for %d*pi/%d\" % (i, n)\n    assert cos(pi/14).rewrite(sqrt) == sqrt(cos(pi/7)/2 + S.Half)\n    assert cos(pi*Rational(-15, 2)/11, evaluate=False).rewrite(\n        sqrt) == -sqrt(-cos(pi*Rational(4, 11))/2 + S.Half)\n    assert cos(Mul(2, pi, S.Half, evaluate=False), evaluate=False).rewrite(\n        sqrt) == -1\n    e = cos(pi/3/17)  # don't use pi/15 since that is caught at instantiation\n    a = (\n        -3*sqrt(-sqrt(17) + 17)*sqrt(sqrt(17) + 17)/64 -\n        3*sqrt(34)*sqrt(sqrt(17) + 17)/128 - sqrt(sqrt(17) +\n        17)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) + 17)\n        + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/64 - sqrt(-sqrt(17)\n        + 17)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) + 17)\n        + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/128 - Rational(1, 32) +\n        sqrt(2)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) +\n        17) + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/64 +\n        3*sqrt(2)*sqrt(sqrt(17) + 17)/128 + sqrt(34)*sqrt(-sqrt(17) + 17)/128\n        + 13*sqrt(2)*sqrt(-sqrt(17) + 17)/128 + sqrt(17)*sqrt(-sqrt(17) +\n        17)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) + 17)\n        + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/128 + 5*sqrt(17)/32\n        + sqrt(3)*sqrt(-sqrt(2)*sqrt(sqrt(17) + 17)*sqrt(sqrt(17)/32 +\n        sqrt(2)*sqrt(-sqrt(17) + 17)/32 +\n        sqrt(2)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) +\n        17) + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/32 + Rational(15, 32))/8 -\n        5*sqrt(2)*sqrt(sqrt(17)/32 + sqrt(2)*sqrt(-sqrt(17) + 17)/32 +\n        sqrt(2)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) +\n        17) + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/32 +\n        Rational(15, 32))*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) +\n        17) + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/64 -\n        3*sqrt(2)*sqrt(-sqrt(17) + 17)*sqrt(sqrt(17)/32 +\n        sqrt(2)*sqrt(-sqrt(17) + 17)/32 +\n        sqrt(2)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) +\n        17) + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/32 + Rational(15, 32))/32\n        + sqrt(34)*sqrt(sqrt(17)/32 + sqrt(2)*sqrt(-sqrt(17) + 17)/32 +\n        sqrt(2)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) +\n        17) + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/32 +\n        Rational(15, 32))*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) +\n        17) + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/64 +\n        sqrt(sqrt(17)/32 + sqrt(2)*sqrt(-sqrt(17) + 17)/32 +\n        sqrt(2)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) +\n        17) + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/32 + Rational(15, 32))/2 +\n        S.Half + sqrt(-sqrt(17) + 17)*sqrt(sqrt(17)/32 + sqrt(2)*sqrt(-sqrt(17) +\n        17)/32 + sqrt(2)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) -\n        sqrt(2)*sqrt(-sqrt(17) + 17) + sqrt(34)*sqrt(-sqrt(17) + 17) +\n        6*sqrt(17) + 34)/32 + Rational(15, 32))*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) -\n        sqrt(2)*sqrt(-sqrt(17) + 17) + sqrt(34)*sqrt(-sqrt(17) + 17) +\n        6*sqrt(17) + 34)/32 + sqrt(34)*sqrt(-sqrt(17) + 17)*sqrt(sqrt(17)/32 +\n        sqrt(2)*sqrt(-sqrt(17) + 17)/32 +\n        sqrt(2)*sqrt(-8*sqrt(2)*sqrt(sqrt(17) + 17) - sqrt(2)*sqrt(-sqrt(17) +\n        17) + sqrt(34)*sqrt(-sqrt(17) + 17) + 6*sqrt(17) + 34)/32 +\n        Rational(15, 32))/32)/2)\n    assert e.rewrite(sqrt) == a\n    assert e.n() == a.n()\n    # coverage of fermatCoords: multiplicity > 1; the following could be\n    # different but that portion of the code should be tested in some way\n    assert cos(pi/9/17).rewrite(sqrt) == \\\n        sin(pi/9)*sin(pi*Rational(2, 17)) + cos(pi/9)*cos(pi*Rational(2, 17))",
    "pattern_analysis": {
      "api_sequence": [
        "gcd",
        "sin.rewrite",
        "cos.rewrite",
        "s1.has",
        "c1.has",
        "sin.evalf",
        "s1.evalf",
        "cos.evalf",
        "c1.evalf",
        "cos.rewrite",
        "cos.rewrite",
        "cos.rewrite",
        "cos.rewrite",
        "e.rewrite",
        "e.n",
        "a.n"
      ],
      "api_sequence_with_args": [
        "gcd(i, n)",
        "sin(x).rewrite(sqrt)",
        "cos(x).rewrite(sqrt)",
        "s1.has(cos, sin)",
        "c1.has(cos, sin)",
        "sin(x.evalf(5))",
        "s1.evalf(2)",
        "cos(x.evalf(5))",
        "c1.evalf(2)",
        "cos(pi/14).rewrite(sqrt)",
        "cos(pi*Rational(-15, 2)/11, evaluate=False).rewrite(sqrt)",
        "cos(Mul(2, pi, S.Half, evaluate=False), evaluate=False).rewrite(sqrt)",
        "cos(pi/3/17).rewrite(sqrt)",
        "e.rewrite(sqrt)",
        "e.n()",
        "a.n()"
      ],
      "mapped_sequence": [
        {
          "api_name": "gcd",
          "id": "apply_lambda_pairs",
          "description": "Applies lambda to pairs from two lists",
          "first_id": "data_transformation_processing",
          "second_id": "function_application",
          "third_id": "lambda_application"
        },
        {
          "api_name": "sin.rewrite",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "cos.rewrite",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "s1.has",
          "id": "check_instance_type",
          "description": "Checks if object is instance of specified type",
          "first_id": "utility_functions",
          "second_id": "logging_exception_handling",
          "third_id": "exception_checking"
        },
        {
          "api_name": "c1.has",
          "id": "check_instance_type",
          "description": "Checks if object is instance of specified type",
          "first_id": "utility_functions",
          "second_id": "logging_exception_handling",
          "third_id": "exception_checking"
        },
        {
          "api_name": "sin.evalf",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "s1.evalf",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "cos.evalf",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "c1.evalf",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "cos.rewrite",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "cos.rewrite",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "cos.rewrite",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "cos.rewrite",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "e.rewrite",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "e.n",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        },
        {
          "api_name": "a.n",
          "id": "eval_python_expr",
          "description": "Evaluates string as Python expression",
          "first_id": "code_execution",
          "second_id": "code_evaluation_execution",
          "third_id": "string_execution"
        }
      ],
      "contextual_code": "def test_sincos_rewrite_sqrt():\n    for p in [1, 3, 5, 17]:\n        for t in [1, 8]:\n            n = t*p\n            for i in range(1, min((n + 1)//2 + 1, 10)):\n                if 1 == gcd(i, n):\n                    x = i*pi/n\n                    s1 = sin(x).rewrite(sqrt)\n                    c1 = cos(x).rewrite(sqrt)\n                    assert not s1.has(cos, sin), \"fails for %d*pi/%d\" % (i, n)\n                    assert not c1.has(cos, sin), \"fails for %d*pi/%d\" % (i, n)\n                    assert 1e-3 > abs(sin(x.evalf(5)) - s1.evalf(2)), \"fails for %d*pi/%d\" % (i, n)\n                    assert 1e-3 > abs(cos(x.evalf(5)) - c1.evalf(2)), \"fails for %d*pi/%d\" % (i, n)\n    assert cos(pi/14).rewrite(sqrt) == sqrt(cos(pi/7)/2 + S.Half)\n    assert cos(pi*Rational(-15, 2)/11, evaluate=False).rewrite(sqrt) == -sqrt(-cos(pi*Rational(4, 11))/2 + S.Half)\n    assert cos(Mul(2, pi, S.Half, evaluate=False), evaluate=False).rewrite(sqrt) == -1\n    e = cos(pi/3/17)\n    a = (...)\n    assert e.rewrite(sqrt) == a\n    assert e.n() == a.n()\n    assert cos(pi/9/17).rewrite(sqrt) == sin(pi/9)*sin(pi*Rational(2, 17)) + cos(pi/9)*cos(pi*Rational(2, 17))"
    }
  },
  {
    "pyfile": "bessel.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/sympy-1.13.3/sympy-1.13.3/sympy/functions/special/bessel.py",
    "line_number": "527",
    "type_description": "B815:write",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "526\t        if aj:\n527\t            return aj.rewrite(bessely)\n528",
    "code_snippet": "def _eval_rewrite_as_bessely(self, nu, z, **kwargs):\n    aj = self._eval_rewrite_as_besselj(*self.args)\n    if aj:\n        return aj.rewrite(bessely)",
    "pattern_analysis": {
      "api_sequence": [],
      "api_sequence_with_args": [],
      "mapped_sequence": [],
      "contextual_code": "def _eval_rewrite_as_bessely(self, nu, z, **kwargs):\n    aj = self._eval_rewrite_as_besselj(*self.args)\n    if aj:\n        return aj.rewrite(bessely)"
    }
  },
  {
    "pyfile": "test_systems.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/sympy-1.13.3/sympy-1.13.3/sympy/solvers/ode/tests/test_systems.py",
    "line_number": "211",
    "type_description": "B812:system",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "210\t            [  0, -3, 11], [  3,  0, -7], [-11,  7,  0]]), 'type_of_equation': 'type1', 'is_general': True}\n211\t    assert _classify_linear_system(eq11, funcs_2[:-1], t) == sol11\n212",
    "code_snippet": "def test__classify_linear_system():\n    x, y, z, w = symbols('x, y, z, w', cls=Function)\n    t, k, l = symbols('t k l')\n    x1 = diff(x(t), t)\n    y1 = diff(y(t), t)\n    z1 = diff(z(t), t)\n    w1 = diff(w(t), t)\n    x2 = diff(x(t), t, t)\n    y2 = diff(y(t), t, t)\n    funcs = [x(t), y(t)]\n    funcs_2 = funcs + [z(t), w(t)]\n\n    # ... (many test cases above) ...\n\n    eq11 = (Eq(x1, 3*y(t) - 11*z(t)), Eq(y1, 7*z(t) - 3*x(t)), Eq(z1, 11*x(t) - 7*y(t)))\n    sol11 = {'no_of_equation': 3, 'eq': (Eq(Derivative(x(t), t), 3*y(t) - 11*z(t)), Eq(Derivative(y(t), t), -3*x(t) + 7*z(t)),\n            Eq(Derivative(z(t), t), 11*x(t) - 7*y(t))), 'func': [x(t), y(t), z(t)], 'order': {x(t): 1, y(t): 1, z(t): 1},\n            'is_linear': True, 'is_constant': True, 'is_homogeneous': True, 'func_coeff': -Matrix([\n            [  0, -3, 11], [  3,  0, -7], [-11,  7,  0]]), 'type_of_equation': 'type1', 'is_general': True}\n    assert _classify_linear_system(eq11, funcs_2[:-1], t) == sol11",
    "pattern_analysis": {
      "api_sequence": [],
      "api_sequence_with_args": [],
      "mapped_sequence": [],
      "contextual_code": "def test__classify_linear_system():\n    x, y, z, w = symbols('x, y, z, w', cls=Function)\n    t, k, l = symbols('t k l')\n    x1 = diff(x(t), t)\n    y1 = diff(y(t), t)\n    z1 = diff(z(t), t)\n    w1 = diff(w(t), t)\n    x2 = diff(x(t), t, t)\n    y2 = diff(y(t), t, t)\n    funcs = [x(t), y(t)]\n    funcs_2 = funcs + [z(t), w(t)]\n\n    eq11 = (Eq(x1, 3*y(t) - 11*z(t)), Eq(y1, 7*z(t) - 3*x(t)), Eq(z1, 11*x(t) - 7*y(t)))\n    sol11 = {'no_of_equation': 3, 'eq': (Eq(Derivative(x(t), t), 3*y(t) - 11*z(t)), Eq(Derivative(y(t), t), -3*x(t) + 7*z(t)),\n            Eq(Derivative(z(t), t), 11*x(t) - 7*y(t))), 'func': [x(t), y(t), z(t)], 'order': {x(t): 1, y(t): 1, z(t): 1},\n            'is_linear': True, 'is_constant': True, 'is_homogeneous': True, 'func_coeff': -Matrix([\n            [  0, -3, 11], [  3,  0, -7], [-11,  7,  0]]), 'type_of_equation': 'type1', 'is_general': True}\n    assert _classify_linear_system(eq11, funcs_2[:-1], t) == sol11"
    }
  }
]