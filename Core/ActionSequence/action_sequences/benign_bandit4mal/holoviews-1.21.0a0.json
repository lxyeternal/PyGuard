[
  {
    "metadata": {
      "package_name": "holoviews-1.21.0a0",
      "total_matches": 1,
      "processing_date": "2025-05-18 01:49:39"
    }
  },
  {
    "pyfile": "command.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/holoviews-1.21.0a0/holoviews-1.21.0a0/holoviews/util/command.py",
    "line_number": "71",
    "type_description": "B814:read",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "70\t    with open(filename) as f:\n71\t        nb = nbformat.read(f, nbformat.NO_CONVERT)\n72\t        exporter = nbconvert.PythonExporter()",
    "code_snippet": "def export_to_python(filename=None, preprocessors=None):\n    if preprocessors is None:\n        preprocessors = _PREPROCESSORS.copy()\n    filename = filename if filename else sys.argv[1]\n    with open(filename) as f:\n        nb = nbformat.read(f, nbformat.NO_CONVERT)\n        exporter = nbconvert.PythonExporter()\n        for preprocessor in preprocessors:\n            exporter.register_preprocessor(preprocessor)\n        source, meta = exporter.from_notebook_node(nb)\n        return source",
    "pattern_analysis": {
      "api_sequence": [
        "sys.argv",
        "open",
        "nbformat.read",
        "nbconvert.PythonExporter",
        "nbconvert.PythonExporter.register_preprocessor",
        "nbconvert.PythonExporter.from_notebook_node"
      ],
      "api_sequence_with_args": [
        "sys.argv[1]",
        "open(filename)",
        "nbformat.read(f, nbformat.NO_CONVERT)",
        "nbconvert.PythonExporter()",
        "nbconvert.PythonExporter.register_preprocessor(preprocessor)",
        "nbconvert.PythonExporter.from_notebook_node(nb)"
      ],
      "mapped_sequence": [
        {
          "api_name": "sys.argv",
          "id": "get_cmd_args",
          "description": "Retrieves command-line arguments passed to script",
          "first_id": "information_gathering",
          "second_id": "system_information_collection",
          "third_id": "user_information"
        },
        {
          "api_name": "open",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        }
      ],
      "contextual_code": "def export_to_python(filename=None, preprocessors=None):\n    if preprocessors is None:\n        preprocessors = _PREPROCESSORS.copy()\n    filename = filename if filename else sys.argv[1]\n    with open(filename) as f:\n        nb = nbformat.read(f, nbformat.NO_CONVERT)\n        exporter = nbconvert.PythonExporter()\n        for preprocessor in preprocessors:\n            exporter.register_preprocessor(preprocessor)\n        source, meta = exporter.from_notebook_node(nb)\n        return source"
    }
  }
]