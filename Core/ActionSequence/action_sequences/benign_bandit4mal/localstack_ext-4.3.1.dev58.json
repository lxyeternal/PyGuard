[
  {
    "metadata": {
      "package_name": "localstack_ext-4.3.1.dev58",
      "total_matches": 1,
      "processing_date": "2025-05-18 01:49:40"
    }
  },
  {
    "pyfile": "pods_client.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/localstack_ext-4.3.1.dev58/localstack_ext-4.3.1.dev58/localstack/pro/core/bootstrap/pods_client.py",
    "line_number": "114",
    "type_description": "B835:load",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "113\t\t\tif H:F+=f\"&version={H}\"\n114\t\t\tI=_get_remote_params_payload(remote);I.update({'attributes':attributes});J=_get_headers()\n115\t\t\tif E:J[HEADER_POD_SECRET]=E",
    "code_snippet": "def save(C,pod_name,attributes=_A,remote=_A,local=_B,version=_A,secret=_A):\n    H=version;E=secret;D=pod_name;F=f\"{get_runtime_pods_endpoint(E)}/{D}?\"\n    if local:F+='&local=true'\n    if H:F+=f\"&version={H}\"\n    I=_get_remote_params_payload(remote);I.update({'attributes':attributes});J=_get_headers()\n    if E:J[HEADER_POD_SECRET]=E\n    B=requests.post(url=F,json=I,headers=J,stream=C.interactive)\n    if not B.ok:_raise_exception_with_formatted_message(f\"Unable to save pod {D}\",B)\n    G={}\n    if C.interactive:G=C._process_response(B,message=f\"Saving Cloud Pod {D}\")\n    else:\n        for A in B.iter_lines():\n            A=json.loads(A)\n            if A[_D]=='pod_info':G=PodInfo(**A['extra'])\n            elif A[_D]=='exception':raise Exception(A[_F])\n    return G",
    "pattern_analysis": {
      "api_sequence": [
        "get_runtime_pods_endpoint",
        "_get_remote_params_payload",
        "_get_headers",
        "requests.post",
        "json.loads"
      ],
      "api_sequence_with_args": [
        "get_runtime_pods_endpoint(E)",
        "_get_remote_params_payload(remote)",
        "_get_headers()",
        "requests.post(url=F, json=I, headers=J, stream=C.interactive)",
        "json.loads(A)"
      ],
      "mapped_sequence": [
        {
          "api_name": "get_runtime_pods_endpoint",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        },
        {
          "api_name": "_get_remote_params_payload",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        },
        {
          "api_name": "_get_headers",
          "id": "import_dynamic",
          "description": "Dynamically imports specified module",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "module_importing"
        },
        {
          "api_name": "requests.post",
          "id": "send_http_post",
          "description": "Sends HTTP POST request with data and parameters",
          "first_id": "basic_network_operations",
          "second_id": "http_requests",
          "third_id": "request_sending"
        },
        {
          "api_name": "json.loads",
          "id": "deserialize_from_json",
          "description": "Deserializes JSON string to Python object",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        }
      ],
      "contextual_code": "def save(C, pod_name, attributes=_A, remote=_A, local=_B, version=_A, secret=_A):\n    H = version\n    E = secret\n    D = pod_name\n    F = f\"{get_runtime_pods_endpoint(E)}/{D}?\"\n    if local:\n        F += '&local=true'\n    if H:\n        F += f\"&version={H}\"\n    I = _get_remote_params_payload(remote)\n    I.update({'attributes': attributes})\n    J = _get_headers()\n    if E:\n        J[HEADER_POD_SECRET] = E\n    B = requests.post(url=F, json=I, headers=J, stream=C.interactive)\n    if not B.ok:\n        _raise_exception_with_formatted_message(f\"Unable to save pod {D}\", B)\n    G = {}\n    if C.interactive:\n        G = C._process_response(B, message=f\"Saving Cloud Pod {D}\")\n    else:\n        for A in B.iter_lines():\n            A = json.loads(A)\n            if A[_D] == 'pod_info':\n                G = PodInfo(**A['extra'])\n            elif A[_D] == 'exception':\n                raise Exception(A[_F])\n    return G"
    }
  }
]