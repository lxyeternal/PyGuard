[
  {
    "metadata": {
      "package_name": "neptune-2.0.0a9",
      "total_matches": 1,
      "processing_date": "2025-05-18 01:49:39"
    }
  },
  {
    "pyfile": "swagger_client_wrapper.py",
    "full_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_benign/neptune-2.0.0a9/neptune-2.0.0a9/src/neptune/internal/backends/swagger_client_wrapper.py",
    "line_number": "76",
    "type_description": "B820:get",
    "severity": "High",
    "confidence": "Medium",
    "original_snippet": "75\t            \"PROJECT_NAME_COLLISION\": lambda response_body: ProjectNameCollision(\n76\t                key=response_body.get(\"key\", \"<unknown key>\")\n77\t            ),",
    "code_snippet": "    @staticmethod\n    def handle_neptune_http_errors(response, exception: Optional[HTTPError] = None):\n        from neptune.management.exceptions import (\n            ActiveProjectsLimitReachedException,\n            IncorrectIdentifierException,\n            ObjectNotFound,\n            ProjectKeyCollision,\n            ProjectKeyInvalid,\n            ProjectNameCollision,\n            ProjectNameInvalid,\n            ProjectPrivacyRestrictedException,\n            ProjectsLimitReached,\n        )\n\n        error_processors: Dict[str, Callable[[Dict], Exception]] = {\n            \"ATTRIBUTES_PER_EXPERIMENT_LIMIT_EXCEEDED\": lambda response_body: NeptuneFieldCountLimitExceedException(\n                limit=response_body.get(\"limit\", \"<unknown limit>\"),\n                container_type=response_body.get(\"experimentType\", \"object\"),\n                identifier=response_body.get(\"experimentQualifiedName\", \"<unknown identifier>\"),\n            ),\n            \"AUTHORIZATION_TOKEN_EXPIRED\": lambda _: NeptuneAuthTokenExpired(),\n            \"EXPERIMENT_NOT_FOUND\": lambda _: ObjectNotFound(),\n            \"INCORRECT_IDENTIFIER\": lambda response_body: IncorrectIdentifierException(\n                identifier=response_body.get(\"identifier\", \"<Unknown identifier>\")\n            ),\n            \"LIMIT_OF_PROJECTS_REACHED\": lambda _: ProjectsLimitReached(),\n            \"PROJECT_KEY_COLLISION\": lambda response_body: ProjectKeyCollision(\n                key=response_body.get(\"key\", \"<unknown key>\")\n            ),\n            \"PROJECT_KEY_INVALID\": lambda response_body: ProjectKeyInvalid(\n                key=response_body.get(\"key\", \"<unknown key>\"),\n                reason=response_body.get(\"reason\", \"Unknown reason\"),\n            ),\n            \"PROJECT_NAME_COLLISION\": lambda response_body: ProjectNameCollision(\n                key=response_body.get(\"key\", \"<unknown key>\")\n            ),\n            \"PROJECT_NAME_INVALID\": lambda response_body: ProjectNameInvalid(\n                name=response_body.get(\"name\", \"<unknown name>\")\n            ),\n            \"VISIBILITY_RESTRICTED\": lambda response_body: ProjectPrivacyRestrictedException(\n                requested=response_body.get(\"requestedValue\"),\n                allowed=response_body.get(\"allowedValues\"),\n            ),\n            \"WORKSPACE_IN_READ_ONLY_MODE\": lambda response_body: NeptuneLimitExceedException(\n                reason=response_body.get(\"title\", \"Unknown reason\")\n            ),\n            \"PROJECT_LIMITS_EXCEEDED\": lambda response_body: NeptuneLimitExceedException(\n                reason=response_body.get(\"title\", \"Unknown reason\")\n            ),\n            \"LIMIT_OF_ACTIVE_PROJECTS_REACHED\": lambda response_body: ActiveProjectsLimitReachedException(\n                currentQuota=response_body.get(\"currentQuota\", \"<unknown quota>\")\n            ),\n            \"WRITE_ACCESS_DENIED_TO_ARCHIVED_PROJECT\": lambda _: WritingToArchivedProjectException(),\n        }\n\n        body = ensure_json_response(response)\n        error_type: Optional[str] = body.get(\"errorType\")\n        error_processor = error_processors.get(error_type)\n        if error_processor:\n            if exception:\n                raise error_processor(body) from exception\n            raise error_processor(body)\n\n        if exception:\n            raise exception\n",
    "pattern_analysis": {
      "api_sequence": [
        "ensure_json_response",
        "dict.get",
        "dict.get",
        "dict.get",
        "dict.get"
      ],
      "api_sequence_with_args": [
        "ensure_json_response(response)",
        "body.get(\"errorType\")",
        "error_processors.get(error_type)",
        "error_processor(body)",
        "body.get(\"errorType\")"
      ],
      "mapped_sequence": [
        {
          "api_name": "ensure_json_response",
          "id": "deserialize_json_response",
          "description": "Deserializes JSON response body to Python object",
          "first_id": "basic_network_operations",
          "second_id": "http_requests",
          "third_id": "response_processing"
        },
        {
          "api_name": "dict.get",
          "id": "deserialize_from_json",
          "description": "Deserializes JSON string to Python object",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        },
        {
          "api_name": "dict.get",
          "id": "deserialize_from_json",
          "description": "Deserializes JSON string to Python object",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        },
        {
          "api_name": "dict.get",
          "id": "deserialize_from_json",
          "description": "Deserializes JSON string to Python object",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        },
        {
          "api_name": "dict.get",
          "id": "deserialize_from_json",
          "description": "Deserializes JSON string to Python object",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        }
      ],
      "contextual_code": "def handle_neptune_http_errors(response, exception: Optional[HTTPError] = None):\n    ...\n    body = ensure_json_response(response)\n    error_type: Optional[str] = body.get(\"errorType\")\n    error_processor = error_processors.get(error_type)\n    if error_processor:\n        if exception:\n            raise error_processor(body) from exception\n        raise error_processor(body)\n    if exception:\n        raise exception"
    }
  }
]